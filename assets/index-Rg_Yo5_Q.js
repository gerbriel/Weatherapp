(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();function H2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function $2(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var Zm={exports:{}},Nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function xj(){if(kb)return Nc;kb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:r,type:n,key:l,ref:a!==void 0?a:null,props:i}}return Nc.Fragment=e,Nc.jsx=t,Nc.jsxs=t,Nc}var Tb;function pj(){return Tb||(Tb=1,Zm.exports=xj()),Zm.exports}var c=pj(),eg={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb;function yj(){if(jb)return et;jb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),y=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=y&&K[y]||K["@@iterator"],typeof K=="function"?K:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function E(K,R,q){this.props=K,this.context=R,this.refs=S,this.updater=q||w}E.prototype.isReactComponent={},E.prototype.setState=function(K,R){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,R,"setState")},E.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function N(){}N.prototype=E.prototype;function T(K,R,q){this.props=K,this.context=R,this.refs=S,this.updater=q||w}var M=T.prototype=new N;M.constructor=T,_(M,E.prototype),M.isPureReactComponent=!0;var C=Array.isArray;function V(){}var D={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function O(K,R,q){var H=q.ref;return{$$typeof:r,type:K,key:R,ref:H!==void 0?H:null,props:q}}function Q(K,R){return O(K.type,R,K.props)}function W(K){return typeof K=="object"&&K!==null&&K.$$typeof===r}function Z(K){var R={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(q){return R[q]})}var xe=/\/+/g;function Fe(K,R){return typeof K=="object"&&K!==null&&K.key!=null?Z(""+K.key):R.toString(36)}function ke(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(V,V):(K.status="pending",K.then(function(R){K.status==="pending"&&(K.status="fulfilled",K.value=R)},function(R){K.status==="pending"&&(K.status="rejected",K.reason=R)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function te(K,R,q,H,G){var se=typeof K;(se==="undefined"||se==="boolean")&&(K=null);var J=!1;if(K===null)J=!0;else switch(se){case"bigint":case"string":case"number":J=!0;break;case"object":switch(K.$$typeof){case r:case e:J=!0;break;case g:return J=K._init,te(J(K._payload),R,q,H,G)}}if(J)return G=G(K),J=H===""?"."+Fe(K,0):H,C(G)?(q="",J!=null&&(q=J.replace(xe,"$&/")+"/"),te(G,R,q,"",function(je){return je})):G!=null&&(W(G)&&(G=Q(G,q+(G.key==null||K&&K.key===G.key?"":(""+G.key).replace(xe,"$&/")+"/")+J)),R.push(G)),1;J=0;var Se=H===""?".":H+":";if(C(K))for(var be=0;be<K.length;be++)H=K[be],se=Se+Fe(H,be),J+=te(H,R,q,se,G);else if(be=v(K),typeof be=="function")for(K=be.call(K),be=0;!(H=K.next()).done;)H=H.value,se=Se+Fe(H,be++),J+=te(H,R,q,se,G);else if(se==="object"){if(typeof K.then=="function")return te(ke(K),R,q,H,G);throw R=String(K),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return J}function ae(K,R,q){if(K==null)return K;var H=[],G=0;return te(K,H,"","",function(se){return R.call(q,se,G++)}),H}function Te(K){if(K._status===-1){var R=K._result;R=R(),R.then(function(q){(K._status===0||K._status===-1)&&(K._status=1,K._result=q)},function(q){(K._status===0||K._status===-1)&&(K._status=2,K._result=q)}),K._status===-1&&(K._status=0,K._result=R)}if(K._status===1)return K._result.default;throw K._result}var Oe=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},We={map:ae,forEach:function(K,R,q){ae(K,function(){R.apply(this,arguments)},q)},count:function(K){var R=0;return ae(K,function(){R++}),R},toArray:function(K){return ae(K,function(R){return R})||[]},only:function(K){if(!W(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return et.Activity=x,et.Children=We,et.Component=E,et.Fragment=t,et.Profiler=a,et.PureComponent=T,et.StrictMode=n,et.Suspense=h,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,et.__COMPILER_RUNTIME={__proto__:null,c:function(K){return D.H.useMemoCache(K)}},et.cache=function(K){return function(){return K.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function(K,R,q){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var H=_({},K.props),G=K.key;if(R!=null)for(se in R.key!==void 0&&(G=""+R.key),R)!Y.call(R,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&R.ref===void 0||(H[se]=R[se]);var se=arguments.length-2;if(se===1)H.children=q;else if(1<se){for(var J=Array(se),Se=0;Se<se;Se++)J[Se]=arguments[Se+2];H.children=J}return O(K.type,G,H)},et.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:i,_context:K},K},et.createElement=function(K,R,q){var H,G={},se=null;if(R!=null)for(H in R.key!==void 0&&(se=""+R.key),R)Y.call(R,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(G[H]=R[H]);var J=arguments.length-2;if(J===1)G.children=q;else if(1<J){for(var Se=Array(J),be=0;be<J;be++)Se[be]=arguments[be+2];G.children=Se}if(K&&K.defaultProps)for(H in J=K.defaultProps,J)G[H]===void 0&&(G[H]=J[H]);return O(K,se,G)},et.createRef=function(){return{current:null}},et.forwardRef=function(K){return{$$typeof:u,render:K}},et.isValidElement=W,et.lazy=function(K){return{$$typeof:g,_payload:{_status:-1,_result:K},_init:Te}},et.memo=function(K,R){return{$$typeof:f,type:K,compare:R===void 0?null:R}},et.startTransition=function(K){var R=D.T,q={};D.T=q;try{var H=K(),G=D.S;G!==null&&G(q,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(V,Oe)}catch(se){Oe(se)}finally{R!==null&&q.types!==null&&(R.types=q.types),D.T=R}},et.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},et.use=function(K){return D.H.use(K)},et.useActionState=function(K,R,q){return D.H.useActionState(K,R,q)},et.useCallback=function(K,R){return D.H.useCallback(K,R)},et.useContext=function(K){return D.H.useContext(K)},et.useDebugValue=function(){},et.useDeferredValue=function(K,R){return D.H.useDeferredValue(K,R)},et.useEffect=function(K,R){return D.H.useEffect(K,R)},et.useEffectEvent=function(K){return D.H.useEffectEvent(K)},et.useId=function(){return D.H.useId()},et.useImperativeHandle=function(K,R,q){return D.H.useImperativeHandle(K,R,q)},et.useInsertionEffect=function(K,R){return D.H.useInsertionEffect(K,R)},et.useLayoutEffect=function(K,R){return D.H.useLayoutEffect(K,R)},et.useMemo=function(K,R){return D.H.useMemo(K,R)},et.useOptimistic=function(K,R){return D.H.useOptimistic(K,R)},et.useReducer=function(K,R,q){return D.H.useReducer(K,R,q)},et.useRef=function(K){return D.H.useRef(K)},et.useState=function(K){return D.H.useState(K)},et.useSyncExternalStore=function(K,R,q){return D.H.useSyncExternalStore(K,R,q)},et.useTransition=function(){return D.H.useTransition()},et.version="19.2.0",et}var Ab;function Nx(){return Ab||(Ab=1,eg.exports=yj()),eg.exports}var I=Nx();const Ex=H2(I);var tg={exports:{}},Ec={},rg={exports:{}},ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function vj(){return Cb||(Cb=1,(function(r){function e(te,ae){var Te=te.length;te.push(ae);e:for(;0<Te;){var Oe=Te-1>>>1,We=te[Oe];if(0<a(We,ae))te[Oe]=ae,te[Te]=We,Te=Oe;else break e}}function t(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var ae=te[0],Te=te.pop();if(Te!==ae){te[0]=Te;e:for(var Oe=0,We=te.length,K=We>>>1;Oe<K;){var R=2*(Oe+1)-1,q=te[R],H=R+1,G=te[H];if(0>a(q,Te))H<We&&0>a(G,q)?(te[Oe]=G,te[H]=Te,Oe=H):(te[Oe]=q,te[R]=Te,Oe=R);else if(H<We&&0>a(G,Te))te[Oe]=G,te[H]=Te,Oe=H;else break e}}return ae}function a(te,ae){var Te=te.sortIndex-ae.sortIndex;return Te!==0?Te:te.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var h=[],f=[],g=1,x=null,y=3,v=!1,w=!1,_=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(te){for(var ae=t(f);ae!==null;){if(ae.callback===null)n(f);else if(ae.startTime<=te)n(f),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=t(f)}}function C(te){if(_=!1,M(te),!w)if(t(h)!==null)w=!0,V||(V=!0,Z());else{var ae=t(f);ae!==null&&ke(C,ae.startTime-te)}}var V=!1,D=-1,Y=5,O=-1;function Q(){return S?!0:!(r.unstable_now()-O<Y)}function W(){if(S=!1,V){var te=r.unstable_now();O=te;var ae=!0;try{e:{w=!1,_&&(_=!1,N(D),D=-1),v=!0;var Te=y;try{t:{for(M(te),x=t(h);x!==null&&!(x.expirationTime>te&&Q());){var Oe=x.callback;if(typeof Oe=="function"){x.callback=null,y=x.priorityLevel;var We=Oe(x.expirationTime<=te);if(te=r.unstable_now(),typeof We=="function"){x.callback=We,M(te),ae=!0;break t}x===t(h)&&n(h),M(te)}else n(h);x=t(h)}if(x!==null)ae=!0;else{var K=t(f);K!==null&&ke(C,K.startTime-te),ae=!1}}break e}finally{x=null,y=Te,v=!1}ae=void 0}}finally{ae?Z():V=!1}}}var Z;if(typeof T=="function")Z=function(){T(W)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Fe=xe.port2;xe.port1.onmessage=W,Z=function(){Fe.postMessage(null)}}else Z=function(){E(W,0)};function ke(te,ae){D=E(function(){te(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_next=function(te){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var Te=y;y=ae;try{return te()}finally{y=Te}},r.unstable_requestPaint=function(){S=!0},r.unstable_runWithPriority=function(te,ae){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var Te=y;y=te;try{return ae()}finally{y=Te}},r.unstable_scheduleCallback=function(te,ae,Te){var Oe=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Oe+Te:Oe):Te=Oe,te){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=Te+We,te={id:g++,callback:ae,priorityLevel:te,startTime:Te,expirationTime:We,sortIndex:-1},Te>Oe?(te.sortIndex=Te,e(f,te),t(h)===null&&te===t(f)&&(_?(N(D),D=-1):_=!0,ke(C,Te-Oe))):(te.sortIndex=We,e(h,te),w||v||(w=!0,V||(V=!0,Z()))),te},r.unstable_shouldYield=Q,r.unstable_wrapCallback=function(te){var ae=y;return function(){var Te=y;y=ae;try{return te.apply(this,arguments)}finally{y=Te}}}})(ng)),ng}var Ob;function bj(){return Ob||(Ob=1,rg.exports=vj()),rg.exports}var ag={exports:{}},Wr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function _j(){if(Rb)return Wr;Rb=1;var r=Nx();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(h,f,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:h,containerInfo:f,implementation:g}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Wr.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(h,f,null,g)},Wr.flushSync=function(h){var f=l.T,g=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=f,n.p=g,n.d.f()}},Wr.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(h,f))},Wr.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Wr.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?n.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:v}):g==="script"&&n.d.X(h,{crossOrigin:x,integrity:y,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Wr.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);n.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(h)},Wr.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin);n.d.L(h,g,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Wr.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=u(f.as,f.crossOrigin);n.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(h)},Wr.requestFormReset=function(h){n.d.r(h)},Wr.unstable_batchedUpdates=function(h,f){return h(f)},Wr.useFormState=function(h,f,g){return l.H.useFormState(h,f,g)},Wr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Wr.version="19.2.0",Wr}var Db;function wj(){if(Db)return ag.exports;Db=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ag.exports=_j(),ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function Sj(){if(Mb)return Ec;Mb=1;var r=bj(),e=Nx(),t=wj();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(i(s)!==s)throw Error(n(188))}function f(s){var o=s.alternate;if(!o){if(o=i(s),o===null)throw Error(n(188));return o!==s?null:s}for(var d=s,m=o;;){var p=d.return;if(p===null)break;var b=p.alternate;if(b===null){if(m=p.return,m!==null){d=m;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===d)return h(p),s;if(b===m)return h(p),o;b=b.sibling}throw Error(n(188))}if(d.return!==m.return)d=p,m=b;else{for(var k=!1,A=p.child;A;){if(A===d){k=!0,d=p,m=b;break}if(A===m){k=!0,m=p,d=b;break}A=A.sibling}if(!k){for(A=b.child;A;){if(A===d){k=!0,d=b,m=p;break}if(A===m){k=!0,m=b,d=p;break}A=A.sibling}if(!k)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:o}function g(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=g(s),o!==null)return o;s=s.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var xe=Symbol.for("react.client.reference");function Fe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===xe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case V:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case T:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return o=s.displayName||null,o!==null?o:Fe(s.type)||"Memo";case Y:o=s._payload,s=s._init;try{return Fe(s(o))}catch{}}return null}var ke=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Oe=[],We=-1;function K(s){return{current:s}}function R(s){0>We||(s.current=Oe[We],Oe[We]=null,We--)}function q(s,o){We++,Oe[We]=s.current,s.current=o}var H=K(null),G=K(null),se=K(null),J=K(null);function Se(s,o){switch(q(se,o),q(G,s),q(H,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?Kv(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=Kv(o),s=Xv(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}R(H),q(H,s)}function be(){R(H),R(G),R(se)}function je(s){s.memoizedState!==null&&q(J,s);var o=H.current,d=Xv(o,s.type);o!==d&&(q(G,s),q(H,d))}function ft(s){G.current===s&&(R(H),R(G)),J.current===s&&(R(J),bc._currentValue=Te)}var it,ar;function rt(s){if(it===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);it=o&&o[1]||"",ar=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+s+ar}var oe=!1;function Pe(s,o){if(!s||oe)return"";oe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ge){var he=ge}Reflect.construct(s,[],we)}else{try{we.call()}catch(ge){he=ge}s.call(we.prototype)}}else{try{throw Error()}catch(ge){he=ge}(we=s())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),k=b[0],A=b[1];if(k&&A){var X=k.split(`
`),le=A.split(`
`);for(p=m=0;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;for(;p<le.length&&!le[p].includes("DetermineComponentFrameRoot");)p++;if(m===X.length||p===le.length)for(m=X.length-1,p=le.length-1;1<=m&&0<=p&&X[m]!==le[p];)p--;for(;1<=m&&0<=p;m--,p--)if(X[m]!==le[p]){if(m!==1||p!==1)do if(m--,p--,0>p||X[m]!==le[p]){var ye=`
`+X[m].replace(" at new "," at ");return s.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",s.displayName)),ye}while(1<=m&&0<=p);break}}}finally{oe=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?rt(d):""}function Ee(s,o){switch(s.tag){case 26:case 27:case 5:return rt(s.type);case 16:return rt("Lazy");case 13:return s.child!==o&&o!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return Pe(s.type,!1);case 11:return Pe(s.type.render,!1);case 1:return Pe(s.type,!0);case 31:return rt("Activity");default:return""}}function Xe(s){try{var o="",d=null;do o+=Ee(s,d),d=s,s=s.return;while(s);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var vt=Object.prototype.hasOwnProperty,jt=r.unstable_scheduleCallback,Ht=r.unstable_cancelCallback,Vt=r.unstable_shouldYield,ut=r.unstable_requestPaint,F=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,Ge=r.unstable_ImmediatePriority,Je=r.unstable_UserBlockingPriority,bt=r.unstable_NormalPriority,Qe=r.unstable_LowPriority,Pt=r.unstable_IdlePriority,dr=r.log,pt=r.unstable_setDisableYieldValue,Yt=null,Ze=null;function mt(s){if(typeof dr=="function"&&pt(s),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(Yt,s)}catch{}}var nt=Math.clz32?Math.clz32:Zt,xr=Math.log,ao=Math.LN2;function Zt(s){return s>>>=0,s===0?32:31-(xr(s)/ao|0)|0}var si=256,so=262144,io=4194304;function Fn(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function oo(s,o,d){var m=s.pendingLanes;if(m===0)return 0;var p=0,b=s.suspendedLanes,k=s.pingedLanes;s=s.warmLanes;var A=m&134217727;return A!==0?(m=A&~b,m!==0?p=Fn(m):(k&=A,k!==0?p=Fn(k):d||(d=A&~s,d!==0&&(p=Fn(d))))):(A=m&~b,A!==0?p=Fn(A):k!==0?p=Fn(k):d||(d=m&~s,d!==0&&(p=Fn(d)))),p===0?0:o!==0&&o!==p&&(o&b)===0&&(b=p&-p,d=o&-o,b>=d||b===32&&(d&4194048)!==0)?o:p}function ii(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Vf(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uu(){var s=io;return io<<=1,(io&62914560)===0&&(io=4194304),s}function Dl(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function oi(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Wf(s,o,d,m,p,b){var k=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var A=s.entanglements,X=s.expirationTimes,le=s.hiddenUpdates;for(d=k&~d;0<d;){var ye=31-nt(d),we=1<<ye;A[ye]=0,X[ye]=-1;var he=le[ye];if(he!==null)for(le[ye]=null,ye=0;ye<he.length;ye++){var ge=he[ye];ge!==null&&(ge.lane&=-536870913)}d&=~we}m!==0&&zu(s,m,0),b!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=b&~(k&~o))}function zu(s,o,d){s.pendingLanes|=o,s.suspendedLanes&=~o;var m=31-nt(o);s.entangledLanes|=o,s.entanglements[m]=s.entanglements[m]|1073741824|d&261930}function lo(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var m=31-nt(d),p=1<<m;p&o|s[m]&o&&(s[m]|=o),d&=~p}}function Hu(s,o){var d=o&-o;return d=(d&42)!==0?1:Ml(d),(d&(s.suspendedLanes|o))!==0?0:d}function Ml(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Fl(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function j(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:vb(s.type))}function U(s,o){var d=ae.p;try{return ae.p=s,o()}finally{ae.p=d}}var L=Math.random().toString(36).slice(2),P="__reactFiber$"+L,B="__reactProps$"+L,z="__reactContainer$"+L,ce="__reactEvents$"+L,ve="__reactListeners$"+L,ue="__reactHandles$"+L,de="__reactResources$"+L,fe="__reactMarker$"+L;function Ae(s){delete s[P],delete s[B],delete s[ce],delete s[ve],delete s[ue]}function Re(s){var o=s[P];if(o)return o;for(var d=s.parentNode;d;){if(o=d[z]||d[P]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=nb(s);s!==null;){if(d=s[P])return d;s=nb(s)}return o}s=d,d=s.parentNode}return null}function Ie(s){if(s=s[P]||s[z]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Ce(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function Le(s){var o=s[de];return o||(o=s[de]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function He(s){s[fe]=!0}var Wt=new Set,qt={};function er(s,o){Ln(s,o),Ln(s+"Capture",o)}function Ln(s,o){for(qt[s]=o,s=0;s<o.length;s++)Wt.add(o[s])}var li=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gs={},ya={};function Ll(s){return vt.call(ya,s)?!0:vt.call(gs,s)?!1:li.test(s)?ya[s]=!0:(gs[s]=!0,!1)}function nn(s,o,d){if(Ll(o))if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+d)}}function $u(s,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+d)}}function Da(s,o,d,m){if(m===null)s.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(o,d,""+m)}}function Pn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function zp(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ck(s,o,d){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var p=m.get,b=m.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return p.call(this)},set:function(k){d=""+k,b.call(this,k)}}),Object.defineProperty(s,o,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function qf(s){if(!s._valueTracker){var o=zp(s)?"checked":"value";s._valueTracker=ck(s,o,""+s[o])}}function Hp(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),m="";return s&&(m=zp(s)?s.checked?"true":"false":s.value),s=m,s!==d?(o.setValue(s),!0):!1}function Vu(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var uk=/[\n"\\]/g;function In(s){return s.replace(uk,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Gf(s,o,d,m,p,b,k,A){s.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.type=k:s.removeAttribute("type"),o!=null?k==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Pn(o)):s.value!==""+Pn(o)&&(s.value=""+Pn(o)):k!=="submit"&&k!=="reset"||s.removeAttribute("value"),o!=null?Yf(s,k,Pn(o)):d!=null?Yf(s,k,Pn(d)):m!=null&&s.removeAttribute("value"),p==null&&b!=null&&(s.defaultChecked=!!b),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Pn(A):s.removeAttribute("name")}function $p(s,o,d,m,p,b,k,A){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),o!=null||d!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){qf(s);return}d=d!=null?""+Pn(d):"",o=o!=null?""+Pn(o):d,A||o===s.value||(s.value=o),s.defaultValue=o}m=m??p,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=A?s.checked:!!m,s.defaultChecked=!!m,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(s.name=k),qf(s)}function Yf(s,o,d){o==="number"&&Vu(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function co(s,o,d,m){if(s=s.options,o){o={};for(var p=0;p<d.length;p++)o["$"+d[p]]=!0;for(d=0;d<s.length;d++)p=o.hasOwnProperty("$"+s[d].value),s[d].selected!==p&&(s[d].selected=p),p&&m&&(s[d].defaultSelected=!0)}else{for(d=""+Pn(d),o=null,p=0;p<s.length;p++){if(s[p].value===d){s[p].selected=!0,m&&(s[p].defaultSelected=!0);return}o!==null||s[p].disabled||(o=s[p])}o!==null&&(o.selected=!0)}}function Vp(s,o,d){if(o!=null&&(o=""+Pn(o),o!==s.value&&(s.value=o),d==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=d!=null?""+Pn(d):""}function Wp(s,o,d,m){if(o==null){if(m!=null){if(d!=null)throw Error(n(92));if(ke(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),o=d}d=Pn(o),s.defaultValue=d,m=s.textContent,m===d&&m!==""&&m!==null&&(s.value=m),qf(s)}function uo(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var dk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qp(s,o,d){var m=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":m?s.setProperty(o,d):typeof d!="number"||d===0||dk.has(o)?o==="float"?s.cssFloat=d:s[o]=(""+d).trim():s[o]=d+"px"}function Gp(s,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var p in o)m=o[p],o.hasOwnProperty(p)&&d[p]!==m&&qp(s,p,m)}else for(var b in o)o.hasOwnProperty(b)&&qp(s,b,o[b])}function Kf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wu(s){return fk.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ma(){}var Xf=null;function Jf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ho=null,fo=null;function Yp(s){var o=Ie(s);if(o&&(s=o.stateNode)){var d=s[B]||null;e:switch(s=o.stateNode,o.type){case"input":if(Gf(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+In(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var m=d[o];if(m!==s&&m.form===s.form){var p=m[B]||null;if(!p)throw Error(n(90));Gf(m,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<d.length;o++)m=d[o],m.form===s.form&&Hp(m)}break e;case"textarea":Vp(s,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&co(s,!!d.multiple,o,!1)}}}var Qf=!1;function Kp(s,o,d){if(Qf)return s(o,d);Qf=!0;try{var m=s(o);return m}finally{if(Qf=!1,(ho!==null||fo!==null)&&(Rd(),ho&&(o=ho,s=fo,fo=ho=null,Yp(o),s)))for(o=0;o<s.length;o++)Yp(s[o])}}function Pl(s,o){var d=s.stateNode;if(d===null)return null;var m=d[B]||null;if(m===null)return null;d=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var Fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zf=!1;if(Fa)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){Zf=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Zf=!1}var xs=null,e0=null,qu=null;function Xp(){if(qu)return qu;var s,o=e0,d=o.length,m,p="value"in xs?xs.value:xs.textContent,b=p.length;for(s=0;s<d&&o[s]===p[s];s++);var k=d-s;for(m=1;m<=k&&o[d-m]===p[b-m];m++);return qu=p.slice(s,1<m?1-m:void 0)}function Gu(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Yu(){return!0}function Jp(){return!1}function an(s){function o(d,m,p,b,k){this._reactName=d,this._targetInst=p,this.type=m,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(d=s[A],this[A]=d?d(b):b[A]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Yu:Jp,this.isPropagationStopped=Jp,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),o}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ku=an(ci),Bl=x({},ci,{view:0,detail:0}),mk=an(Bl),t0,r0,Ul,Xu=x({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a0,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ul&&(Ul&&s.type==="mousemove"?(t0=s.screenX-Ul.screenX,r0=s.screenY-Ul.screenY):r0=t0=0,Ul=s),t0)},movementY:function(s){return"movementY"in s?s.movementY:r0}}),Qp=an(Xu),gk=x({},Xu,{dataTransfer:0}),xk=an(gk),pk=x({},Bl,{relatedTarget:0}),n0=an(pk),yk=x({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),vk=an(yk),bk=x({},ci,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_k=an(bk),wk=x({},ci,{data:0}),Zp=an(wk),Sk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ek={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kk(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Ek[s])?!!o[s]:!1}function a0(){return kk}var Tk=x({},Bl,{key:function(s){if(s.key){var o=Sk[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Gu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nk[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a0,charCode:function(s){return s.type==="keypress"?Gu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Gu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),jk=an(Tk),Ak=x({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ey=an(Ak),Ck=x({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a0}),Ok=an(Ck),Rk=x({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dk=an(Rk),Mk=x({},Xu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fk=an(Mk),Lk=x({},ci,{newState:0,oldState:0}),Pk=an(Lk),Ik=[9,13,27,32],s0=Fa&&"CompositionEvent"in window,zl=null;Fa&&"documentMode"in document&&(zl=document.documentMode);var Bk=Fa&&"TextEvent"in window&&!zl,ty=Fa&&(!s0||zl&&8<zl&&11>=zl),ry=" ",ny=!1;function ay(s,o){switch(s){case"keyup":return Ik.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var mo=!1;function Uk(s,o){switch(s){case"compositionend":return sy(o);case"keypress":return o.which!==32?null:(ny=!0,ry);case"textInput":return s=o.data,s===ry&&ny?null:s;default:return null}}function zk(s,o){if(mo)return s==="compositionend"||!s0&&ay(s,o)?(s=Xp(),qu=e0=xs=null,mo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ty&&o.locale!=="ko"?null:o.data;default:return null}}var Hk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Hk[s.type]:o==="textarea"}function oy(s,o,d,m){ho?fo?fo.push(m):fo=[m]:ho=m,o=Bd(o,"onChange"),0<o.length&&(d=new Ku("onChange","change",null,d,m),s.push({event:d,listeners:o}))}var Hl=null,$l=null;function $k(s){$v(s,0)}function Ju(s){var o=Ce(s);if(Hp(o))return s}function ly(s,o){if(s==="change")return o}var cy=!1;if(Fa){var i0;if(Fa){var o0="oninput"in document;if(!o0){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),o0=typeof uy.oninput=="function"}i0=o0}else i0=!1;cy=i0&&(!document.documentMode||9<document.documentMode)}function dy(){Hl&&(Hl.detachEvent("onpropertychange",hy),$l=Hl=null)}function hy(s){if(s.propertyName==="value"&&Ju($l)){var o=[];oy(o,$l,s,Jf(s)),Kp($k,o)}}function Vk(s,o,d){s==="focusin"?(dy(),Hl=o,$l=d,Hl.attachEvent("onpropertychange",hy)):s==="focusout"&&dy()}function Wk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ju($l)}function qk(s,o){if(s==="click")return Ju(o)}function Gk(s,o){if(s==="input"||s==="change")return Ju(o)}function Yk(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var bn=typeof Object.is=="function"?Object.is:Yk;function Vl(s,o){if(bn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),m=Object.keys(o);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var p=d[m];if(!vt.call(o,p)||!bn(s[p],o[p]))return!1}return!0}function fy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function my(s,o){var d=fy(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=o&&m>=o)return{node:d,offset:o-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=fy(d)}}function gy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?gy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function xy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Vu(s.document);o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=Vu(s.document)}return o}function l0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Kk=Fa&&"documentMode"in document&&11>=document.documentMode,go=null,c0=null,Wl=null,u0=!1;function py(s,o,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;u0||go==null||go!==Vu(m)||(m=go,"selectionStart"in m&&l0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Wl&&Vl(Wl,m)||(Wl=m,m=Bd(c0,"onSelect"),0<m.length&&(o=new Ku("onSelect","select",null,o,d),s.push({event:o,listeners:m}),o.target=go)))}function ui(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var xo={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionrun:ui("Transition","TransitionRun"),transitionstart:ui("Transition","TransitionStart"),transitioncancel:ui("Transition","TransitionCancel"),transitionend:ui("Transition","TransitionEnd")},d0={},yy={};Fa&&(yy=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function di(s){if(d0[s])return d0[s];if(!xo[s])return s;var o=xo[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in yy)return d0[s]=o[d];return s}var vy=di("animationend"),by=di("animationiteration"),_y=di("animationstart"),Xk=di("transitionrun"),Jk=di("transitionstart"),Qk=di("transitioncancel"),wy=di("transitionend"),Sy=new Map,h0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");h0.push("scrollEnd");function ra(s,o){Sy.set(s,o),er(o,[s])}var Qu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Bn=[],po=0,f0=0;function Zu(){for(var s=po,o=f0=po=0;o<s;){var d=Bn[o];Bn[o++]=null;var m=Bn[o];Bn[o++]=null;var p=Bn[o];Bn[o++]=null;var b=Bn[o];if(Bn[o++]=null,m!==null&&p!==null){var k=m.pending;k===null?p.next=p:(p.next=k.next,k.next=p),m.pending=p}b!==0&&Ny(d,p,b)}}function ed(s,o,d,m){Bn[po++]=s,Bn[po++]=o,Bn[po++]=d,Bn[po++]=m,f0|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function m0(s,o,d,m){return ed(s,o,d,m),td(s)}function hi(s,o){return ed(s,null,null,o),td(s)}function Ny(s,o,d){s.lanes|=d;var m=s.alternate;m!==null&&(m.lanes|=d);for(var p=!1,b=s.return;b!==null;)b.childLanes|=d,m=b.alternate,m!==null&&(m.childLanes|=d),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(p=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,p&&o!==null&&(p=31-nt(d),s=b.hiddenUpdates,m=s[p],m===null?s[p]=[o]:m.push(o),o.lane=d|536870912),b):null}function td(s){if(50<fc)throw fc=0,Sm=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var yo={};function Zk(s,o,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(s,o,d,m){return new Zk(s,o,d,m)}function g0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function La(s,o){var d=s.alternate;return d===null?(d=_n(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function Ey(s,o){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,o=d.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function rd(s,o,d,m,p,b){var k=0;if(m=s,typeof s=="function")g0(s)&&(k=1);else if(typeof s=="string")k=aj(s,d,H.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case O:return s=_n(31,d,o,p),s.elementType=O,s.lanes=b,s;case _:return fi(d.children,p,b,o);case S:k=8,p|=24;break;case E:return s=_n(12,d,o,p|2),s.elementType=E,s.lanes=b,s;case C:return s=_n(13,d,o,p),s.elementType=C,s.lanes=b,s;case V:return s=_n(19,d,o,p),s.elementType=V,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case T:k=10;break e;case N:k=9;break e;case M:k=11;break e;case D:k=14;break e;case Y:k=16,m=null;break e}k=29,d=Error(n(130,s===null?"null":typeof s,"")),m=null}return o=_n(k,d,o,p),o.elementType=s,o.type=m,o.lanes=b,o}function fi(s,o,d,m){return s=_n(7,s,m,o),s.lanes=d,s}function x0(s,o,d){return s=_n(6,s,null,o),s.lanes=d,s}function ky(s){var o=_n(18,null,null,0);return o.stateNode=s,o}function p0(s,o,d){return o=_n(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Ty=new WeakMap;function Un(s,o){if(typeof s=="object"&&s!==null){var d=Ty.get(s);return d!==void 0?d:(o={value:s,source:o,stack:Xe(o)},Ty.set(s,o),o)}return{value:s,source:o,stack:Xe(o)}}var vo=[],bo=0,nd=null,ql=0,zn=[],Hn=0,ps=null,va=1,ba="";function Pa(s,o){vo[bo++]=ql,vo[bo++]=nd,nd=s,ql=o}function jy(s,o,d){zn[Hn++]=va,zn[Hn++]=ba,zn[Hn++]=ps,ps=s;var m=va;s=ba;var p=32-nt(m)-1;m&=~(1<<p),d+=1;var b=32-nt(o)+p;if(30<b){var k=p-p%5;b=(m&(1<<k)-1).toString(32),m>>=k,p-=k,va=1<<32-nt(o)+p|d<<p|m,ba=b+s}else va=1<<b|d<<p|m,ba=s}function y0(s){s.return!==null&&(Pa(s,1),jy(s,1,0))}function v0(s){for(;s===nd;)nd=vo[--bo],vo[bo]=null,ql=vo[--bo],vo[bo]=null;for(;s===ps;)ps=zn[--Hn],zn[Hn]=null,ba=zn[--Hn],zn[Hn]=null,va=zn[--Hn],zn[Hn]=null}function Ay(s,o){zn[Hn++]=va,zn[Hn++]=ba,zn[Hn++]=ps,va=o.id,ba=o.overflow,ps=s}var Mr=null,Kt=null,yt=!1,ys=null,$n=!1,b0=Error(n(519));function vs(s){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(Un(o,s)),b0}function Cy(s){var o=s.stateNode,d=s.type,m=s.memoizedProps;switch(o[P]=s,o[B]=m,d){case"dialog":ht("cancel",o),ht("close",o);break;case"iframe":case"object":case"embed":ht("load",o);break;case"video":case"audio":for(d=0;d<gc.length;d++)ht(gc[d],o);break;case"source":ht("error",o);break;case"img":case"image":case"link":ht("error",o),ht("load",o);break;case"details":ht("toggle",o);break;case"input":ht("invalid",o),$p(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ht("invalid",o);break;case"textarea":ht("invalid",o),Wp(o,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||m.suppressHydrationWarning===!0||Gv(o.textContent,d)?(m.popover!=null&&(ht("beforetoggle",o),ht("toggle",o)),m.onScroll!=null&&ht("scroll",o),m.onScrollEnd!=null&&ht("scrollend",o),m.onClick!=null&&(o.onclick=Ma),o=!0):o=!1,o||vs(s,!0)}function Oy(s){for(Mr=s.return;Mr;)switch(Mr.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Mr=Mr.return}}function _o(s){if(s!==Mr)return!1;if(!yt)return Oy(s),yt=!0,!1;var o=s.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||Im(s.type,s.memoizedProps)),d=!d),d&&Kt&&vs(s),Oy(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Kt=rb(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Kt=rb(s)}else o===27?(o=Kt,Ds(s.type)?(s=$m,$m=null,Kt=s):Kt=o):Kt=Mr?Wn(s.stateNode.nextSibling):null;return!0}function mi(){Kt=Mr=null,yt=!1}function _0(){var s=ys;return s!==null&&(cn===null?cn=s:cn.push.apply(cn,s),ys=null),s}function Gl(s){ys===null?ys=[s]:ys.push(s)}var w0=K(null),gi=null,Ia=null;function bs(s,o,d){q(w0,o._currentValue),o._currentValue=d}function Ba(s){s._currentValue=w0.current,R(w0)}function S0(s,o,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===d)break;s=s.return}}function N0(s,o,d,m){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var b=p.dependencies;if(b!==null){var k=p.child;b=b.firstContext;e:for(;b!==null;){var A=b;b=p;for(var X=0;X<o.length;X++)if(A.context===o[X]){b.lanes|=d,A=b.alternate,A!==null&&(A.lanes|=d),S0(b.return,d,s),m||(k=null);break e}b=A.next}}else if(p.tag===18){if(k=p.return,k===null)throw Error(n(341));k.lanes|=d,b=k.alternate,b!==null&&(b.lanes|=d),S0(k,d,s),k=null}else k=p.child;if(k!==null)k.return=p;else for(k=p;k!==null;){if(k===s){k=null;break}if(p=k.sibling,p!==null){p.return=k.return,k=p;break}k=k.return}p=k}}function wo(s,o,d,m){s=null;for(var p=o,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var k=p.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var A=p.type;bn(p.pendingProps.value,k.value)||(s!==null?s.push(A):s=[A])}}else if(p===J.current){if(k=p.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(bc):s=[bc])}p=p.return}s!==null&&N0(o,s,d,m),o.flags|=262144}function ad(s){for(s=s.firstContext;s!==null;){if(!bn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function xi(s){gi=s,Ia=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Fr(s){return Ry(gi,s)}function sd(s,o){return gi===null&&xi(s),Ry(s,o)}function Ry(s,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Ia===null){if(s===null)throw Error(n(308));Ia=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Ia=Ia.next=o;return d}var eT=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(d,m){s.push(m)}};this.abort=function(){o.aborted=!0,s.forEach(function(d){return d()})}},tT=r.unstable_scheduleCallback,rT=r.unstable_NormalPriority,pr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function E0(){return{controller:new eT,data:new Map,refCount:0}}function Yl(s){s.refCount--,s.refCount===0&&tT(rT,function(){s.controller.abort()})}var Kl=null,k0=0,So=0,No=null;function nT(s,o){if(Kl===null){var d=Kl=[];k0=0,So=Am(),No={status:"pending",value:void 0,then:function(m){d.push(m)}}}return k0++,o.then(Dy,Dy),o}function Dy(){if(--k0===0&&Kl!==null){No!==null&&(No.status="fulfilled");var s=Kl;Kl=null,So=0,No=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function aT(s,o){var d=[],m={status:"pending",value:null,reason:null,then:function(p){d.push(p)}};return s.then(function(){m.status="fulfilled",m.value=o;for(var p=0;p<d.length;p++)(0,d[p])(o)},function(p){for(m.status="rejected",m.reason=p,p=0;p<d.length;p++)(0,d[p])(void 0)}),m}var My=te.S;te.S=function(s,o){pv=F(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&nT(s,o),My!==null&&My(s,o)};var pi=K(null);function T0(){var s=pi.current;return s!==null?s:$t.pooledCache}function id(s,o){o===null?q(pi,pi.current):q(pi,o.pool)}function Fy(){var s=T0();return s===null?null:{parent:pr._currentValue,pool:s}}var Eo=Error(n(460)),j0=Error(n(474)),od=Error(n(542)),ld={then:function(){}};function Ly(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Py(s,o,d){switch(d=s[d],d===void 0?s.push(o):d!==o&&(o.then(Ma,Ma),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,By(s),s;default:if(typeof o.status=="string")o.then(Ma,Ma);else{if(s=$t,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(m){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=m}},function(m){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,By(s),s}throw vi=o,Eo}}function yi(s){try{var o=s._init;return o(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(vi=d,Eo):d}}var vi=null;function Iy(){if(vi===null)throw Error(n(459));var s=vi;return vi=null,s}function By(s){if(s===Eo||s===od)throw Error(n(483))}var ko=null,Xl=0;function cd(s){var o=Xl;return Xl+=1,ko===null&&(ko=[]),Py(ko,s,o)}function Jl(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function ud(s,o){throw o.$$typeof===y?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Uy(s){function o(re,ee){if(s){var ie=re.deletions;ie===null?(re.deletions=[ee],re.flags|=16):ie.push(ee)}}function d(re,ee){if(!s)return null;for(;ee!==null;)o(re,ee),ee=ee.sibling;return null}function m(re){for(var ee=new Map;re!==null;)re.key!==null?ee.set(re.key,re):ee.set(re.index,re),re=re.sibling;return ee}function p(re,ee){return re=La(re,ee),re.index=0,re.sibling=null,re}function b(re,ee,ie){return re.index=ie,s?(ie=re.alternate,ie!==null?(ie=ie.index,ie<ee?(re.flags|=67108866,ee):ie):(re.flags|=67108866,ee)):(re.flags|=1048576,ee)}function k(re){return s&&re.alternate===null&&(re.flags|=67108866),re}function A(re,ee,ie,_e){return ee===null||ee.tag!==6?(ee=x0(ie,re.mode,_e),ee.return=re,ee):(ee=p(ee,ie),ee.return=re,ee)}function X(re,ee,ie,_e){var qe=ie.type;return qe===_?ye(re,ee,ie.props.children,_e,ie.key):ee!==null&&(ee.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===Y&&yi(qe)===ee.type)?(ee=p(ee,ie.props),Jl(ee,ie),ee.return=re,ee):(ee=rd(ie.type,ie.key,ie.props,null,re.mode,_e),Jl(ee,ie),ee.return=re,ee)}function le(re,ee,ie,_e){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ie.containerInfo||ee.stateNode.implementation!==ie.implementation?(ee=p0(ie,re.mode,_e),ee.return=re,ee):(ee=p(ee,ie.children||[]),ee.return=re,ee)}function ye(re,ee,ie,_e,qe){return ee===null||ee.tag!==7?(ee=fi(ie,re.mode,_e,qe),ee.return=re,ee):(ee=p(ee,ie),ee.return=re,ee)}function we(re,ee,ie){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=x0(""+ee,re.mode,ie),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return ie=rd(ee.type,ee.key,ee.props,null,re.mode,ie),Jl(ie,ee),ie.return=re,ie;case w:return ee=p0(ee,re.mode,ie),ee.return=re,ee;case Y:return ee=yi(ee),we(re,ee,ie)}if(ke(ee)||Z(ee))return ee=fi(ee,re.mode,ie,null),ee.return=re,ee;if(typeof ee.then=="function")return we(re,cd(ee),ie);if(ee.$$typeof===T)return we(re,sd(re,ee),ie);ud(re,ee)}return null}function he(re,ee,ie,_e){var qe=ee!==null?ee.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return qe!==null?null:A(re,ee,""+ie,_e);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return ie.key===qe?X(re,ee,ie,_e):null;case w:return ie.key===qe?le(re,ee,ie,_e):null;case Y:return ie=yi(ie),he(re,ee,ie,_e)}if(ke(ie)||Z(ie))return qe!==null?null:ye(re,ee,ie,_e,null);if(typeof ie.then=="function")return he(re,ee,cd(ie),_e);if(ie.$$typeof===T)return he(re,ee,sd(re,ie),_e);ud(re,ie)}return null}function ge(re,ee,ie,_e,qe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return re=re.get(ie)||null,A(ee,re,""+_e,qe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case v:return re=re.get(_e.key===null?ie:_e.key)||null,X(ee,re,_e,qe);case w:return re=re.get(_e.key===null?ie:_e.key)||null,le(ee,re,_e,qe);case Y:return _e=yi(_e),ge(re,ee,ie,_e,qe)}if(ke(_e)||Z(_e))return re=re.get(ie)||null,ye(ee,re,_e,qe,null);if(typeof _e.then=="function")return ge(re,ee,ie,cd(_e),qe);if(_e.$$typeof===T)return ge(re,ee,ie,sd(ee,_e),qe);ud(ee,_e)}return null}function ze(re,ee,ie,_e){for(var qe=null,wt=null,$e=ee,ot=ee=0,xt=null;$e!==null&&ot<ie.length;ot++){$e.index>ot?(xt=$e,$e=null):xt=$e.sibling;var St=he(re,$e,ie[ot],_e);if(St===null){$e===null&&($e=xt);break}s&&$e&&St.alternate===null&&o(re,$e),ee=b(St,ee,ot),wt===null?qe=St:wt.sibling=St,wt=St,$e=xt}if(ot===ie.length)return d(re,$e),yt&&Pa(re,ot),qe;if($e===null){for(;ot<ie.length;ot++)$e=we(re,ie[ot],_e),$e!==null&&(ee=b($e,ee,ot),wt===null?qe=$e:wt.sibling=$e,wt=$e);return yt&&Pa(re,ot),qe}for($e=m($e);ot<ie.length;ot++)xt=ge($e,re,ot,ie[ot],_e),xt!==null&&(s&&xt.alternate!==null&&$e.delete(xt.key===null?ot:xt.key),ee=b(xt,ee,ot),wt===null?qe=xt:wt.sibling=xt,wt=xt);return s&&$e.forEach(function(Is){return o(re,Is)}),yt&&Pa(re,ot),qe}function Ke(re,ee,ie,_e){if(ie==null)throw Error(n(151));for(var qe=null,wt=null,$e=ee,ot=ee=0,xt=null,St=ie.next();$e!==null&&!St.done;ot++,St=ie.next()){$e.index>ot?(xt=$e,$e=null):xt=$e.sibling;var Is=he(re,$e,St.value,_e);if(Is===null){$e===null&&($e=xt);break}s&&$e&&Is.alternate===null&&o(re,$e),ee=b(Is,ee,ot),wt===null?qe=Is:wt.sibling=Is,wt=Is,$e=xt}if(St.done)return d(re,$e),yt&&Pa(re,ot),qe;if($e===null){for(;!St.done;ot++,St=ie.next())St=we(re,St.value,_e),St!==null&&(ee=b(St,ee,ot),wt===null?qe=St:wt.sibling=St,wt=St);return yt&&Pa(re,ot),qe}for($e=m($e);!St.done;ot++,St=ie.next())St=ge($e,re,ot,St.value,_e),St!==null&&(s&&St.alternate!==null&&$e.delete(St.key===null?ot:St.key),ee=b(St,ee,ot),wt===null?qe=St:wt.sibling=St,wt=St);return s&&$e.forEach(function(gj){return o(re,gj)}),yt&&Pa(re,ot),qe}function Ut(re,ee,ie,_e){if(typeof ie=="object"&&ie!==null&&ie.type===_&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:e:{for(var qe=ie.key;ee!==null;){if(ee.key===qe){if(qe=ie.type,qe===_){if(ee.tag===7){d(re,ee.sibling),_e=p(ee,ie.props.children),_e.return=re,re=_e;break e}}else if(ee.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===Y&&yi(qe)===ee.type){d(re,ee.sibling),_e=p(ee,ie.props),Jl(_e,ie),_e.return=re,re=_e;break e}d(re,ee);break}else o(re,ee);ee=ee.sibling}ie.type===_?(_e=fi(ie.props.children,re.mode,_e,ie.key),_e.return=re,re=_e):(_e=rd(ie.type,ie.key,ie.props,null,re.mode,_e),Jl(_e,ie),_e.return=re,re=_e)}return k(re);case w:e:{for(qe=ie.key;ee!==null;){if(ee.key===qe)if(ee.tag===4&&ee.stateNode.containerInfo===ie.containerInfo&&ee.stateNode.implementation===ie.implementation){d(re,ee.sibling),_e=p(ee,ie.children||[]),_e.return=re,re=_e;break e}else{d(re,ee);break}else o(re,ee);ee=ee.sibling}_e=p0(ie,re.mode,_e),_e.return=re,re=_e}return k(re);case Y:return ie=yi(ie),Ut(re,ee,ie,_e)}if(ke(ie))return ze(re,ee,ie,_e);if(Z(ie)){if(qe=Z(ie),typeof qe!="function")throw Error(n(150));return ie=qe.call(ie),Ke(re,ee,ie,_e)}if(typeof ie.then=="function")return Ut(re,ee,cd(ie),_e);if(ie.$$typeof===T)return Ut(re,ee,sd(re,ie),_e);ud(re,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,ee!==null&&ee.tag===6?(d(re,ee.sibling),_e=p(ee,ie),_e.return=re,re=_e):(d(re,ee),_e=x0(ie,re.mode,_e),_e.return=re,re=_e),k(re)):d(re,ee)}return function(re,ee,ie,_e){try{Xl=0;var qe=Ut(re,ee,ie,_e);return ko=null,qe}catch($e){if($e===Eo||$e===od)throw $e;var wt=_n(29,$e,null,re.mode);return wt.lanes=_e,wt.return=re,wt}finally{}}}var bi=Uy(!0),zy=Uy(!1),_s=!1;function A0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function C0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ws(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ss(s,o,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Et&2)!==0){var p=m.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),m.pending=o,o=td(s),Ny(s,null,d),o}return ed(s,m,o,d),td(s)}function Ql(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var m=o.lanes;m&=s.pendingLanes,d|=m,o.lanes=d,lo(s,d)}}function O0(s,o){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var p=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};b===null?p=b=k:b=b.next=k,d=d.next}while(d!==null);b===null?p=b=o:b=b.next=o}else p=b=o;d={baseState:m.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}var R0=!1;function Zl(){if(R0){var s=No;if(s!==null)throw s}}function ec(s,o,d,m){R0=!1;var p=s.updateQueue;_s=!1;var b=p.firstBaseUpdate,k=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var X=A,le=X.next;X.next=null,k===null?b=le:k.next=le,k=X;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,A=ye.lastBaseUpdate,A!==k&&(A===null?ye.firstBaseUpdate=le:A.next=le,ye.lastBaseUpdate=X))}if(b!==null){var we=p.baseState;k=0,ye=le=X=null,A=b;do{var he=A.lane&-536870913,ge=he!==A.lane;if(ge?(gt&he)===he:(m&he)===he){he!==0&&he===So&&(R0=!0),ye!==null&&(ye=ye.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ze=s,Ke=A;he=o;var Ut=d;switch(Ke.tag){case 1:if(ze=Ke.payload,typeof ze=="function"){we=ze.call(Ut,we,he);break e}we=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ke.payload,he=typeof ze=="function"?ze.call(Ut,we,he):ze,he==null)break e;we=x({},we,he);break e;case 2:_s=!0}}he=A.callback,he!==null&&(s.flags|=64,ge&&(s.flags|=8192),ge=p.callbacks,ge===null?p.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ye===null?(le=ye=ge,X=we):ye=ye.next=ge,k|=he;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;ge=A,A=ge.next,ge.next=null,p.lastBaseUpdate=ge,p.shared.pending=null}}while(!0);ye===null&&(X=we),p.baseState=X,p.firstBaseUpdate=le,p.lastBaseUpdate=ye,b===null&&(p.shared.lanes=0),js|=k,s.lanes=k,s.memoizedState=we}}function Hy(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function $y(s,o){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)Hy(d[s],o)}var To=K(null),dd=K(0);function Vy(s,o){s=Ya,q(dd,s),q(To,o),Ya=s|o.baseLanes}function D0(){q(dd,Ya),q(To,To.current)}function M0(){Ya=dd.current,R(To),R(dd)}var wn=K(null),Vn=null;function Ns(s){var o=s.alternate;q(hr,hr.current&1),q(wn,s),Vn===null&&(o===null||To.current!==null||o.memoizedState!==null)&&(Vn=s)}function F0(s){q(hr,hr.current),q(wn,s),Vn===null&&(Vn=s)}function Wy(s){s.tag===22?(q(hr,hr.current),q(wn,s),Vn===null&&(Vn=s)):Es()}function Es(){q(hr,hr.current),q(wn,wn.current)}function Sn(s){R(wn),Vn===s&&(Vn=null),R(hr)}var hr=K(0);function hd(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||zm(d)||Hm(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ua=0,at=null,It=null,yr=null,fd=!1,jo=!1,_i=!1,md=0,tc=0,Ao=null,sT=0;function ir(){throw Error(n(321))}function L0(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!bn(s[d],o[d]))return!1;return!0}function P0(s,o,d,m,p,b){return Ua=b,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,te.H=s===null||s.memoizedState===null?j1:Q0,_i=!1,b=d(m,p),_i=!1,jo&&(b=Gy(o,d,m,p)),qy(s),b}function qy(s){te.H=ac;var o=It!==null&&It.next!==null;if(Ua=0,yr=It=at=null,fd=!1,tc=0,Ao=null,o)throw Error(n(300));s===null||vr||(s=s.dependencies,s!==null&&ad(s)&&(vr=!0))}function Gy(s,o,d,m){at=s;var p=0;do{if(jo&&(Ao=null),tc=0,jo=!1,25<=p)throw Error(n(301));if(p+=1,yr=It=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}te.H=A1,b=o(d,m)}while(jo);return b}function iT(){var s=te.H,o=s.useState()[0];return o=typeof o.then=="function"?rc(o):o,s=s.useState()[0],(It!==null?It.memoizedState:null)!==s&&(at.flags|=1024),o}function I0(){var s=md!==0;return md=0,s}function B0(s,o,d){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~d}function U0(s){if(fd){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}fd=!1}Ua=0,yr=It=at=null,jo=!1,tc=md=0,Ao=null}function Zr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?at.memoizedState=yr=s:yr=yr.next=s,yr}function fr(){if(It===null){var s=at.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var o=yr===null?at.memoizedState:yr.next;if(o!==null)yr=o,It=s;else{if(s===null)throw at.alternate===null?Error(n(467)):Error(n(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},yr===null?at.memoizedState=yr=s:yr=yr.next=s}return yr}function gd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(s){var o=tc;return tc+=1,Ao===null&&(Ao=[]),s=Py(Ao,s,o),o=at,(yr===null?o.memoizedState:yr.next)===null&&(o=o.alternate,te.H=o===null||o.memoizedState===null?j1:Q0),s}function xd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return rc(s);if(s.$$typeof===T)return Fr(s)}throw Error(n(438,String(s)))}function z0(s){var o=null,d=at.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var m=at.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=gd(),at.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(s),m=0;m<s;m++)d[m]=Q;return o.index++,d}function za(s,o){return typeof o=="function"?o(s):o}function pd(s){var o=fr();return H0(o,It,s)}function H0(s,o,d){var m=s.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=d;var p=s.baseQueue,b=m.pending;if(b!==null){if(p!==null){var k=p.next;p.next=b.next,b.next=k}o.baseQueue=p=b,m.pending=null}if(b=s.baseState,p===null)s.memoizedState=b;else{o=p.next;var A=k=null,X=null,le=o,ye=!1;do{var we=le.lane&-536870913;if(we!==le.lane?(gt&we)===we:(Ua&we)===we){var he=le.revertLane;if(he===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),we===So&&(ye=!0);else if((Ua&he)===he){le=le.next,he===So&&(ye=!0);continue}else we={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(A=X=we,k=b):X=X.next=we,at.lanes|=he,js|=he;we=le.action,_i&&d(b,we),b=le.hasEagerState?le.eagerState:d(b,we)}else he={lane:we,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(A=X=he,k=b):X=X.next=he,at.lanes|=we,js|=we;le=le.next}while(le!==null&&le!==o);if(X===null?k=b:X.next=A,!bn(b,s.memoizedState)&&(vr=!0,ye&&(d=No,d!==null)))throw d;s.memoizedState=b,s.baseState=k,s.baseQueue=X,m.lastRenderedState=b}return p===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function $0(s){var o=fr(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=d.dispatch,p=d.pending,b=o.memoizedState;if(p!==null){d.pending=null;var k=p=p.next;do b=s(b,k.action),k=k.next;while(k!==p);bn(b,o.memoizedState)||(vr=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),d.lastRenderedState=b}return[b,m]}function Yy(s,o,d){var m=at,p=fr(),b=yt;if(b){if(d===void 0)throw Error(n(407));d=d()}else d=o();var k=!bn((It||p).memoizedState,d);if(k&&(p.memoizedState=d,vr=!0),p=p.queue,q0(Jy.bind(null,m,p,s),[s]),p.getSnapshot!==o||k||yr!==null&&yr.memoizedState.tag&1){if(m.flags|=2048,Co(9,{destroy:void 0},Xy.bind(null,m,p,d,o),null),$t===null)throw Error(n(349));b||(Ua&127)!==0||Ky(m,o,d)}return d}function Ky(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=at.updateQueue,o===null?(o=gd(),at.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function Xy(s,o,d,m){o.value=d,o.getSnapshot=m,Qy(o)&&Zy(s)}function Jy(s,o,d){return d(function(){Qy(o)&&Zy(s)})}function Qy(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!bn(s,d)}catch{return!0}}function Zy(s){var o=hi(s,2);o!==null&&un(o,s,2)}function V0(s){var o=Zr();if(typeof s=="function"){var d=s;if(s=d(),_i){mt(!0);try{d()}finally{mt(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:s},o}function e1(s,o,d,m){return s.baseState=d,H0(s,It,typeof m=="function"?m:za)}function oT(s,o,d,m,p){if(bd(s))throw Error(n(485));if(s=o.action,s!==null){var b={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};te.T!==null?d(!0):b.isTransition=!1,m(b),d=o.pending,d===null?(b.next=o.pending=b,t1(o,b)):(b.next=d.next,o.pending=d.next=b)}}function t1(s,o){var d=o.action,m=o.payload,p=s.state;if(o.isTransition){var b=te.T,k={};te.T=k;try{var A=d(p,m),X=te.S;X!==null&&X(k,A),r1(s,o,A)}catch(le){W0(s,o,le)}finally{b!==null&&k.types!==null&&(b.types=k.types),te.T=b}}else try{b=d(p,m),r1(s,o,b)}catch(le){W0(s,o,le)}}function r1(s,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){n1(s,o,m)},function(m){return W0(s,o,m)}):n1(s,o,d)}function n1(s,o,d){o.status="fulfilled",o.value=d,a1(o),s.state=d,o=s.pending,o!==null&&(d=o.next,d===o?s.pending=null:(d=d.next,o.next=d,t1(s,d)))}function W0(s,o,d){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=d,a1(o),o=o.next;while(o!==m)}s.action=null}function a1(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function s1(s,o){return o}function i1(s,o){if(yt){var d=$t.formState;if(d!==null){e:{var m=at;if(yt){if(Kt){t:{for(var p=Kt,b=$n;p.nodeType!==8;){if(!b){p=null;break t}if(p=Wn(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){Kt=Wn(p.nextSibling),m=p.data==="F!";break e}}vs(m)}m=!1}m&&(o=d[0])}}return d=Zr(),d.memoizedState=d.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s1,lastRenderedState:o},d.queue=m,d=E1.bind(null,at,m),m.dispatch=d,m=V0(!1),b=J0.bind(null,at,!1,m.queue),m=Zr(),p={state:o,dispatch:null,action:s,pending:null},m.queue=p,d=oT.bind(null,at,p,b,d),p.dispatch=d,m.memoizedState=s,[o,d,!1]}function o1(s){var o=fr();return l1(o,It,s)}function l1(s,o,d){if(o=H0(s,o,s1)[0],s=pd(za)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=rc(o)}catch(k){throw k===Eo?od:k}else m=o;o=fr();var p=o.queue,b=p.dispatch;return d!==o.memoizedState&&(at.flags|=2048,Co(9,{destroy:void 0},lT.bind(null,p,d),null)),[m,b,s]}function lT(s,o){s.action=o}function c1(s){var o=fr(),d=It;if(d!==null)return l1(o,d,s);fr(),o=o.memoizedState,d=fr();var m=d.queue.dispatch;return d.memoizedState=s,[o,m,!1]}function Co(s,o,d,m){return s={tag:s,create:d,deps:m,inst:o,next:null},o=at.updateQueue,o===null&&(o=gd(),at.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,o.lastEffect=s),s}function u1(){return fr().memoizedState}function yd(s,o,d,m){var p=Zr();at.flags|=s,p.memoizedState=Co(1|o,{destroy:void 0},d,m===void 0?null:m)}function vd(s,o,d,m){var p=fr();m=m===void 0?null:m;var b=p.memoizedState.inst;It!==null&&m!==null&&L0(m,It.memoizedState.deps)?p.memoizedState=Co(o,b,d,m):(at.flags|=s,p.memoizedState=Co(1|o,b,d,m))}function d1(s,o){yd(8390656,8,s,o)}function q0(s,o){vd(2048,8,s,o)}function cT(s){at.flags|=4;var o=at.updateQueue;if(o===null)o=gd(),at.updateQueue=o,o.events=[s];else{var d=o.events;d===null?o.events=[s]:d.push(s)}}function h1(s){var o=fr().memoizedState;return cT({ref:o,nextImpl:s}),function(){if((Et&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function f1(s,o){return vd(4,2,s,o)}function m1(s,o){return vd(4,4,s,o)}function g1(s,o){if(typeof o=="function"){s=s();var d=o(s);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function x1(s,o,d){d=d!=null?d.concat([s]):null,vd(4,4,g1.bind(null,o,s),d)}function G0(){}function p1(s,o){var d=fr();o=o===void 0?null:o;var m=d.memoizedState;return o!==null&&L0(o,m[1])?m[0]:(d.memoizedState=[s,o],s)}function y1(s,o){var d=fr();o=o===void 0?null:o;var m=d.memoizedState;if(o!==null&&L0(o,m[1]))return m[0];if(m=s(),_i){mt(!0);try{s()}finally{mt(!1)}}return d.memoizedState=[m,o],m}function Y0(s,o,d){return d===void 0||(Ua&1073741824)!==0&&(gt&261930)===0?s.memoizedState=o:(s.memoizedState=d,s=vv(),at.lanes|=s,js|=s,d)}function v1(s,o,d,m){return bn(d,o)?d:To.current!==null?(s=Y0(s,d,m),bn(s,o)||(vr=!0),s):(Ua&42)===0||(Ua&1073741824)!==0&&(gt&261930)===0?(vr=!0,s.memoizedState=d):(s=vv(),at.lanes|=s,js|=s,o)}function b1(s,o,d,m,p){var b=ae.p;ae.p=b!==0&&8>b?b:8;var k=te.T,A={};te.T=A,J0(s,!1,o,d);try{var X=p(),le=te.S;if(le!==null&&le(A,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var ye=aT(X,m);nc(s,o,ye,kn(s))}else nc(s,o,m,kn(s))}catch(we){nc(s,o,{then:function(){},status:"rejected",reason:we},kn())}finally{ae.p=b,k!==null&&A.types!==null&&(k.types=A.types),te.T=k}}function uT(){}function K0(s,o,d,m){if(s.tag!==5)throw Error(n(476));var p=_1(s).queue;b1(s,p,o,Te,d===null?uT:function(){return w1(s),d(m)})}function _1(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:Te},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:d},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function w1(s){var o=_1(s);o.next===null&&(o=s.alternate.memoizedState),nc(s,o.next.queue,{},kn())}function X0(){return Fr(bc)}function S1(){return fr().memoizedState}function N1(){return fr().memoizedState}function dT(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var d=kn();s=ws(d);var m=Ss(o,s,d);m!==null&&(un(m,o,d),Ql(m,o,d)),o={cache:E0()},s.payload=o;return}o=o.return}}function hT(s,o,d){var m=kn();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},bd(s)?k1(o,d):(d=m0(s,o,d,m),d!==null&&(un(d,s,m),T1(d,o,m)))}function E1(s,o,d){var m=kn();nc(s,o,d,m)}function nc(s,o,d,m){var p={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(bd(s))k1(o,p);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var k=o.lastRenderedState,A=b(k,d);if(p.hasEagerState=!0,p.eagerState=A,bn(A,k))return ed(s,o,p,0),$t===null&&Zu(),!1}catch{}finally{}if(d=m0(s,o,p,m),d!==null)return un(d,s,m),T1(d,o,m),!0}return!1}function J0(s,o,d,m){if(m={lane:2,revertLane:Am(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},bd(s)){if(o)throw Error(n(479))}else o=m0(s,d,m,2),o!==null&&un(o,s,2)}function bd(s){var o=s.alternate;return s===at||o!==null&&o===at}function k1(s,o){jo=fd=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function T1(s,o,d){if((d&4194048)!==0){var m=o.lanes;m&=s.pendingLanes,d|=m,o.lanes=d,lo(s,d)}}var ac={readContext:Fr,use:xd,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useLayoutEffect:ir,useInsertionEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useSyncExternalStore:ir,useId:ir,useHostTransitionStatus:ir,useFormState:ir,useActionState:ir,useOptimistic:ir,useMemoCache:ir,useCacheRefresh:ir};ac.useEffectEvent=ir;var j1={readContext:Fr,use:xd,useCallback:function(s,o){return Zr().memoizedState=[s,o===void 0?null:o],s},useContext:Fr,useEffect:d1,useImperativeHandle:function(s,o,d){d=d!=null?d.concat([s]):null,yd(4194308,4,g1.bind(null,o,s),d)},useLayoutEffect:function(s,o){return yd(4194308,4,s,o)},useInsertionEffect:function(s,o){yd(4,2,s,o)},useMemo:function(s,o){var d=Zr();o=o===void 0?null:o;var m=s();if(_i){mt(!0);try{s()}finally{mt(!1)}}return d.memoizedState=[m,o],m},useReducer:function(s,o,d){var m=Zr();if(d!==void 0){var p=d(o);if(_i){mt(!0);try{d(o)}finally{mt(!1)}}}else p=o;return m.memoizedState=m.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},m.queue=s,s=s.dispatch=hT.bind(null,at,s),[m.memoizedState,s]},useRef:function(s){var o=Zr();return s={current:s},o.memoizedState=s},useState:function(s){s=V0(s);var o=s.queue,d=E1.bind(null,at,o);return o.dispatch=d,[s.memoizedState,d]},useDebugValue:G0,useDeferredValue:function(s,o){var d=Zr();return Y0(d,s,o)},useTransition:function(){var s=V0(!1);return s=b1.bind(null,at,s.queue,!0,!1),Zr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,d){var m=at,p=Zr();if(yt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),$t===null)throw Error(n(349));(gt&127)!==0||Ky(m,o,d)}p.memoizedState=d;var b={value:d,getSnapshot:o};return p.queue=b,d1(Jy.bind(null,m,b,s),[s]),m.flags|=2048,Co(9,{destroy:void 0},Xy.bind(null,m,b,d,o),null),d},useId:function(){var s=Zr(),o=$t.identifierPrefix;if(yt){var d=ba,m=va;d=(m&~(1<<32-nt(m)-1)).toString(32)+d,o="_"+o+"R_"+d,d=md++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=sT++,o="_"+o+"r_"+d.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:X0,useFormState:i1,useActionState:i1,useOptimistic:function(s){var o=Zr();o.memoizedState=o.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=J0.bind(null,at,!0,d),d.dispatch=o,[s,o]},useMemoCache:z0,useCacheRefresh:function(){return Zr().memoizedState=dT.bind(null,at)},useEffectEvent:function(s){var o=Zr(),d={impl:s};return o.memoizedState=d,function(){if((Et&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Q0={readContext:Fr,use:xd,useCallback:p1,useContext:Fr,useEffect:q0,useImperativeHandle:x1,useInsertionEffect:f1,useLayoutEffect:m1,useMemo:y1,useReducer:pd,useRef:u1,useState:function(){return pd(za)},useDebugValue:G0,useDeferredValue:function(s,o){var d=fr();return v1(d,It.memoizedState,s,o)},useTransition:function(){var s=pd(za)[0],o=fr().memoizedState;return[typeof s=="boolean"?s:rc(s),o]},useSyncExternalStore:Yy,useId:S1,useHostTransitionStatus:X0,useFormState:o1,useActionState:o1,useOptimistic:function(s,o){var d=fr();return e1(d,It,s,o)},useMemoCache:z0,useCacheRefresh:N1};Q0.useEffectEvent=h1;var A1={readContext:Fr,use:xd,useCallback:p1,useContext:Fr,useEffect:q0,useImperativeHandle:x1,useInsertionEffect:f1,useLayoutEffect:m1,useMemo:y1,useReducer:$0,useRef:u1,useState:function(){return $0(za)},useDebugValue:G0,useDeferredValue:function(s,o){var d=fr();return It===null?Y0(d,s,o):v1(d,It.memoizedState,s,o)},useTransition:function(){var s=$0(za)[0],o=fr().memoizedState;return[typeof s=="boolean"?s:rc(s),o]},useSyncExternalStore:Yy,useId:S1,useHostTransitionStatus:X0,useFormState:c1,useActionState:c1,useOptimistic:function(s,o){var d=fr();return It!==null?e1(d,It,s,o):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:z0,useCacheRefresh:N1};A1.useEffectEvent=h1;function Z0(s,o,d,m){o=s.memoizedState,d=d(m,o),d=d==null?o:x({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var em={enqueueSetState:function(s,o,d){s=s._reactInternals;var m=kn(),p=ws(m);p.payload=o,d!=null&&(p.callback=d),o=Ss(s,p,m),o!==null&&(un(o,s,m),Ql(o,s,m))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var m=kn(),p=ws(m);p.tag=1,p.payload=o,d!=null&&(p.callback=d),o=Ss(s,p,m),o!==null&&(un(o,s,m),Ql(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=kn(),m=ws(d);m.tag=2,o!=null&&(m.callback=o),o=Ss(s,m,d),o!==null&&(un(o,s,d),Ql(o,s,d))}};function C1(s,o,d,m,p,b,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,b,k):o.prototype&&o.prototype.isPureReactComponent?!Vl(d,m)||!Vl(p,b):!0}function O1(s,o,d,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,m),o.state!==s&&em.enqueueReplaceState(o,o.state,null)}function wi(s,o){var d=o;if("ref"in o){d={};for(var m in o)m!=="ref"&&(d[m]=o[m])}if(s=s.defaultProps){d===o&&(d=x({},d));for(var p in s)d[p]===void 0&&(d[p]=s[p])}return d}function R1(s){Qu(s)}function D1(s){console.error(s)}function M1(s){Qu(s)}function _d(s,o){try{var d=s.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function F1(s,o,d){try{var m=s.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function tm(s,o,d){return d=ws(d),d.tag=3,d.payload={element:null},d.callback=function(){_d(s,o)},d}function L1(s){return s=ws(s),s.tag=3,s}function P1(s,o,d,m){var p=d.type.getDerivedStateFromError;if(typeof p=="function"){var b=m.value;s.payload=function(){return p(b)},s.callback=function(){F1(o,d,m)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(s.callback=function(){F1(o,d,m),typeof p!="function"&&(As===null?As=new Set([this]):As.add(this));var A=m.stack;this.componentDidCatch(m.value,{componentStack:A!==null?A:""})})}function fT(s,o,d,m,p){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=d.alternate,o!==null&&wo(o,d,p,!0),d=wn.current,d!==null){switch(d.tag){case 31:case 13:return Vn===null?Dd():d.alternate===null&&or===0&&(or=3),d.flags&=-257,d.flags|=65536,d.lanes=p,m===ld?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([m]):o.add(m),km(s,m,p)),!1;case 22:return d.flags|=65536,m===ld?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([m]):d.add(m)),km(s,m,p)),!1}throw Error(n(435,d.tag))}return km(s,m,p),Dd(),!1}if(yt)return o=wn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,m!==b0&&(s=Error(n(422),{cause:m}),Gl(Un(s,d)))):(m!==b0&&(o=Error(n(423),{cause:m}),Gl(Un(o,d))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,m=Un(m,d),p=tm(s.stateNode,m,p),O0(s,p),or!==4&&(or=2)),!1;var b=Error(n(520),{cause:m});if(b=Un(b,d),hc===null?hc=[b]:hc.push(b),or!==4&&(or=2),o===null)return!0;m=Un(m,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,s=p&-p,d.lanes|=s,s=tm(d.stateNode,m,s),O0(d,s),!1;case 1:if(o=d.type,b=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(As===null||!As.has(b))))return d.flags|=65536,p&=-p,d.lanes|=p,p=L1(p),P1(p,s,d,m),O0(d,p),!1}d=d.return}while(d!==null);return!1}var rm=Error(n(461)),vr=!1;function Lr(s,o,d,m){o.child=s===null?zy(o,null,d,m):bi(o,s.child,d,m)}function I1(s,o,d,m,p){d=d.render;var b=o.ref;if("ref"in m){var k={};for(var A in m)A!=="ref"&&(k[A]=m[A])}else k=m;return xi(o),m=P0(s,o,d,k,b,p),A=I0(),s!==null&&!vr?(B0(s,o,p),Ha(s,o,p)):(yt&&A&&y0(o),o.flags|=1,Lr(s,o,m,p),o.child)}function B1(s,o,d,m,p){if(s===null){var b=d.type;return typeof b=="function"&&!g0(b)&&b.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=b,U1(s,o,b,m,p)):(s=rd(d.type,null,m,o,o.mode,p),s.ref=o.ref,s.return=o,o.child=s)}if(b=s.child,!um(s,p)){var k=b.memoizedProps;if(d=d.compare,d=d!==null?d:Vl,d(k,m)&&s.ref===o.ref)return Ha(s,o,p)}return o.flags|=1,s=La(b,m),s.ref=o.ref,s.return=o,o.child=s}function U1(s,o,d,m,p){if(s!==null){var b=s.memoizedProps;if(Vl(b,m)&&s.ref===o.ref)if(vr=!1,o.pendingProps=m=b,um(s,p))(s.flags&131072)!==0&&(vr=!0);else return o.lanes=s.lanes,Ha(s,o,p)}return nm(s,o,d,m,p)}function z1(s,o,d,m){var p=m.children,b=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|d:d,s!==null){for(m=o.child=s.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;m=p&~b}else m=0,o.child=null;return H1(s,o,b,d,m)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&id(o,b!==null?b.cachePool:null),b!==null?Vy(o,b):D0(),Wy(o);else return m=o.lanes=536870912,H1(s,o,b!==null?b.baseLanes|d:d,d,m)}else b!==null?(id(o,b.cachePool),Vy(o,b),Es(),o.memoizedState=null):(s!==null&&id(o,null),D0(),Es());return Lr(s,o,p,d),o.child}function sc(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function H1(s,o,d,m,p){var b=T0();return b=b===null?null:{parent:pr._currentValue,pool:b},o.memoizedState={baseLanes:d,cachePool:b},s!==null&&id(o,null),D0(),Wy(o),s!==null&&wo(s,o,m,!0),o.childLanes=p,null}function wd(s,o){return o=Nd({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function $1(s,o,d){return bi(o,s.child,null,d),s=wd(o,o.pendingProps),s.flags|=2,Sn(o),o.memoizedState=null,s}function mT(s,o,d){var m=o.pendingProps,p=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(yt){if(m.mode==="hidden")return s=wd(o,m),o.lanes=536870912,sc(null,s);if(F0(o),(s=Kt)?(s=tb(s,$n),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ps!==null?{id:va,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},d=ky(s),d.return=o,o.child=d,Mr=o,Kt=null)):s=null,s===null)throw vs(o);return o.lanes=536870912,null}return wd(o,m)}var b=s.memoizedState;if(b!==null){var k=b.dehydrated;if(F0(o),p)if(o.flags&256)o.flags&=-257,o=$1(s,o,d);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(n(558));else if(vr||wo(s,o,d,!1),p=(d&s.childLanes)!==0,vr||p){if(m=$t,m!==null&&(k=Hu(m,d),k!==0&&k!==b.retryLane))throw b.retryLane=k,hi(s,k),un(m,s,k),rm;Dd(),o=$1(s,o,d)}else s=b.treeContext,Kt=Wn(k.nextSibling),Mr=o,yt=!0,ys=null,$n=!1,s!==null&&Ay(o,s),o=wd(o,m),o.flags|=4096;return o}return s=La(s.child,{mode:m.mode,children:m.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Sd(s,o){var d=o.ref;if(d===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(o.flags|=4194816)}}function nm(s,o,d,m,p){return xi(o),d=P0(s,o,d,m,void 0,p),m=I0(),s!==null&&!vr?(B0(s,o,p),Ha(s,o,p)):(yt&&m&&y0(o),o.flags|=1,Lr(s,o,d,p),o.child)}function V1(s,o,d,m,p,b){return xi(o),o.updateQueue=null,d=Gy(o,m,d,p),qy(s),m=I0(),s!==null&&!vr?(B0(s,o,b),Ha(s,o,b)):(yt&&m&&y0(o),o.flags|=1,Lr(s,o,d,b),o.child)}function W1(s,o,d,m,p){if(xi(o),o.stateNode===null){var b=yo,k=d.contextType;typeof k=="object"&&k!==null&&(b=Fr(k)),b=new d(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=em,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},A0(o),k=d.contextType,b.context=typeof k=="object"&&k!==null?Fr(k):yo,b.state=o.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Z0(o,d,k,m),b.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&em.enqueueReplaceState(b,b.state,null),ec(o,m,b,p),Zl(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(s===null){b=o.stateNode;var A=o.memoizedProps,X=wi(d,A);b.props=X;var le=b.context,ye=d.contextType;k=yo,typeof ye=="object"&&ye!==null&&(k=Fr(ye));var we=d.getDerivedStateFromProps;ye=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function",A=o.pendingProps!==A,ye||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A||le!==k)&&O1(o,b,m,k),_s=!1;var he=o.memoizedState;b.state=he,ec(o,m,b,p),Zl(),le=o.memoizedState,A||he!==le||_s?(typeof we=="function"&&(Z0(o,d,we,m),le=o.memoizedState),(X=_s||C1(o,d,X,m,he,le,k))?(ye||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=le),b.props=m,b.state=le,b.context=k,m=X):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,C0(s,o),k=o.memoizedProps,ye=wi(d,k),b.props=ye,we=o.pendingProps,he=b.context,le=d.contextType,X=yo,typeof le=="object"&&le!==null&&(X=Fr(le)),A=d.getDerivedStateFromProps,(le=typeof A=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==we||he!==X)&&O1(o,b,m,X),_s=!1,he=o.memoizedState,b.state=he,ec(o,m,b,p),Zl();var ge=o.memoizedState;k!==we||he!==ge||_s||s!==null&&s.dependencies!==null&&ad(s.dependencies)?(typeof A=="function"&&(Z0(o,d,A,m),ge=o.memoizedState),(ye=_s||C1(o,d,ye,m,he,ge,X)||s!==null&&s.dependencies!==null&&ad(s.dependencies))?(le||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,ge,X),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,ge,X)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===s.memoizedProps&&he===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&he===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ge),b.props=m,b.state=ge,b.context=X,m=ye):(typeof b.componentDidUpdate!="function"||k===s.memoizedProps&&he===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&he===s.memoizedState||(o.flags|=1024),m=!1)}return b=m,Sd(s,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,s!==null&&m?(o.child=bi(o,s.child,null,p),o.child=bi(o,null,d,p)):Lr(s,o,d,p),o.memoizedState=b.state,s=o.child):s=Ha(s,o,p),s}function q1(s,o,d,m){return mi(),o.flags|=256,Lr(s,o,d,m),o.child}var am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sm(s){return{baseLanes:s,cachePool:Fy()}}function im(s,o,d){return s=s!==null?s.childLanes&~d:0,o&&(s|=En),s}function G1(s,o,d){var m=o.pendingProps,p=!1,b=(o.flags&128)!==0,k;if((k=b)||(k=s!==null&&s.memoizedState===null?!1:(hr.current&2)!==0),k&&(p=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,s===null){if(yt){if(p?Ns(o):Es(),(s=Kt)?(s=tb(s,$n),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ps!==null?{id:va,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},d=ky(s),d.return=o,o.child=d,Mr=o,Kt=null)):s=null,s===null)throw vs(o);return Hm(s)?o.lanes=32:o.lanes=536870912,null}var A=m.children;return m=m.fallback,p?(Es(),p=o.mode,A=Nd({mode:"hidden",children:A},p),m=fi(m,p,d,null),A.return=o,m.return=o,A.sibling=m,o.child=A,m=o.child,m.memoizedState=sm(d),m.childLanes=im(s,k,d),o.memoizedState=am,sc(null,m)):(Ns(o),om(o,A))}var X=s.memoizedState;if(X!==null&&(A=X.dehydrated,A!==null)){if(b)o.flags&256?(Ns(o),o.flags&=-257,o=lm(s,o,d)):o.memoizedState!==null?(Es(),o.child=s.child,o.flags|=128,o=null):(Es(),A=m.fallback,p=o.mode,m=Nd({mode:"visible",children:m.children},p),A=fi(A,p,d,null),A.flags|=2,m.return=o,A.return=o,m.sibling=A,o.child=m,bi(o,s.child,null,d),m=o.child,m.memoizedState=sm(d),m.childLanes=im(s,k,d),o.memoizedState=am,o=sc(null,m));else if(Ns(o),Hm(A)){if(k=A.nextSibling&&A.nextSibling.dataset,k)var le=k.dgst;k=le,m=Error(n(419)),m.stack="",m.digest=k,Gl({value:m,source:null,stack:null}),o=lm(s,o,d)}else if(vr||wo(s,o,d,!1),k=(d&s.childLanes)!==0,vr||k){if(k=$t,k!==null&&(m=Hu(k,d),m!==0&&m!==X.retryLane))throw X.retryLane=m,hi(s,m),un(k,s,m),rm;zm(A)||Dd(),o=lm(s,o,d)}else zm(A)?(o.flags|=192,o.child=s.child,o=null):(s=X.treeContext,Kt=Wn(A.nextSibling),Mr=o,yt=!0,ys=null,$n=!1,s!==null&&Ay(o,s),o=om(o,m.children),o.flags|=4096);return o}return p?(Es(),A=m.fallback,p=o.mode,X=s.child,le=X.sibling,m=La(X,{mode:"hidden",children:m.children}),m.subtreeFlags=X.subtreeFlags&65011712,le!==null?A=La(le,A):(A=fi(A,p,d,null),A.flags|=2),A.return=o,m.return=o,m.sibling=A,o.child=m,sc(null,m),m=o.child,A=s.child.memoizedState,A===null?A=sm(d):(p=A.cachePool,p!==null?(X=pr._currentValue,p=p.parent!==X?{parent:X,pool:X}:p):p=Fy(),A={baseLanes:A.baseLanes|d,cachePool:p}),m.memoizedState=A,m.childLanes=im(s,k,d),o.memoizedState=am,sc(s.child,m)):(Ns(o),d=s.child,s=d.sibling,d=La(d,{mode:"visible",children:m.children}),d.return=o,d.sibling=null,s!==null&&(k=o.deletions,k===null?(o.deletions=[s],o.flags|=16):k.push(s)),o.child=d,o.memoizedState=null,d)}function om(s,o){return o=Nd({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Nd(s,o){return s=_n(22,s,null,o),s.lanes=0,s}function lm(s,o,d){return bi(o,s.child,null,d),s=om(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Y1(s,o,d){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),S0(s.return,o,d)}function cm(s,o,d,m,p,b){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:p,treeForkCount:b}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=d,k.tailMode=p,k.treeForkCount=b)}function K1(s,o,d){var m=o.pendingProps,p=m.revealOrder,b=m.tail;m=m.children;var k=hr.current,A=(k&2)!==0;if(A?(k=k&1|2,o.flags|=128):k&=1,q(hr,k),Lr(s,o,m,d),m=yt?ql:0,!A&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Y1(s,d,o);else if(s.tag===19)Y1(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(d=o.child,p=null;d!==null;)s=d.alternate,s!==null&&hd(s)===null&&(p=d),d=d.sibling;d=p,d===null?(p=o.child,o.child=null):(p=d.sibling,d.sibling=null),cm(o,!1,p,d,b,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,p=o.child,o.child=null;p!==null;){if(s=p.alternate,s!==null&&hd(s)===null){o.child=p;break}s=p.sibling,p.sibling=d,d=p,p=s}cm(o,!0,d,null,b,m);break;case"together":cm(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Ha(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),js|=o.lanes,(d&o.childLanes)===0)if(s!==null){if(wo(s,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,d=La(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=La(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function um(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&ad(s)))}function gT(s,o,d){switch(o.tag){case 3:Se(o,o.stateNode.containerInfo),bs(o,pr,s.memoizedState.cache),mi();break;case 27:case 5:je(o);break;case 4:Se(o,o.stateNode.containerInfo);break;case 10:bs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,F0(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Ns(o),o.flags|=128,null):(d&o.child.childLanes)!==0?G1(s,o,d):(Ns(o),s=Ha(s,o,d),s!==null?s.sibling:null);Ns(o);break;case 19:var p=(s.flags&128)!==0;if(m=(d&o.childLanes)!==0,m||(wo(s,o,d,!1),m=(d&o.childLanes)!==0),p){if(m)return K1(s,o,d);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),q(hr,hr.current),m)break;return null;case 22:return o.lanes=0,z1(s,o,d,o.pendingProps);case 24:bs(o,pr,s.memoizedState.cache)}return Ha(s,o,d)}function X1(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps)vr=!0;else{if(!um(s,d)&&(o.flags&128)===0)return vr=!1,gT(s,o,d);vr=(s.flags&131072)!==0}else vr=!1,yt&&(o.flags&1048576)!==0&&jy(o,ql,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(s=yi(o.elementType),o.type=s,typeof s=="function")g0(s)?(m=wi(s,m),o.tag=1,o=W1(null,o,s,m,d)):(o.tag=0,o=nm(null,o,s,m,d));else{if(s!=null){var p=s.$$typeof;if(p===M){o.tag=11,o=I1(null,o,s,m,d);break e}else if(p===D){o.tag=14,o=B1(null,o,s,m,d);break e}}throw o=Fe(s)||s,Error(n(306,o,""))}}return o;case 0:return nm(s,o,o.type,o.pendingProps,d);case 1:return m=o.type,p=wi(m,o.pendingProps),W1(s,o,m,p,d);case 3:e:{if(Se(o,o.stateNode.containerInfo),s===null)throw Error(n(387));m=o.pendingProps;var b=o.memoizedState;p=b.element,C0(s,o),ec(o,m,null,d);var k=o.memoizedState;if(m=k.cache,bs(o,pr,m),m!==b.cache&&N0(o,[pr],d,!0),Zl(),m=k.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=q1(s,o,m,d);break e}else if(m!==p){p=Un(Error(n(424)),o),Gl(p),o=q1(s,o,m,d);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Kt=Wn(s.firstChild),Mr=o,yt=!0,ys=null,$n=!0,d=zy(o,null,m,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(mi(),m===p){o=Ha(s,o,d);break e}Lr(s,o,m,d)}o=o.child}return o;case 26:return Sd(s,o),s===null?(d=ob(o.type,null,o.pendingProps,null))?o.memoizedState=d:yt||(d=o.type,s=o.pendingProps,m=Ud(se.current).createElement(d),m[P]=o,m[B]=s,Pr(m,d,s),He(m),o.stateNode=m):o.memoizedState=ob(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return je(o),s===null&&yt&&(m=o.stateNode=ab(o.type,o.pendingProps,se.current),Mr=o,$n=!0,p=Kt,Ds(o.type)?($m=p,Kt=Wn(m.firstChild)):Kt=p),Lr(s,o,o.pendingProps.children,d),Sd(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&yt&&((p=m=Kt)&&(m=WT(m,o.type,o.pendingProps,$n),m!==null?(o.stateNode=m,Mr=o,Kt=Wn(m.firstChild),$n=!1,p=!0):p=!1),p||vs(o)),je(o),p=o.type,b=o.pendingProps,k=s!==null?s.memoizedProps:null,m=b.children,Im(p,b)?m=null:k!==null&&Im(p,k)&&(o.flags|=32),o.memoizedState!==null&&(p=P0(s,o,iT,null,null,d),bc._currentValue=p),Sd(s,o),Lr(s,o,m,d),o.child;case 6:return s===null&&yt&&((s=d=Kt)&&(d=qT(d,o.pendingProps,$n),d!==null?(o.stateNode=d,Mr=o,Kt=null,s=!0):s=!1),s||vs(o)),null;case 13:return G1(s,o,d);case 4:return Se(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=bi(o,null,m,d):Lr(s,o,m,d),o.child;case 11:return I1(s,o,o.type,o.pendingProps,d);case 7:return Lr(s,o,o.pendingProps,d),o.child;case 8:return Lr(s,o,o.pendingProps.children,d),o.child;case 12:return Lr(s,o,o.pendingProps.children,d),o.child;case 10:return m=o.pendingProps,bs(o,o.type,m.value),Lr(s,o,m.children,d),o.child;case 9:return p=o.type._context,m=o.pendingProps.children,xi(o),p=Fr(p),m=m(p),o.flags|=1,Lr(s,o,m,d),o.child;case 14:return B1(s,o,o.type,o.pendingProps,d);case 15:return U1(s,o,o.type,o.pendingProps,d);case 19:return K1(s,o,d);case 31:return mT(s,o,d);case 22:return z1(s,o,d,o.pendingProps);case 24:return xi(o),m=Fr(pr),s===null?(p=T0(),p===null&&(p=$t,b=E0(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=d),p=b),o.memoizedState={parent:m,cache:p},A0(o),bs(o,pr,p)):((s.lanes&d)!==0&&(C0(s,o),ec(o,null,null,d),Zl()),p=s.memoizedState,b=o.memoizedState,p.parent!==m?(p={parent:m,cache:m},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),bs(o,pr,m)):(m=b.cache,bs(o,pr,m),m!==p.cache&&N0(o,[pr],d,!0))),Lr(s,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function $a(s){s.flags|=4}function dm(s,o,d,m,p){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(Sv())s.flags|=8192;else throw vi=ld,j0}else s.flags&=-16777217}function J1(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!hb(o))if(Sv())s.flags|=8192;else throw vi=ld,j0}function Ed(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Uu():536870912,s.lanes|=o,Mo|=o)}function ic(s,o){if(!yt)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Xt(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(o)for(var p=s.child;p!==null;)d|=p.lanes|p.childLanes,m|=p.subtreeFlags&65011712,m|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)d|=p.lanes|p.childLanes,m|=p.subtreeFlags,m|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=m,s.childLanes=d,o}function xT(s,o,d){var m=o.pendingProps;switch(v0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(o),null;case 1:return Xt(o),null;case 3:return d=o.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ba(pr),be(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(_o(o)?$a(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,_0())),Xt(o),null;case 26:var p=o.type,b=o.memoizedState;return s===null?($a(o),b!==null?(Xt(o),J1(o,b)):(Xt(o),dm(o,p,null,m,d))):b?b!==s.memoizedState?($a(o),Xt(o),J1(o,b)):(Xt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==m&&$a(o),Xt(o),dm(o,p,s,m,d)),null;case 27:if(ft(o),d=se.current,p=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&$a(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Xt(o),null}s=H.current,_o(o)?Cy(o):(s=ab(p,m,d),o.stateNode=s,$a(o))}return Xt(o),null;case 5:if(ft(o),p=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&$a(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Xt(o),null}if(b=H.current,_o(o))Cy(o);else{var k=Ud(se.current);switch(b){case 1:b=k.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:b=k.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":b=k.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":b=k.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":b=k.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?k.createElement("select",{is:m.is}):k.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?k.createElement(p,{is:m.is}):k.createElement(p)}}b[P]=o,b[B]=m;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)b.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=b;e:switch(Pr(b,p,m),p){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&$a(o)}}return Xt(o),dm(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,d),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==m&&$a(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(s=se.current,_o(o)){if(s=o.stateNode,d=o.memoizedProps,m=null,p=Mr,p!==null)switch(p.tag){case 27:case 5:m=p.memoizedProps}s[P]=o,s=!!(s.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||Gv(s.nodeValue,d)),s||vs(o,!0)}else s=Ud(s).createTextNode(m),s[P]=o,o.stateNode=s}return Xt(o),null;case 31:if(d=o.memoizedState,s===null||s.memoizedState!==null){if(m=_o(o),d!==null){if(s===null){if(!m)throw Error(n(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[P]=o}else mi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Xt(o),s=!1}else d=_0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return o.flags&256?(Sn(o),o):(Sn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Xt(o),null;case 13:if(m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=_o(o),m!==null&&m.dehydrated!==null){if(s===null){if(!p)throw Error(n(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[P]=o}else mi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Xt(o),p=!1}else p=_0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(Sn(o),o):(Sn(o),null)}return Sn(o),(o.flags&128)!==0?(o.lanes=d,o):(d=m!==null,s=s!==null&&s.memoizedState!==null,d&&(m=o.child,p=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(p=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==p&&(m.flags|=2048)),d!==s&&d&&(o.child.flags|=8192),Ed(o,o.updateQueue),Xt(o),null);case 4:return be(),s===null&&Dm(o.stateNode.containerInfo),Xt(o),null;case 10:return Ba(o.type),Xt(o),null;case 19:if(R(hr),m=o.memoizedState,m===null)return Xt(o),null;if(p=(o.flags&128)!==0,b=m.rendering,b===null)if(p)ic(m,!1);else{if(or!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(b=hd(s),b!==null){for(o.flags|=128,ic(m,!1),s=b.updateQueue,o.updateQueue=s,Ed(o,s),o.subtreeFlags=0,s=d,d=o.child;d!==null;)Ey(d,s),d=d.sibling;return q(hr,hr.current&1|2),yt&&Pa(o,m.treeForkCount),o.child}s=s.sibling}m.tail!==null&&F()>Cd&&(o.flags|=128,p=!0,ic(m,!1),o.lanes=4194304)}else{if(!p)if(s=hd(b),s!==null){if(o.flags|=128,p=!0,s=s.updateQueue,o.updateQueue=s,Ed(o,s),ic(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!yt)return Xt(o),null}else 2*F()-m.renderingStartTime>Cd&&d!==536870912&&(o.flags|=128,p=!0,ic(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(s=m.last,s!==null?s.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=F(),s.sibling=null,d=hr.current,q(hr,p?d&1|2:d&1),yt&&Pa(o,m.treeForkCount),s):(Xt(o),null);case 22:case 23:return Sn(o),M0(),m=o.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(d&536870912)!==0&&(o.flags&128)===0&&(Xt(o),o.subtreeFlags&6&&(o.flags|=8192)):Xt(o),d=o.updateQueue,d!==null&&Ed(o,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048),s!==null&&R(pi),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ba(pr),Xt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function pT(s,o){switch(v0(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ba(pr),be(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return ft(o),null;case 31:if(o.memoizedState!==null){if(Sn(o),o.alternate===null)throw Error(n(340));mi()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(Sn(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));mi()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return R(hr),null;case 4:return be(),null;case 10:return Ba(o.type),null;case 22:case 23:return Sn(o),M0(),s!==null&&R(pi),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ba(pr),null;case 25:return null;default:return null}}function Q1(s,o){switch(v0(o),o.tag){case 3:Ba(pr),be();break;case 26:case 27:case 5:ft(o);break;case 4:be();break;case 31:o.memoizedState!==null&&Sn(o);break;case 13:Sn(o);break;case 19:R(hr);break;case 10:Ba(o.type);break;case 22:case 23:Sn(o),M0(),s!==null&&R(pi);break;case 24:Ba(pr)}}function oc(s,o){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var p=m.next;d=p;do{if((d.tag&s)===s){m=void 0;var b=d.create,k=d.inst;m=b(),k.destroy=m}d=d.next}while(d!==p)}}catch(A){Ct(o,o.return,A)}}function ks(s,o,d){try{var m=o.updateQueue,p=m!==null?m.lastEffect:null;if(p!==null){var b=p.next;m=b;do{if((m.tag&s)===s){var k=m.inst,A=k.destroy;if(A!==void 0){k.destroy=void 0,p=o;var X=d,le=A;try{le()}catch(ye){Ct(p,X,ye)}}}m=m.next}while(m!==b)}}catch(ye){Ct(o,o.return,ye)}}function Z1(s){var o=s.updateQueue;if(o!==null){var d=s.stateNode;try{$y(o,d)}catch(m){Ct(s,s.return,m)}}}function ev(s,o,d){d.props=wi(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(m){Ct(s,o,m)}}function lc(s,o){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof d=="function"?s.refCleanup=d(m):d.current=m}}catch(p){Ct(s,o,p)}}function _a(s,o){var d=s.ref,m=s.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(p){Ct(s,o,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(p){Ct(s,o,p)}else d.current=null}function tv(s){var o=s.type,d=s.memoizedProps,m=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(p){Ct(s,s.return,p)}}function hm(s,o,d){try{var m=s.stateNode;BT(m,s.type,d,o),m[B]=o}catch(p){Ct(s,s.return,p)}}function rv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ds(s.type)||s.tag===4}function fm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ds(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function mm(s,o,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(s),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Ma));else if(m!==4&&(m===27&&Ds(s.type)&&(d=s.stateNode,o=null),s=s.child,s!==null))for(mm(s,o,d),s=s.sibling;s!==null;)mm(s,o,d),s=s.sibling}function kd(s,o,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(m!==4&&(m===27&&Ds(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(kd(s,o,d),s=s.sibling;s!==null;)kd(s,o,d),s=s.sibling}function nv(s){var o=s.stateNode,d=s.memoizedProps;try{for(var m=s.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);Pr(o,m,d),o[P]=s,o[B]=d}catch(b){Ct(s,s.return,b)}}var Va=!1,br=!1,gm=!1,av=typeof WeakSet=="function"?WeakSet:Set,Cr=null;function yT(s,o){if(s=s.containerInfo,Lm=Gd,s=xy(s),l0(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var p=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var k=0,A=-1,X=-1,le=0,ye=0,we=s,he=null;t:for(;;){for(var ge;we!==d||p!==0&&we.nodeType!==3||(A=k+p),we!==b||m!==0&&we.nodeType!==3||(X=k+m),we.nodeType===3&&(k+=we.nodeValue.length),(ge=we.firstChild)!==null;)he=we,we=ge;for(;;){if(we===s)break t;if(he===d&&++le===p&&(A=k),he===b&&++ye===m&&(X=k),(ge=we.nextSibling)!==null)break;we=he,he=we.parentNode}we=ge}d=A===-1||X===-1?null:{start:A,end:X}}else d=null}d=d||{start:0,end:0}}else d=null;for(Pm={focusedElem:s,selectionRange:d},Gd=!1,Cr=o;Cr!==null;)if(o=Cr,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Cr=s;else for(;Cr!==null;){switch(o=Cr,b=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)p=s[d],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,d=o,p=b.memoizedProps,b=b.memoizedState,m=d.stateNode;try{var ze=wi(d.type,p);s=m.getSnapshotBeforeUpdate(ze,b),m.__reactInternalSnapshotBeforeUpdate=s}catch(Ke){Ct(d,d.return,Ke)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,d=s.nodeType,d===9)Um(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Um(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Cr=s;break}Cr=o.return}}function sv(s,o,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:qa(s,d),m&4&&oc(5,d);break;case 1:if(qa(s,d),m&4)if(s=d.stateNode,o===null)try{s.componentDidMount()}catch(k){Ct(d,d.return,k)}else{var p=wi(d.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(p,o,s.__reactInternalSnapshotBeforeUpdate)}catch(k){Ct(d,d.return,k)}}m&64&&Z1(d),m&512&&lc(d,d.return);break;case 3:if(qa(s,d),m&64&&(s=d.updateQueue,s!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{$y(s,o)}catch(k){Ct(d,d.return,k)}}break;case 27:o===null&&m&4&&nv(d);case 26:case 5:qa(s,d),o===null&&m&4&&tv(d),m&512&&lc(d,d.return);break;case 12:qa(s,d);break;case 31:qa(s,d),m&4&&lv(s,d);break;case 13:qa(s,d),m&4&&cv(s,d),m&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=TT.bind(null,d),GT(s,d))));break;case 22:if(m=d.memoizedState!==null||Va,!m){o=o!==null&&o.memoizedState!==null||br,p=Va;var b=br;Va=m,(br=o)&&!b?Ga(s,d,(d.subtreeFlags&8772)!==0):qa(s,d),Va=p,br=b}break;case 30:break;default:qa(s,d)}}function iv(s){var o=s.alternate;o!==null&&(s.alternate=null,iv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ae(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tr=null,sn=!1;function Wa(s,o,d){for(d=d.child;d!==null;)ov(s,o,d),d=d.sibling}function ov(s,o,d){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Yt,d)}catch{}switch(d.tag){case 26:br||_a(d,o),Wa(s,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:br||_a(d,o);var m=tr,p=sn;Ds(d.type)&&(tr=d.stateNode,sn=!1),Wa(s,o,d),pc(d.stateNode),tr=m,sn=p;break;case 5:br||_a(d,o);case 6:if(m=tr,p=sn,tr=null,Wa(s,o,d),tr=m,sn=p,tr!==null)if(sn)try{(tr.nodeType===9?tr.body:tr.nodeName==="HTML"?tr.ownerDocument.body:tr).removeChild(d.stateNode)}catch(b){Ct(d,o,b)}else try{tr.removeChild(d.stateNode)}catch(b){Ct(d,o,b)}break;case 18:tr!==null&&(sn?(s=tr,Zv(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Ho(s)):Zv(tr,d.stateNode));break;case 4:m=tr,p=sn,tr=d.stateNode.containerInfo,sn=!0,Wa(s,o,d),tr=m,sn=p;break;case 0:case 11:case 14:case 15:ks(2,d,o),br||ks(4,d,o),Wa(s,o,d);break;case 1:br||(_a(d,o),m=d.stateNode,typeof m.componentWillUnmount=="function"&&ev(d,o,m)),Wa(s,o,d);break;case 21:Wa(s,o,d);break;case 22:br=(m=br)||d.memoizedState!==null,Wa(s,o,d),br=m;break;default:Wa(s,o,d)}}function lv(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ho(s)}catch(d){Ct(o,o.return,d)}}}function cv(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ho(s)}catch(d){Ct(o,o.return,d)}}function vT(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new av),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new av),o;default:throw Error(n(435,s.tag))}}function Td(s,o){var d=vT(s);o.forEach(function(m){if(!d.has(m)){d.add(m);var p=jT.bind(null,s,m);m.then(p,p)}})}function on(s,o){var d=o.deletions;if(d!==null)for(var m=0;m<d.length;m++){var p=d[m],b=s,k=o,A=k;e:for(;A!==null;){switch(A.tag){case 27:if(Ds(A.type)){tr=A.stateNode,sn=!1;break e}break;case 5:tr=A.stateNode,sn=!1;break e;case 3:case 4:tr=A.stateNode.containerInfo,sn=!0;break e}A=A.return}if(tr===null)throw Error(n(160));ov(b,k,p),tr=null,sn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)uv(o,s),o=o.sibling}var na=null;function uv(s,o){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:on(o,s),ln(s),m&4&&(ks(3,s,s.return),oc(3,s),ks(5,s,s.return));break;case 1:on(o,s),ln(s),m&512&&(br||d===null||_a(d,d.return)),m&64&&Va&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var p=na;if(on(o,s),ln(s),m&512&&(br||d===null||_a(d,d.return)),m&4){var b=d!==null?d.memoizedState:null;if(m=s.memoizedState,d===null)if(m===null)if(s.stateNode===null){e:{m=s.type,d=s.memoizedProps,p=p.ownerDocument||p;t:switch(m){case"title":b=p.getElementsByTagName("title")[0],(!b||b[fe]||b[P]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(m),p.head.insertBefore(b,p.querySelector("head > title"))),Pr(b,m,d),b[P]=s,He(b),m=b;break e;case"link":var k=ub("link","href",p).get(m+(d.href||""));if(k){for(var A=0;A<k.length;A++)if(b=k[A],b.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&b.getAttribute("rel")===(d.rel==null?null:d.rel)&&b.getAttribute("title")===(d.title==null?null:d.title)&&b.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(A,1);break t}}b=p.createElement(m),Pr(b,m,d),p.head.appendChild(b);break;case"meta":if(k=ub("meta","content",p).get(m+(d.content||""))){for(A=0;A<k.length;A++)if(b=k[A],b.getAttribute("content")===(d.content==null?null:""+d.content)&&b.getAttribute("name")===(d.name==null?null:d.name)&&b.getAttribute("property")===(d.property==null?null:d.property)&&b.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&b.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(A,1);break t}}b=p.createElement(m),Pr(b,m,d),p.head.appendChild(b);break;default:throw Error(n(468,m))}b[P]=s,He(b),m=b}s.stateNode=m}else db(p,s.type,s.stateNode);else s.stateNode=cb(p,m,s.memoizedProps);else b!==m?(b===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):b.count--,m===null?db(p,s.type,s.stateNode):cb(p,m,s.memoizedProps)):m===null&&s.stateNode!==null&&hm(s,s.memoizedProps,d.memoizedProps)}break;case 27:on(o,s),ln(s),m&512&&(br||d===null||_a(d,d.return)),d!==null&&m&4&&hm(s,s.memoizedProps,d.memoizedProps);break;case 5:if(on(o,s),ln(s),m&512&&(br||d===null||_a(d,d.return)),s.flags&32){p=s.stateNode;try{uo(p,"")}catch(ze){Ct(s,s.return,ze)}}m&4&&s.stateNode!=null&&(p=s.memoizedProps,hm(s,p,d!==null?d.memoizedProps:p)),m&1024&&(gm=!0);break;case 6:if(on(o,s),ln(s),m&4){if(s.stateNode===null)throw Error(n(162));m=s.memoizedProps,d=s.stateNode;try{d.nodeValue=m}catch(ze){Ct(s,s.return,ze)}}break;case 3:if($d=null,p=na,na=zd(o.containerInfo),on(o,s),na=p,ln(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Ho(o.containerInfo)}catch(ze){Ct(s,s.return,ze)}gm&&(gm=!1,dv(s));break;case 4:m=na,na=zd(s.stateNode.containerInfo),on(o,s),ln(s),na=m;break;case 12:on(o,s),ln(s);break;case 31:on(o,s),ln(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Td(s,m)));break;case 13:on(o,s),ln(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Ad=F()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Td(s,m)));break;case 22:p=s.memoizedState!==null;var X=d!==null&&d.memoizedState!==null,le=Va,ye=br;if(Va=le||p,br=ye||X,on(o,s),br=ye,Va=le,ln(s),m&8192)e:for(o=s.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(d===null||X||Va||br||Si(s)),d=null,o=s;;){if(o.tag===5||o.tag===26){if(d===null){X=d=o;try{if(b=X.stateNode,p)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{A=X.stateNode;var we=X.memoizedProps.style,he=we!=null&&we.hasOwnProperty("display")?we.display:null;A.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(ze){Ct(X,X.return,ze)}}}else if(o.tag===6){if(d===null){X=o;try{X.stateNode.nodeValue=p?"":X.memoizedProps}catch(ze){Ct(X,X.return,ze)}}}else if(o.tag===18){if(d===null){X=o;try{var ge=X.stateNode;p?eb(ge,!0):eb(X.stateNode,!1)}catch(ze){Ct(X,X.return,ze)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=s.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Td(s,d))));break;case 19:on(o,s),ln(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Td(s,m)));break;case 30:break;case 21:break;default:on(o,s),ln(s)}}function ln(s){var o=s.flags;if(o&2){try{for(var d,m=s.return;m!==null;){if(rv(m)){d=m;break}m=m.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var p=d.stateNode,b=fm(s);kd(s,b,p);break;case 5:var k=d.stateNode;d.flags&32&&(uo(k,""),d.flags&=-33);var A=fm(s);kd(s,A,k);break;case 3:case 4:var X=d.stateNode.containerInfo,le=fm(s);mm(s,le,X);break;default:throw Error(n(161))}}catch(ye){Ct(s,s.return,ye)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function dv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;dv(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function qa(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)sv(s,o.alternate,o),o=o.sibling}function Si(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:ks(4,o,o.return),Si(o);break;case 1:_a(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&ev(o,o.return,d),Si(o);break;case 27:pc(o.stateNode);case 26:case 5:_a(o,o.return),Si(o);break;case 22:o.memoizedState===null&&Si(o);break;case 30:Si(o);break;default:Si(o)}s=s.sibling}}function Ga(s,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,p=s,b=o,k=b.flags;switch(b.tag){case 0:case 11:case 15:Ga(p,b,d),oc(4,b);break;case 1:if(Ga(p,b,d),m=b,p=m.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(le){Ct(m,m.return,le)}if(m=b,p=m.updateQueue,p!==null){var A=m.stateNode;try{var X=p.shared.hiddenCallbacks;if(X!==null)for(p.shared.hiddenCallbacks=null,p=0;p<X.length;p++)Hy(X[p],A)}catch(le){Ct(m,m.return,le)}}d&&k&64&&Z1(b),lc(b,b.return);break;case 27:nv(b);case 26:case 5:Ga(p,b,d),d&&m===null&&k&4&&tv(b),lc(b,b.return);break;case 12:Ga(p,b,d);break;case 31:Ga(p,b,d),d&&k&4&&lv(p,b);break;case 13:Ga(p,b,d),d&&k&4&&cv(p,b);break;case 22:b.memoizedState===null&&Ga(p,b,d),lc(b,b.return);break;case 30:break;default:Ga(p,b,d)}o=o.sibling}}function xm(s,o){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Yl(d))}function pm(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Yl(s))}function aa(s,o,d,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)hv(s,o,d,m),o=o.sibling}function hv(s,o,d,m){var p=o.flags;switch(o.tag){case 0:case 11:case 15:aa(s,o,d,m),p&2048&&oc(9,o);break;case 1:aa(s,o,d,m);break;case 3:aa(s,o,d,m),p&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Yl(s)));break;case 12:if(p&2048){aa(s,o,d,m),s=o.stateNode;try{var b=o.memoizedProps,k=b.id,A=b.onPostCommit;typeof A=="function"&&A(k,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(X){Ct(o,o.return,X)}}else aa(s,o,d,m);break;case 31:aa(s,o,d,m);break;case 13:aa(s,o,d,m);break;case 23:break;case 22:b=o.stateNode,k=o.alternate,o.memoizedState!==null?b._visibility&2?aa(s,o,d,m):cc(s,o):b._visibility&2?aa(s,o,d,m):(b._visibility|=2,Oo(s,o,d,m,(o.subtreeFlags&10256)!==0||!1)),p&2048&&xm(k,o);break;case 24:aa(s,o,d,m),p&2048&&pm(o.alternate,o);break;default:aa(s,o,d,m)}}function Oo(s,o,d,m,p){for(p=p&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=s,k=o,A=d,X=m,le=k.flags;switch(k.tag){case 0:case 11:case 15:Oo(b,k,A,X,p),oc(8,k);break;case 23:break;case 22:var ye=k.stateNode;k.memoizedState!==null?ye._visibility&2?Oo(b,k,A,X,p):cc(b,k):(ye._visibility|=2,Oo(b,k,A,X,p)),p&&le&2048&&xm(k.alternate,k);break;case 24:Oo(b,k,A,X,p),p&&le&2048&&pm(k.alternate,k);break;default:Oo(b,k,A,X,p)}o=o.sibling}}function cc(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=s,m=o,p=m.flags;switch(m.tag){case 22:cc(d,m),p&2048&&xm(m.alternate,m);break;case 24:cc(d,m),p&2048&&pm(m.alternate,m);break;default:cc(d,m)}o=o.sibling}}var uc=8192;function Ro(s,o,d){if(s.subtreeFlags&uc)for(s=s.child;s!==null;)fv(s,o,d),s=s.sibling}function fv(s,o,d){switch(s.tag){case 26:Ro(s,o,d),s.flags&uc&&s.memoizedState!==null&&sj(d,na,s.memoizedState,s.memoizedProps);break;case 5:Ro(s,o,d);break;case 3:case 4:var m=na;na=zd(s.stateNode.containerInfo),Ro(s,o,d),na=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=uc,uc=16777216,Ro(s,o,d),uc=m):Ro(s,o,d));break;default:Ro(s,o,d)}}function mv(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function dc(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];Cr=m,xv(m,s)}mv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gv(s),s=s.sibling}function gv(s){switch(s.tag){case 0:case 11:case 15:dc(s),s.flags&2048&&ks(9,s,s.return);break;case 3:dc(s);break;case 12:dc(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,jd(s)):dc(s);break;default:dc(s)}}function jd(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];Cr=m,xv(m,s)}mv(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:ks(8,o,o.return),jd(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,jd(o));break;default:jd(o)}s=s.sibling}}function xv(s,o){for(;Cr!==null;){var d=Cr;switch(d.tag){case 0:case 11:case 15:ks(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Yl(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Cr=m;else e:for(d=s;Cr!==null;){m=Cr;var p=m.sibling,b=m.return;if(iv(m),m===d){Cr=null;break e}if(p!==null){p.return=b,Cr=p;break e}Cr=b}}}var bT={getCacheForType:function(s){var o=Fr(pr),d=o.data.get(s);return d===void 0&&(d=s(),o.data.set(s,d)),d},cacheSignal:function(){return Fr(pr).controller.signal}},_T=typeof WeakMap=="function"?WeakMap:Map,Et=0,$t=null,dt=null,gt=0,At=0,Nn=null,Ts=!1,Do=!1,ym=!1,Ya=0,or=0,js=0,Ni=0,vm=0,En=0,Mo=0,hc=null,cn=null,bm=!1,Ad=0,pv=0,Cd=1/0,Od=null,As=null,Er=0,Cs=null,Fo=null,Ka=0,_m=0,wm=null,yv=null,fc=0,Sm=null;function kn(){return(Et&2)!==0&&gt!==0?gt&-gt:te.T!==null?Am():j()}function vv(){if(En===0)if((gt&536870912)===0||yt){var s=so;so<<=1,(so&3932160)===0&&(so=262144),En=s}else En=536870912;return s=wn.current,s!==null&&(s.flags|=32),En}function un(s,o,d){(s===$t&&(At===2||At===9)||s.cancelPendingCommit!==null)&&(Lo(s,0),Os(s,gt,En,!1)),oi(s,d),((Et&2)===0||s!==$t)&&(s===$t&&((Et&2)===0&&(Ni|=d),or===4&&Os(s,gt,En,!1)),wa(s))}function bv(s,o,d){if((Et&6)!==0)throw Error(n(327));var m=!d&&(o&127)===0&&(o&s.expiredLanes)===0||ii(s,o),p=m?NT(s,o):Em(s,o,!0),b=m;do{if(p===0){Do&&!m&&Os(s,o,0,!1);break}else{if(d=s.current.alternate,b&&!wT(d)){p=Em(s,o,!1),b=!1;continue}if(p===2){if(b=o,s.errorRecoveryDisabledLanes&b)var k=0;else k=s.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var A=s;p=hc;var X=A.current.memoizedState.isDehydrated;if(X&&(Lo(A,k).flags|=256),k=Em(A,k,!1),k!==2){if(ym&&!X){A.errorRecoveryDisabledLanes|=b,Ni|=b,p=4;break e}b=cn,cn=p,b!==null&&(cn===null?cn=b:cn.push.apply(cn,b))}p=k}if(b=!1,p!==2)continue}}if(p===1){Lo(s,0),Os(s,o,0,!0);break}e:{switch(m=s,b=p,b){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Os(m,o,En,!Ts);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(p=Ad+300-F(),10<p)){if(Os(m,o,En,!Ts),oo(m,0,!0)!==0)break e;Ka=o,m.timeoutHandle=Jv(_v.bind(null,m,d,cn,Od,bm,o,En,Ni,Mo,Ts,b,"Throttled",-0,0),p);break e}_v(m,d,cn,Od,bm,o,En,Ni,Mo,Ts,b,null,-0,0)}}break}while(!0);wa(s)}function _v(s,o,d,m,p,b,k,A,X,le,ye,we,he,ge){if(s.timeoutHandle=-1,we=o.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ma},fv(o,b,we);var ze=(b&62914560)===b?Ad-F():(b&4194048)===b?pv-F():0;if(ze=ij(we,ze),ze!==null){Ka=b,s.cancelPendingCommit=ze(Av.bind(null,s,o,b,d,m,p,k,A,X,ye,we,null,he,ge)),Os(s,b,k,!le);return}}Av(s,o,b,d,m,p,k,A,X)}function wT(s){for(var o=s;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var p=d[m],b=p.getSnapshot;p=p.value;try{if(!bn(b(),p))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Os(s,o,d,m){o&=~vm,o&=~Ni,s.suspendedLanes|=o,s.pingedLanes&=~o,m&&(s.warmLanes|=o),m=s.expirationTimes;for(var p=o;0<p;){var b=31-nt(p),k=1<<b;m[b]=-1,p&=~k}d!==0&&zu(s,d,o)}function Rd(){return(Et&6)===0?(mc(0),!1):!0}function Nm(){if(dt!==null){if(At===0)var s=dt.return;else s=dt,Ia=gi=null,U0(s),ko=null,Xl=0,s=dt;for(;s!==null;)Q1(s.alternate,s),s=s.return;dt=null}}function Lo(s,o){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,HT(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Ka=0,Nm(),$t=s,dt=d=La(s.current,null),gt=o,At=0,Nn=null,Ts=!1,Do=ii(s,o),ym=!1,Mo=En=vm=Ni=js=or=0,cn=hc=null,bm=!1,(o&8)!==0&&(o|=o&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=o;0<m;){var p=31-nt(m),b=1<<p;o|=s[p],m&=~b}return Ya=o,Zu(),d}function wv(s,o){at=null,te.H=ac,o===Eo||o===od?(o=Iy(),At=3):o===j0?(o=Iy(),At=4):At=o===rm?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Nn=o,dt===null&&(or=1,_d(s,Un(o,s.current)))}function Sv(){var s=wn.current;return s===null?!0:(gt&4194048)===gt?Vn===null:(gt&62914560)===gt||(gt&536870912)!==0?s===Vn:!1}function Nv(){var s=te.H;return te.H=ac,s===null?ac:s}function Ev(){var s=te.A;return te.A=bT,s}function Dd(){or=4,Ts||(gt&4194048)!==gt&&wn.current!==null||(Do=!0),(js&134217727)===0&&(Ni&134217727)===0||$t===null||Os($t,gt,En,!1)}function Em(s,o,d){var m=Et;Et|=2;var p=Nv(),b=Ev();($t!==s||gt!==o)&&(Od=null,Lo(s,o)),o=!1;var k=or;e:do try{if(At!==0&&dt!==null){var A=dt,X=Nn;switch(At){case 8:Nm(),k=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(o=!0);var le=At;if(At=0,Nn=null,Po(s,A,X,le),d&&Do){k=0;break e}break;default:le=At,At=0,Nn=null,Po(s,A,X,le)}}ST(),k=or;break}catch(ye){wv(s,ye)}while(!0);return o&&s.shellSuspendCounter++,Ia=gi=null,Et=m,te.H=p,te.A=b,dt===null&&($t=null,gt=0,Zu()),k}function ST(){for(;dt!==null;)kv(dt)}function NT(s,o){var d=Et;Et|=2;var m=Nv(),p=Ev();$t!==s||gt!==o?(Od=null,Cd=F()+500,Lo(s,o)):Do=ii(s,o);e:do try{if(At!==0&&dt!==null){o=dt;var b=Nn;t:switch(At){case 1:At=0,Nn=null,Po(s,o,b,1);break;case 2:case 9:if(Ly(b)){At=0,Nn=null,Tv(o);break}o=function(){At!==2&&At!==9||$t!==s||(At=7),wa(s)},b.then(o,o);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:Ly(b)?(At=0,Nn=null,Tv(o)):(At=0,Nn=null,Po(s,o,b,7));break;case 5:var k=null;switch(dt.tag){case 26:k=dt.memoizedState;case 5:case 27:var A=dt;if(k?hb(k):A.stateNode.complete){At=0,Nn=null;var X=A.sibling;if(X!==null)dt=X;else{var le=A.return;le!==null?(dt=le,Md(le)):dt=null}break t}}At=0,Nn=null,Po(s,o,b,5);break;case 6:At=0,Nn=null,Po(s,o,b,6);break;case 8:Nm(),or=6;break e;default:throw Error(n(462))}}ET();break}catch(ye){wv(s,ye)}while(!0);return Ia=gi=null,te.H=m,te.A=p,Et=d,dt!==null?0:($t=null,gt=0,Zu(),or)}function ET(){for(;dt!==null&&!Vt();)kv(dt)}function kv(s){var o=X1(s.alternate,s,Ya);s.memoizedProps=s.pendingProps,o===null?Md(s):dt=o}function Tv(s){var o=s,d=o.alternate;switch(o.tag){case 15:case 0:o=V1(d,o,o.pendingProps,o.type,void 0,gt);break;case 11:o=V1(d,o,o.pendingProps,o.type.render,o.ref,gt);break;case 5:U0(o);default:Q1(d,o),o=dt=Ey(o,Ya),o=X1(d,o,Ya)}s.memoizedProps=s.pendingProps,o===null?Md(s):dt=o}function Po(s,o,d,m){Ia=gi=null,U0(o),ko=null,Xl=0;var p=o.return;try{if(fT(s,p,o,d,gt)){or=1,_d(s,Un(d,s.current)),dt=null;return}}catch(b){if(p!==null)throw dt=p,b;or=1,_d(s,Un(d,s.current)),dt=null;return}o.flags&32768?(yt||m===1?s=!0:Do||(gt&536870912)!==0?s=!1:(Ts=s=!0,(m===2||m===9||m===3||m===6)&&(m=wn.current,m!==null&&m.tag===13&&(m.flags|=16384))),jv(o,s)):Md(o)}function Md(s){var o=s;do{if((o.flags&32768)!==0){jv(o,Ts);return}s=o.return;var d=xT(o.alternate,o,Ya);if(d!==null){dt=d;return}if(o=o.sibling,o!==null){dt=o;return}dt=o=s}while(o!==null);or===0&&(or=5)}function jv(s,o){do{var d=pT(s.alternate,s);if(d!==null){d.flags&=32767,dt=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(s=s.sibling,s!==null)){dt=s;return}dt=s=d}while(s!==null);or=6,dt=null}function Av(s,o,d,m,p,b,k,A,X){s.cancelPendingCommit=null;do Fd();while(Er!==0);if((Et&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(b=o.lanes|o.childLanes,b|=f0,Wf(s,d,b,k,A,X),s===$t&&(dt=$t=null,gt=0),Fo=o,Cs=s,Ka=d,_m=b,wm=p,yv=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,AT(bt,function(){return Mv(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=te.T,te.T=null,p=ae.p,ae.p=2,k=Et,Et|=4;try{yT(s,o,d)}finally{Et=k,ae.p=p,te.T=m}}Er=1,Cv(),Ov(),Rv()}}function Cv(){if(Er===1){Er=0;var s=Cs,o=Fo,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=te.T,te.T=null;var m=ae.p;ae.p=2;var p=Et;Et|=4;try{uv(o,s);var b=Pm,k=xy(s.containerInfo),A=b.focusedElem,X=b.selectionRange;if(k!==A&&A&&A.ownerDocument&&gy(A.ownerDocument.documentElement,A)){if(X!==null&&l0(A)){var le=X.start,ye=X.end;if(ye===void 0&&(ye=le),"selectionStart"in A)A.selectionStart=le,A.selectionEnd=Math.min(ye,A.value.length);else{var we=A.ownerDocument||document,he=we&&we.defaultView||window;if(he.getSelection){var ge=he.getSelection(),ze=A.textContent.length,Ke=Math.min(X.start,ze),Ut=X.end===void 0?Ke:Math.min(X.end,ze);!ge.extend&&Ke>Ut&&(k=Ut,Ut=Ke,Ke=k);var re=my(A,Ke),ee=my(A,Ut);if(re&&ee&&(ge.rangeCount!==1||ge.anchorNode!==re.node||ge.anchorOffset!==re.offset||ge.focusNode!==ee.node||ge.focusOffset!==ee.offset)){var ie=we.createRange();ie.setStart(re.node,re.offset),ge.removeAllRanges(),Ke>Ut?(ge.addRange(ie),ge.extend(ee.node,ee.offset)):(ie.setEnd(ee.node,ee.offset),ge.addRange(ie))}}}}for(we=[],ge=A;ge=ge.parentNode;)ge.nodeType===1&&we.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<we.length;A++){var _e=we[A];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}Gd=!!Lm,Pm=Lm=null}finally{Et=p,ae.p=m,te.T=d}}s.current=o,Er=2}}function Ov(){if(Er===2){Er=0;var s=Cs,o=Fo,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=te.T,te.T=null;var m=ae.p;ae.p=2;var p=Et;Et|=4;try{sv(s,o.alternate,o)}finally{Et=p,ae.p=m,te.T=d}}Er=3}}function Rv(){if(Er===4||Er===3){Er=0,ut();var s=Cs,o=Fo,d=Ka,m=yv;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Er=5:(Er=0,Fo=Cs=null,Dv(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(As=null),Fl(d),o=o.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Yt,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=te.T,p=ae.p,ae.p=2,te.T=null;try{for(var b=s.onRecoverableError,k=0;k<m.length;k++){var A=m[k];b(A.value,{componentStack:A.stack})}}finally{te.T=o,ae.p=p}}(Ka&3)!==0&&Fd(),wa(s),p=s.pendingLanes,(d&261930)!==0&&(p&42)!==0?s===Sm?fc++:(fc=0,Sm=s):fc=0,mc(0)}}function Dv(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Yl(o)))}function Fd(){return Cv(),Ov(),Rv(),Mv()}function Mv(){if(Er!==5)return!1;var s=Cs,o=_m;_m=0;var d=Fl(Ka),m=te.T,p=ae.p;try{ae.p=32>d?32:d,te.T=null,d=wm,wm=null;var b=Cs,k=Ka;if(Er=0,Fo=Cs=null,Ka=0,(Et&6)!==0)throw Error(n(331));var A=Et;if(Et|=4,gv(b.current),hv(b,b.current,k,d),Et=A,mc(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Yt,b)}catch{}return!0}finally{ae.p=p,te.T=m,Dv(s,o)}}function Fv(s,o,d){o=Un(d,o),o=tm(s.stateNode,o,2),s=Ss(s,o,2),s!==null&&(oi(s,2),wa(s))}function Ct(s,o,d){if(s.tag===3)Fv(s,s,d);else for(;o!==null;){if(o.tag===3){Fv(o,s,d);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(As===null||!As.has(m))){s=Un(d,s),d=L1(2),m=Ss(o,d,2),m!==null&&(P1(d,m,o,s),oi(m,2),wa(m));break}}o=o.return}}function km(s,o,d){var m=s.pingCache;if(m===null){m=s.pingCache=new _T;var p=new Set;m.set(o,p)}else p=m.get(o),p===void 0&&(p=new Set,m.set(o,p));p.has(d)||(ym=!0,p.add(d),s=kT.bind(null,s,o,d),o.then(s,s))}function kT(s,o,d){var m=s.pingCache;m!==null&&m.delete(o),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,$t===s&&(gt&d)===d&&(or===4||or===3&&(gt&62914560)===gt&&300>F()-Ad?(Et&2)===0&&Lo(s,0):vm|=d,Mo===gt&&(Mo=0)),wa(s)}function Lv(s,o){o===0&&(o=Uu()),s=hi(s,o),s!==null&&(oi(s,o),wa(s))}function TT(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),Lv(s,d)}function jT(s,o){var d=0;switch(s.tag){case 31:case 13:var m=s.stateNode,p=s.memoizedState;p!==null&&(d=p.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),Lv(s,d)}function AT(s,o){return jt(s,o)}var Ld=null,Io=null,Tm=!1,Pd=!1,jm=!1,Rs=0;function wa(s){s!==Io&&s.next===null&&(Io===null?Ld=Io=s:Io=Io.next=s),Pd=!0,Tm||(Tm=!0,OT())}function mc(s,o){if(!jm&&Pd){jm=!0;do for(var d=!1,m=Ld;m!==null;){if(s!==0){var p=m.pendingLanes;if(p===0)var b=0;else{var k=m.suspendedLanes,A=m.pingedLanes;b=(1<<31-nt(42|s)+1)-1,b&=p&~(k&~A),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(d=!0,Uv(m,b))}else b=gt,b=oo(m,m===$t?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||ii(m,b)||(d=!0,Uv(m,b));m=m.next}while(d);jm=!1}}function CT(){Pv()}function Pv(){Pd=Tm=!1;var s=0;Rs!==0&&zT()&&(s=Rs);for(var o=F(),d=null,m=Ld;m!==null;){var p=m.next,b=Iv(m,o);b===0?(m.next=null,d===null?Ld=p:d.next=p,p===null&&(Io=d)):(d=m,(s!==0||(b&3)!==0)&&(Pd=!0)),m=p}Er!==0&&Er!==5||mc(s),Rs!==0&&(Rs=0)}function Iv(s,o){for(var d=s.suspendedLanes,m=s.pingedLanes,p=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var k=31-nt(b),A=1<<k,X=p[k];X===-1?((A&d)===0||(A&m)!==0)&&(p[k]=Vf(A,o)):X<=o&&(s.expiredLanes|=A),b&=~A}if(o=$t,d=gt,d=oo(s,s===o?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,d===0||s===o&&(At===2||At===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&Ht(m),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||ii(s,d)){if(o=d&-d,o===s.callbackPriority)return o;switch(m!==null&&Ht(m),Fl(d)){case 2:case 8:d=Je;break;case 32:d=bt;break;case 268435456:d=Pt;break;default:d=bt}return m=Bv.bind(null,s),d=jt(d,m),s.callbackPriority=o,s.callbackNode=d,o}return m!==null&&m!==null&&Ht(m),s.callbackPriority=2,s.callbackNode=null,2}function Bv(s,o){if(Er!==0&&Er!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Fd()&&s.callbackNode!==d)return null;var m=gt;return m=oo(s,s===$t?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(bv(s,m,o),Iv(s,F()),s.callbackNode!=null&&s.callbackNode===d?Bv.bind(null,s):null)}function Uv(s,o){if(Fd())return null;bv(s,o,!0)}function OT(){$T(function(){(Et&6)!==0?jt(Ge,CT):Pv()})}function Am(){if(Rs===0){var s=So;s===0&&(s=si,si<<=1,(si&261888)===0&&(si=256)),Rs=s}return Rs}function zv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Wu(""+s)}function Hv(s,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,s.id&&d.setAttribute("form",s.id),o.parentNode.insertBefore(d,o),s=new FormData(s),d.parentNode.removeChild(d),s}function RT(s,o,d,m,p){if(o==="submit"&&d&&d.stateNode===p){var b=zv((p[B]||null).action),k=m.submitter;k&&(o=(o=k[B]||null)?zv(o.formAction):k.getAttribute("formAction"),o!==null&&(b=o,k=null));var A=new Ku("action","action",null,m,p);s.push({event:A,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Rs!==0){var X=k?Hv(p,k):new FormData(p);K0(d,{pending:!0,data:X,method:p.method,action:b},null,X)}}else typeof b=="function"&&(A.preventDefault(),X=k?Hv(p,k):new FormData(p),K0(d,{pending:!0,data:X,method:p.method,action:b},b,X))},currentTarget:p}]})}}for(var Cm=0;Cm<h0.length;Cm++){var Om=h0[Cm],DT=Om.toLowerCase(),MT=Om[0].toUpperCase()+Om.slice(1);ra(DT,"on"+MT)}ra(vy,"onAnimationEnd"),ra(by,"onAnimationIteration"),ra(_y,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(Xk,"onTransitionRun"),ra(Jk,"onTransitionStart"),ra(Qk,"onTransitionCancel"),ra(wy,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function $v(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],p=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var k=m.length-1;0<=k;k--){var A=m[k],X=A.instance,le=A.currentTarget;if(A=A.listener,X!==b&&p.isPropagationStopped())break e;b=A,p.currentTarget=le;try{b(p)}catch(ye){Qu(ye)}p.currentTarget=null,b=X}else for(k=0;k<m.length;k++){if(A=m[k],X=A.instance,le=A.currentTarget,A=A.listener,X!==b&&p.isPropagationStopped())break e;b=A,p.currentTarget=le;try{b(p)}catch(ye){Qu(ye)}p.currentTarget=null,b=X}}}}function ht(s,o){var d=o[ce];d===void 0&&(d=o[ce]=new Set);var m=s+"__bubble";d.has(m)||(Vv(o,s,2,!1),d.add(m))}function Rm(s,o,d){var m=0;o&&(m|=4),Vv(d,s,m,o)}var Id="_reactListening"+Math.random().toString(36).slice(2);function Dm(s){if(!s[Id]){s[Id]=!0,Wt.forEach(function(d){d!=="selectionchange"&&(FT.has(d)||Rm(d,!1,s),Rm(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Id]||(o[Id]=!0,Rm("selectionchange",!1,o))}}function Vv(s,o,d,m){switch(vb(o)){case 2:var p=cj;break;case 8:p=uj;break;default:p=Ym}d=p.bind(null,o,d,s),p=void 0,!Zf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),m?p!==void 0?s.addEventListener(o,d,{capture:!0,passive:p}):s.addEventListener(o,d,!0):p!==void 0?s.addEventListener(o,d,{passive:p}):s.addEventListener(o,d,!1)}function Mm(s,o,d,m,p){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var A=m.stateNode.containerInfo;if(A===p)break;if(k===4)for(k=m.return;k!==null;){var X=k.tag;if((X===3||X===4)&&k.stateNode.containerInfo===p)return;k=k.return}for(;A!==null;){if(k=Re(A),k===null)return;if(X=k.tag,X===5||X===6||X===26||X===27){m=b=k;continue e}A=A.parentNode}}m=m.return}Kp(function(){var le=b,ye=Jf(d),we=[];e:{var he=Sy.get(s);if(he!==void 0){var ge=Ku,ze=s;switch(s){case"keypress":if(Gu(d)===0)break e;case"keydown":case"keyup":ge=jk;break;case"focusin":ze="focus",ge=n0;break;case"focusout":ze="blur",ge=n0;break;case"beforeblur":case"afterblur":ge=n0;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Qp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=xk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Ok;break;case vy:case by:case _y:ge=vk;break;case wy:ge=Dk;break;case"scroll":case"scrollend":ge=mk;break;case"wheel":ge=Fk;break;case"copy":case"cut":case"paste":ge=_k;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=ey;break;case"toggle":case"beforetoggle":ge=Pk}var Ke=(o&4)!==0,Ut=!Ke&&(s==="scroll"||s==="scrollend"),re=Ke?he!==null?he+"Capture":null:he;Ke=[];for(var ee=le,ie;ee!==null;){var _e=ee;if(ie=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ie===null||re===null||(_e=Pl(ee,re),_e!=null&&Ke.push(xc(ee,_e,ie))),Ut)break;ee=ee.return}0<Ke.length&&(he=new ge(he,ze,null,d,ye),we.push({event:he,listeners:Ke}))}}if((o&7)===0){e:{if(he=s==="mouseover"||s==="pointerover",ge=s==="mouseout"||s==="pointerout",he&&d!==Xf&&(ze=d.relatedTarget||d.fromElement)&&(Re(ze)||ze[z]))break e;if((ge||he)&&(he=ye.window===ye?ye:(he=ye.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(ze=d.relatedTarget||d.toElement,ge=le,ze=ze?Re(ze):null,ze!==null&&(Ut=i(ze),Ke=ze.tag,ze!==Ut||Ke!==5&&Ke!==27&&Ke!==6)&&(ze=null)):(ge=null,ze=le),ge!==ze)){if(Ke=Qp,_e="onMouseLeave",re="onMouseEnter",ee="mouse",(s==="pointerout"||s==="pointerover")&&(Ke=ey,_e="onPointerLeave",re="onPointerEnter",ee="pointer"),Ut=ge==null?he:Ce(ge),ie=ze==null?he:Ce(ze),he=new Ke(_e,ee+"leave",ge,d,ye),he.target=Ut,he.relatedTarget=ie,_e=null,Re(ye)===le&&(Ke=new Ke(re,ee+"enter",ze,d,ye),Ke.target=ie,Ke.relatedTarget=Ut,_e=Ke),Ut=_e,ge&&ze)t:{for(Ke=LT,re=ge,ee=ze,ie=0,_e=re;_e;_e=Ke(_e))ie++;_e=0;for(var qe=ee;qe;qe=Ke(qe))_e++;for(;0<ie-_e;)re=Ke(re),ie--;for(;0<_e-ie;)ee=Ke(ee),_e--;for(;ie--;){if(re===ee||ee!==null&&re===ee.alternate){Ke=re;break t}re=Ke(re),ee=Ke(ee)}Ke=null}else Ke=null;ge!==null&&Wv(we,he,ge,Ke,!1),ze!==null&&Ut!==null&&Wv(we,Ut,ze,Ke,!0)}}e:{if(he=le?Ce(le):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var wt=ly;else if(iy(he))if(cy)wt=Gk;else{wt=Wk;var $e=Vk}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?le&&Kf(le.elementType)&&(wt=ly):wt=qk;if(wt&&(wt=wt(s,le))){oy(we,wt,d,ye);break e}$e&&$e(s,he,le),s==="focusout"&&le&&he.type==="number"&&le.memoizedProps.value!=null&&Yf(he,"number",he.value)}switch($e=le?Ce(le):window,s){case"focusin":(iy($e)||$e.contentEditable==="true")&&(go=$e,c0=le,Wl=null);break;case"focusout":Wl=c0=go=null;break;case"mousedown":u0=!0;break;case"contextmenu":case"mouseup":case"dragend":u0=!1,py(we,d,ye);break;case"selectionchange":if(Kk)break;case"keydown":case"keyup":py(we,d,ye)}var ot;if(s0)e:{switch(s){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else mo?ay(s,d)&&(xt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(xt="onCompositionStart");xt&&(ty&&d.locale!=="ko"&&(mo||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&mo&&(ot=Xp()):(xs=ye,e0="value"in xs?xs.value:xs.textContent,mo=!0)),$e=Bd(le,xt),0<$e.length&&(xt=new Zp(xt,s,null,d,ye),we.push({event:xt,listeners:$e}),ot?xt.data=ot:(ot=sy(d),ot!==null&&(xt.data=ot)))),(ot=Bk?Uk(s,d):zk(s,d))&&(xt=Bd(le,"onBeforeInput"),0<xt.length&&($e=new Zp("onBeforeInput","beforeinput",null,d,ye),we.push({event:$e,listeners:xt}),$e.data=ot)),RT(we,s,le,d,ye)}$v(we,o)})}function xc(s,o,d){return{instance:s,listener:o,currentTarget:d}}function Bd(s,o){for(var d=o+"Capture",m=[];s!==null;){var p=s,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=Pl(s,d),p!=null&&m.unshift(xc(s,p,b)),p=Pl(s,o),p!=null&&m.push(xc(s,p,b))),s.tag===3)return m;s=s.return}return[]}function LT(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Wv(s,o,d,m,p){for(var b=o._reactName,k=[];d!==null&&d!==m;){var A=d,X=A.alternate,le=A.stateNode;if(A=A.tag,X!==null&&X===m)break;A!==5&&A!==26&&A!==27||le===null||(X=le,p?(le=Pl(d,b),le!=null&&k.unshift(xc(d,le,X))):p||(le=Pl(d,b),le!=null&&k.push(xc(d,le,X)))),d=d.return}k.length!==0&&s.push({event:o,listeners:k})}var PT=/\r\n?/g,IT=/\u0000|\uFFFD/g;function qv(s){return(typeof s=="string"?s:""+s).replace(PT,`
`).replace(IT,"")}function Gv(s,o){return o=qv(o),qv(s)===o}function Bt(s,o,d,m,p,b){switch(d){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||uo(s,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&uo(s,""+m);break;case"className":$u(s,"class",m);break;case"tabIndex":$u(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":$u(s,d,m);break;case"style":Gp(s,m,b);break;case"data":if(o!=="object"){$u(s,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||d!=="href")){s.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(d);break}m=Wu(""+m),s.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(d==="formAction"?(o!=="input"&&Bt(s,o,"name",p.name,p,null),Bt(s,o,"formEncType",p.formEncType,p,null),Bt(s,o,"formMethod",p.formMethod,p,null),Bt(s,o,"formTarget",p.formTarget,p,null)):(Bt(s,o,"encType",p.encType,p,null),Bt(s,o,"method",p.method,p,null),Bt(s,o,"target",p.target,p,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(d);break}m=Wu(""+m),s.setAttribute(d,m);break;case"onClick":m!=null&&(s.onclick=Ma);break;case"onScroll":m!=null&&ht("scroll",s);break;case"onScrollEnd":m!=null&&ht("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(d=m.__html,d!=null){if(p.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}d=Wu(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,""+m):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":m===!0?s.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,m):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(d,m):s.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(d):s.setAttribute(d,m);break;case"popover":ht("beforetoggle",s),ht("toggle",s),nn(s,"popover",m);break;case"xlinkActuate":Da(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Da(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Da(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Da(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Da(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Da(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Da(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Da(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Da(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":nn(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=hk.get(d)||d,nn(s,d,m))}}function Fm(s,o,d,m,p,b){switch(d){case"style":Gp(s,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(d=m.__html,d!=null){if(p.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof m=="string"?uo(s,m):(typeof m=="number"||typeof m=="bigint")&&uo(s,""+m);break;case"onScroll":m!=null&&ht("scroll",s);break;case"onScrollEnd":m!=null&&ht("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qt.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(p=d.endsWith("Capture"),o=d.slice(2,p?d.length-7:void 0),b=s[B]||null,b=b!=null?b[d]:null,typeof b=="function"&&s.removeEventListener(o,b,p),typeof m=="function")){typeof b!="function"&&b!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(o,m,p);break e}d in s?s[d]=m:m===!0?s.setAttribute(d,""):nn(s,d,m)}}}function Pr(s,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",s),ht("load",s);var m=!1,p=!1,b;for(b in d)if(d.hasOwnProperty(b)){var k=d[b];if(k!=null)switch(b){case"src":m=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Bt(s,o,b,k,d,null)}}p&&Bt(s,o,"srcSet",d.srcSet,d,null),m&&Bt(s,o,"src",d.src,d,null);return;case"input":ht("invalid",s);var A=b=k=p=null,X=null,le=null;for(m in d)if(d.hasOwnProperty(m)){var ye=d[m];if(ye!=null)switch(m){case"name":p=ye;break;case"type":k=ye;break;case"checked":X=ye;break;case"defaultChecked":le=ye;break;case"value":b=ye;break;case"defaultValue":A=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,o));break;default:Bt(s,o,m,ye,d,null)}}$p(s,b,A,X,le,k,p,!1);return;case"select":ht("invalid",s),m=k=b=null;for(p in d)if(d.hasOwnProperty(p)&&(A=d[p],A!=null))switch(p){case"value":b=A;break;case"defaultValue":k=A;break;case"multiple":m=A;default:Bt(s,o,p,A,d,null)}o=b,d=k,s.multiple=!!m,o!=null?co(s,!!m,o,!1):d!=null&&co(s,!!m,d,!0);return;case"textarea":ht("invalid",s),b=p=m=null;for(k in d)if(d.hasOwnProperty(k)&&(A=d[k],A!=null))switch(k){case"value":m=A;break;case"defaultValue":p=A;break;case"children":b=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:Bt(s,o,k,A,d,null)}Wp(s,m,p,b);return;case"option":for(X in d)if(d.hasOwnProperty(X)&&(m=d[X],m!=null))switch(X){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Bt(s,o,X,m,d,null)}return;case"dialog":ht("beforetoggle",s),ht("toggle",s),ht("cancel",s),ht("close",s);break;case"iframe":case"object":ht("load",s);break;case"video":case"audio":for(m=0;m<gc.length;m++)ht(gc[m],s);break;case"image":ht("error",s),ht("load",s);break;case"details":ht("toggle",s);break;case"embed":case"source":case"link":ht("error",s),ht("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in d)if(d.hasOwnProperty(le)&&(m=d[le],m!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Bt(s,o,le,m,d,null)}return;default:if(Kf(o)){for(ye in d)d.hasOwnProperty(ye)&&(m=d[ye],m!==void 0&&Fm(s,o,ye,m,d,void 0));return}}for(A in d)d.hasOwnProperty(A)&&(m=d[A],m!=null&&Bt(s,o,A,m,d,null))}function BT(s,o,d,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,k=null,A=null,X=null,le=null,ye=null;for(ge in d){var we=d[ge];if(d.hasOwnProperty(ge)&&we!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":X=we;default:m.hasOwnProperty(ge)||Bt(s,o,ge,null,m,we)}}for(var he in m){var ge=m[he];if(we=d[he],m.hasOwnProperty(he)&&(ge!=null||we!=null))switch(he){case"type":b=ge;break;case"name":p=ge;break;case"checked":le=ge;break;case"defaultChecked":ye=ge;break;case"value":k=ge;break;case"defaultValue":A=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,o));break;default:ge!==we&&Bt(s,o,he,ge,m,we)}}Gf(s,k,A,X,le,ye,b,p);return;case"select":ge=k=A=he=null;for(b in d)if(X=d[b],d.hasOwnProperty(b)&&X!=null)switch(b){case"value":break;case"multiple":ge=X;default:m.hasOwnProperty(b)||Bt(s,o,b,null,m,X)}for(p in m)if(b=m[p],X=d[p],m.hasOwnProperty(p)&&(b!=null||X!=null))switch(p){case"value":he=b;break;case"defaultValue":A=b;break;case"multiple":k=b;default:b!==X&&Bt(s,o,p,b,m,X)}o=A,d=k,m=ge,he!=null?co(s,!!d,he,!1):!!m!=!!d&&(o!=null?co(s,!!d,o,!0):co(s,!!d,d?[]:"",!1));return;case"textarea":ge=he=null;for(A in d)if(p=d[A],d.hasOwnProperty(A)&&p!=null&&!m.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Bt(s,o,A,null,m,p)}for(k in m)if(p=m[k],b=d[k],m.hasOwnProperty(k)&&(p!=null||b!=null))switch(k){case"value":he=p;break;case"defaultValue":ge=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==b&&Bt(s,o,k,p,m,b)}Vp(s,he,ge);return;case"option":for(var ze in d)if(he=d[ze],d.hasOwnProperty(ze)&&he!=null&&!m.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:Bt(s,o,ze,null,m,he)}for(X in m)if(he=m[X],ge=d[X],m.hasOwnProperty(X)&&he!==ge&&(he!=null||ge!=null))switch(X){case"selected":s.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:Bt(s,o,X,he,m,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in d)he=d[Ke],d.hasOwnProperty(Ke)&&he!=null&&!m.hasOwnProperty(Ke)&&Bt(s,o,Ke,null,m,he);for(le in m)if(he=m[le],ge=d[le],m.hasOwnProperty(le)&&he!==ge&&(he!=null||ge!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,o));break;default:Bt(s,o,le,he,m,ge)}return;default:if(Kf(o)){for(var Ut in d)he=d[Ut],d.hasOwnProperty(Ut)&&he!==void 0&&!m.hasOwnProperty(Ut)&&Fm(s,o,Ut,void 0,m,he);for(ye in m)he=m[ye],ge=d[ye],!m.hasOwnProperty(ye)||he===ge||he===void 0&&ge===void 0||Fm(s,o,ye,he,m,ge);return}}for(var re in d)he=d[re],d.hasOwnProperty(re)&&he!=null&&!m.hasOwnProperty(re)&&Bt(s,o,re,null,m,he);for(we in m)he=m[we],ge=d[we],!m.hasOwnProperty(we)||he===ge||he==null&&ge==null||Bt(s,o,we,he,m,ge)}function Yv(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UT(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var p=d[m],b=p.transferSize,k=p.initiatorType,A=p.duration;if(b&&A&&Yv(k)){for(k=0,A=p.responseEnd,m+=1;m<d.length;m++){var X=d[m],le=X.startTime;if(le>A)break;var ye=X.transferSize,we=X.initiatorType;ye&&Yv(we)&&(X=X.responseEnd,k+=ye*(X<A?1:(A-le)/(X-le)))}if(--m,o+=8*(b+k)/(p.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Lm=null,Pm=null;function Ud(s){return s.nodeType===9?s:s.ownerDocument}function Kv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xv(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Im(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Bm=null;function zT(){var s=window.event;return s&&s.type==="popstate"?s===Bm?!1:(Bm=s,!0):(Bm=null,!1)}var Jv=typeof setTimeout=="function"?setTimeout:void 0,HT=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,$T=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(s){return Qv.resolve(null).then(s).catch(VT)}:Jv;function VT(s){setTimeout(function(){throw s})}function Ds(s){return s==="head"}function Zv(s,o){var d=o,m=0;do{var p=d.nextSibling;if(s.removeChild(d),p&&p.nodeType===8)if(d=p.data,d==="/$"||d==="/&"){if(m===0){s.removeChild(p),Ho(o);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")pc(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,pc(d);for(var b=d.firstChild;b;){var k=b.nextSibling,A=b.nodeName;b[fe]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&b.rel.toLowerCase()==="stylesheet"||d.removeChild(b),b=k}}else d==="body"&&pc(s.ownerDocument.body);d=p}while(d);Ho(o)}function eb(s,o){var d=s;s=0;do{var m=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=m}while(d)}function Um(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Um(d),Ae(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function WT(s,o,d,m){for(;s.nodeType===1;){var p=d;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[fe])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Wn(s.nextSibling),s===null)break}return null}function qT(s,o,d){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Wn(s.nextSibling),s===null))return null;return s}function tb(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Wn(s.nextSibling),s===null))return null;return s}function zm(s){return s.data==="$?"||s.data==="$~"}function Hm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function GT(s,o){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||d.readyState!=="loading")o();else{var m=function(){o(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Wn(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var $m=null;function rb(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(o===0)return Wn(s.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}s=s.nextSibling}return null}function nb(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return s;o--}else d!=="/$"&&d!=="/&"||o++}s=s.previousSibling}return null}function ab(s,o,d){switch(o=Ud(d),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function pc(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ae(s)}var qn=new Map,sb=new Set;function zd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Xa=ae.d;ae.d={f:YT,r:KT,D:XT,C:JT,L:QT,m:ZT,X:tj,S:ej,M:rj};function YT(){var s=Xa.f(),o=Rd();return s||o}function KT(s){var o=Ie(s);o!==null&&o.tag===5&&o.type==="form"?w1(o):Xa.r(s)}var Bo=typeof document>"u"?null:document;function ib(s,o,d){var m=Bo;if(m&&typeof o=="string"&&o){var p=In(o);p='link[rel="'+s+'"][href="'+p+'"]',typeof d=="string"&&(p+='[crossorigin="'+d+'"]'),sb.has(p)||(sb.add(p),s={rel:s,crossOrigin:d,href:o},m.querySelector(p)===null&&(o=m.createElement("link"),Pr(o,"link",s),He(o),m.head.appendChild(o)))}}function XT(s){Xa.D(s),ib("dns-prefetch",s,null)}function JT(s,o){Xa.C(s,o),ib("preconnect",s,o)}function QT(s,o,d){Xa.L(s,o,d);var m=Bo;if(m&&s&&o){var p='link[rel="preload"][as="'+In(o)+'"]';o==="image"&&d&&d.imageSrcSet?(p+='[imagesrcset="'+In(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(p+='[imagesizes="'+In(d.imageSizes)+'"]')):p+='[href="'+In(s)+'"]';var b=p;switch(o){case"style":b=Uo(s);break;case"script":b=zo(s)}qn.has(b)||(s=x({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:s,as:o},d),qn.set(b,s),m.querySelector(p)!==null||o==="style"&&m.querySelector(yc(b))||o==="script"&&m.querySelector(vc(b))||(o=m.createElement("link"),Pr(o,"link",s),He(o),m.head.appendChild(o)))}}function ZT(s,o){Xa.m(s,o);var d=Bo;if(d&&s){var m=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+In(m)+'"][href="'+In(s)+'"]',b=p;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=zo(s)}if(!qn.has(b)&&(s=x({rel:"modulepreload",href:s},o),qn.set(b,s),d.querySelector(p)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(vc(b)))return}m=d.createElement("link"),Pr(m,"link",s),He(m),d.head.appendChild(m)}}}function ej(s,o,d){Xa.S(s,o,d);var m=Bo;if(m&&s){var p=Le(m).hoistableStyles,b=Uo(s);o=o||"default";var k=p.get(b);if(!k){var A={loading:0,preload:null};if(k=m.querySelector(yc(b)))A.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":o},d),(d=qn.get(b))&&Vm(s,d);var X=k=m.createElement("link");He(X),Pr(X,"link",s),X._p=new Promise(function(le,ye){X.onload=le,X.onerror=ye}),X.addEventListener("load",function(){A.loading|=1}),X.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Hd(k,o,m)}k={type:"stylesheet",instance:k,count:1,state:A},p.set(b,k)}}}function tj(s,o){Xa.X(s,o);var d=Bo;if(d&&s){var m=Le(d).hoistableScripts,p=zo(s),b=m.get(p);b||(b=d.querySelector(vc(p)),b||(s=x({src:s,async:!0},o),(o=qn.get(p))&&Wm(s,o),b=d.createElement("script"),He(b),Pr(b,"link",s),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(p,b))}}function rj(s,o){Xa.M(s,o);var d=Bo;if(d&&s){var m=Le(d).hoistableScripts,p=zo(s),b=m.get(p);b||(b=d.querySelector(vc(p)),b||(s=x({src:s,async:!0,type:"module"},o),(o=qn.get(p))&&Wm(s,o),b=d.createElement("script"),He(b),Pr(b,"link",s),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(p,b))}}function ob(s,o,d,m){var p=(p=se.current)?zd(p):null;if(!p)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Uo(d.href),d=Le(p).hoistableStyles,m=d.get(o),m||(m={type:"style",instance:null,count:0,state:null},d.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Uo(d.href);var b=Le(p).hoistableStyles,k=b.get(s);if(k||(p=p.ownerDocument||p,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,k),(b=p.querySelector(yc(s)))&&!b._p&&(k.instance=b,k.state.loading=5),qn.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},qn.set(s,d),b||nj(p,s,d,k.state))),o&&m===null)throw Error(n(528,""));return k}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=zo(d),d=Le(p).hoistableScripts,m=d.get(o),m||(m={type:"script",instance:null,count:0,state:null},d.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Uo(s){return'href="'+In(s)+'"'}function yc(s){return'link[rel="stylesheet"]['+s+"]"}function lb(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function nj(s,o,d,m){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=s.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Pr(o,"link",d),He(o),s.head.appendChild(o))}function zo(s){return'[src="'+In(s)+'"]'}function vc(s){return"script[async]"+s}function cb(s,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var m=s.querySelector('style[data-href~="'+In(d.href)+'"]');if(m)return o.instance=m,He(m),m;var p=x({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),He(m),Pr(m,"style",p),Hd(m,d.precedence,s),o.instance=m;case"stylesheet":p=Uo(d.href);var b=s.querySelector(yc(p));if(b)return o.state.loading|=4,o.instance=b,He(b),b;m=lb(d),(p=qn.get(p))&&Vm(m,p),b=(s.ownerDocument||s).createElement("link"),He(b);var k=b;return k._p=new Promise(function(A,X){k.onload=A,k.onerror=X}),Pr(b,"link",m),o.state.loading|=4,Hd(b,d.precedence,s),o.instance=b;case"script":return b=zo(d.src),(p=s.querySelector(vc(b)))?(o.instance=p,He(p),p):(m=d,(p=qn.get(b))&&(m=x({},d),Wm(m,p)),s=s.ownerDocument||s,p=s.createElement("script"),He(p),Pr(p,"link",m),s.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Hd(m,d.precedence,s));return o.instance}function Hd(s,o,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=m.length?m[m.length-1]:null,b=p,k=0;k<m.length;k++){var A=m[k];if(A.dataset.precedence===o)b=A;else if(b!==p)break}b?b.parentNode.insertBefore(s,b.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(s,o.firstChild))}function Vm(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Wm(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var $d=null;function ub(s,o,d){if($d===null){var m=new Map,p=$d=new Map;p.set(d,m)}else p=$d,m=p.get(d),m||(m=new Map,p.set(d,m));if(m.has(s))return m;for(m.set(s,null),d=d.getElementsByTagName(s),p=0;p<d.length;p++){var b=d[p];if(!(b[fe]||b[P]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(o)||"";k=s+k;var A=m.get(k);A?A.push(b):m.set(k,[b])}}return m}function db(s,o,d){s=s.ownerDocument||s,s.head.insertBefore(d,o==="title"?s.querySelector("head > title"):null)}function aj(s,o,d){if(d===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function hb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function sj(s,o,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var p=Uo(m.href),b=o.querySelector(yc(p));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=Vd.bind(s),o.then(s,s)),d.state.loading|=4,d.instance=b,He(b);return}b=o.ownerDocument||o,m=lb(m),(p=qn.get(p))&&Vm(m,p),b=b.createElement("link"),He(b);var k=b;k._p=new Promise(function(A,X){k.onload=A,k.onerror=X}),Pr(b,"link",m),d.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Vd.bind(s),o.addEventListener("load",d),o.addEventListener("error",d))}}var qm=0;function ij(s,o){return s.stylesheets&&s.count===0&&qd(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var m=setTimeout(function(){if(s.stylesheets&&qd(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+o);0<s.imgBytes&&qm===0&&(qm=62500*UT());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&qd(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>qm?50:800)+o);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(p)}}:null}function Vd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Wd=null;function qd(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Wd=new Map,o.forEach(oj,s),Wd=null,Vd.call(s))}function oj(s,o){if(!(o.state.loading&4)){var d=Wd.get(s);if(d)var m=d.get(null);else{d=new Map,Wd.set(s,d);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var k=p[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),m=k)}m&&d.set(null,m)}p=o.instance,k=p.getAttribute("data-precedence"),b=d.get(k)||m,b===m&&d.set(null,p),d.set(k,p),this.count++,m=Vd.bind(this),p.addEventListener("load",m),p.addEventListener("error",m),b?b.parentNode.insertBefore(p,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),o.state.loading|=4}}var bc={$$typeof:T,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function lj(s,o,d,m,p,b,k,A,X){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.hiddenUpdates=Dl(null),this.identifierPrefix=m,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function fb(s,o,d,m,p,b,k,A,X,le,ye,we){return s=new lj(s,o,d,k,X,le,ye,we,A),o=1,b===!0&&(o|=24),b=_n(3,null,null,o),s.current=b,b.stateNode=s,o=E0(),o.refCount++,s.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:d,cache:o},A0(b),s}function mb(s){return s?(s=yo,s):yo}function gb(s,o,d,m,p,b){p=mb(p),m.context===null?m.context=p:m.pendingContext=p,m=ws(o),m.payload={element:d},b=b===void 0?null:b,b!==null&&(m.callback=b),d=Ss(s,m,o),d!==null&&(un(d,s,o),Ql(d,s,o))}function xb(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function Gm(s,o){xb(s,o),(s=s.alternate)&&xb(s,o)}function pb(s){if(s.tag===13||s.tag===31){var o=hi(s,67108864);o!==null&&un(o,s,67108864),Gm(s,67108864)}}function yb(s){if(s.tag===13||s.tag===31){var o=kn();o=Ml(o);var d=hi(s,o);d!==null&&un(d,s,o),Gm(s,o)}}var Gd=!0;function cj(s,o,d,m){var p=te.T;te.T=null;var b=ae.p;try{ae.p=2,Ym(s,o,d,m)}finally{ae.p=b,te.T=p}}function uj(s,o,d,m){var p=te.T;te.T=null;var b=ae.p;try{ae.p=8,Ym(s,o,d,m)}finally{ae.p=b,te.T=p}}function Ym(s,o,d,m){if(Gd){var p=Km(m);if(p===null)Mm(s,o,m,Yd,d),bb(s,m);else if(hj(p,s,o,d,m))m.stopPropagation();else if(bb(s,m),o&4&&-1<dj.indexOf(s)){for(;p!==null;){var b=Ie(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=Fn(b.pendingLanes);if(k!==0){var A=b;for(A.pendingLanes|=2,A.entangledLanes|=2;k;){var X=1<<31-nt(k);A.entanglements[1]|=X,k&=~X}wa(b),(Et&6)===0&&(Cd=F()+500,mc(0))}}break;case 31:case 13:A=hi(b,2),A!==null&&un(A,b,2),Rd(),Gm(b,2)}if(b=Km(m),b===null&&Mm(s,o,m,Yd,d),b===p)break;p=b}p!==null&&m.stopPropagation()}else Mm(s,o,m,null,d)}}function Km(s){return s=Jf(s),Xm(s)}var Yd=null;function Xm(s){if(Yd=null,s=Re(s),s!==null){var o=i(s);if(o===null)s=null;else{var d=o.tag;if(d===13){if(s=l(o),s!==null)return s;s=null}else if(d===31){if(s=u(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Yd=s,null}function vb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case Ge:return 2;case Je:return 8;case bt:case Qe:return 32;case Pt:return 268435456;default:return 32}default:return 32}}var Jm=!1,Ms=null,Fs=null,Ls=null,_c=new Map,wc=new Map,Ps=[],dj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bb(s,o){switch(s){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":_c.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(o.pointerId)}}function Sc(s,o,d,m,p,b){return s===null||s.nativeEvent!==b?(s={blockedOn:o,domEventName:d,eventSystemFlags:m,nativeEvent:b,targetContainers:[p]},o!==null&&(o=Ie(o),o!==null&&pb(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),s)}function hj(s,o,d,m,p){switch(o){case"focusin":return Ms=Sc(Ms,s,o,d,m,p),!0;case"dragenter":return Fs=Sc(Fs,s,o,d,m,p),!0;case"mouseover":return Ls=Sc(Ls,s,o,d,m,p),!0;case"pointerover":var b=p.pointerId;return _c.set(b,Sc(_c.get(b)||null,s,o,d,m,p)),!0;case"gotpointercapture":return b=p.pointerId,wc.set(b,Sc(wc.get(b)||null,s,o,d,m,p)),!0}return!1}function _b(s){var o=Re(s.target);if(o!==null){var d=i(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){s.blockedOn=o,U(s.priority,function(){yb(d)});return}}else if(o===31){if(o=u(d),o!==null){s.blockedOn=o,U(s.priority,function(){yb(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kd(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=Km(s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);Xf=m,d.target.dispatchEvent(m),Xf=null}else return o=Ie(d),o!==null&&pb(o),s.blockedOn=d,!1;o.shift()}return!0}function wb(s,o,d){Kd(s)&&d.delete(o)}function fj(){Jm=!1,Ms!==null&&Kd(Ms)&&(Ms=null),Fs!==null&&Kd(Fs)&&(Fs=null),Ls!==null&&Kd(Ls)&&(Ls=null),_c.forEach(wb),wc.forEach(wb)}function Xd(s,o){s.blockedOn===o&&(s.blockedOn=null,Jm||(Jm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fj)))}var Jd=null;function Sb(s){Jd!==s&&(Jd=s,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jd===s&&(Jd=null);for(var o=0;o<s.length;o+=3){var d=s[o],m=s[o+1],p=s[o+2];if(typeof m!="function"){if(Xm(m||d)===null)continue;break}var b=Ie(d);b!==null&&(s.splice(o,3),o-=3,K0(b,{pending:!0,data:p,method:d.method,action:m},m,p))}}))}function Ho(s){function o(X){return Xd(X,s)}Ms!==null&&Xd(Ms,s),Fs!==null&&Xd(Fs,s),Ls!==null&&Xd(Ls,s),_c.forEach(o),wc.forEach(o);for(var d=0;d<Ps.length;d++){var m=Ps[d];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Ps.length&&(d=Ps[0],d.blockedOn===null);)_b(d),d.blockedOn===null&&Ps.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var p=d[m],b=d[m+1],k=p[B]||null;if(typeof b=="function")k||Sb(d);else if(k){var A=null;if(b&&b.hasAttribute("formAction")){if(p=b,k=b[B]||null)A=k.formAction;else if(Xm(p)!==null)continue}else A=k.action;typeof A=="function"?d[m+1]=A:(d.splice(m,3),m-=3),Sb(d)}}}function Nb(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(k){return p=k})},focusReset:"manual",scroll:"manual"})}function o(){p!==null&&(p(),p=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),p!==null&&(p(),p=null)}}}function Qm(s){this._internalRoot=s}Qd.prototype.render=Qm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,m=kn();gb(d,m,s,o,null,null)},Qd.prototype.unmount=Qm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;gb(s.current,2,null,s,null,null),Rd(),o[z]=null}};function Qd(s){this._internalRoot=s}Qd.prototype.unstable_scheduleHydration=function(s){if(s){var o=j();s={blockedOn:null,target:s,priority:o};for(var d=0;d<Ps.length&&o!==0&&o<Ps[d].priority;d++);Ps.splice(d,0,s),d===0&&_b(s)}};var Eb=e.version;if(Eb!=="19.2.0")throw Error(n(527,Eb,"19.2.0"));ae.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=f(o),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var mj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zd.isDisabled&&Zd.supportsFiber)try{Yt=Zd.inject(mj),Ze=Zd}catch{}}return Ec.createRoot=function(s,o){if(!a(s))throw Error(n(299));var d=!1,m="",p=R1,b=D1,k=M1;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=fb(s,1,!1,null,null,d,m,null,p,b,k,Nb),s[z]=o.current,Dm(s),new Qm(o)},Ec.hydrateRoot=function(s,o,d){if(!a(s))throw Error(n(299));var m=!1,p="",b=R1,k=D1,A=M1,X=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(p=d.identifierPrefix),d.onUncaughtError!==void 0&&(b=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(A=d.onRecoverableError),d.formState!==void 0&&(X=d.formState)),o=fb(s,1,!0,o,d??null,m,p,X,b,k,A,Nb),o.context=mb(null),d=o.current,m=kn(),m=Ml(m),p=ws(m),p.callback=null,Ss(d,p,m),d=m,o.current.lanes=d,oi(o,d),wa(o),s[z]=o.current,Dm(s),new Qd(o)},Ec.version="19.2.0",Ec}var Fb;function Nj(){if(Fb)return tg.exports;Fb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tg.exports=Sj(),tg.exports}var Ej=Nj();const V2=I.createContext(void 0),kj=()=>{const r=I.useContext(V2);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},Tj=({children:r})=>{const[e,t]=I.useState(()=>{const a=localStorage.getItem("darkMode");return a!==null?JSON.parse(a):window.matchMedia("(prefers-color-scheme: dark)").matches});I.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(e)),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const n=()=>{t(!e)};return c.jsx(V2.Provider,{value:{isDarkMode:e,toggleTheme:n},children:r})};function W2(r,e){return function(){return r.apply(e,arguments)}}const{toString:jj}=Object.prototype,{getPrototypeOf:kx}=Object,{iterator:bf,toStringTag:q2}=Symbol,_f=(r=>e=>{const t=jj.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),xa=r=>(r=r.toLowerCase(),e=>_f(e)===r),wf=r=>e=>typeof e===r,{isArray:vl}=Array,hl=wf("undefined");function wu(r){return r!==null&&!hl(r)&&r.constructor!==null&&!hl(r.constructor)&&mn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const G2=xa("ArrayBuffer");function Aj(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&G2(r.buffer),e}const Cj=wf("string"),mn=wf("function"),Y2=wf("number"),Su=r=>r!==null&&typeof r=="object",Oj=r=>r===!0||r===!1,Rh=r=>{if(_f(r)!=="object")return!1;const e=kx(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(q2 in r)&&!(bf in r)},Rj=r=>{if(!Su(r)||wu(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},Dj=xa("Date"),Mj=xa("File"),Fj=xa("Blob"),Lj=xa("FileList"),Pj=r=>Su(r)&&mn(r.pipe),Ij=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||mn(r.append)&&((e=_f(r))==="formdata"||e==="object"&&mn(r.toString)&&r.toString()==="[object FormData]"))},Bj=xa("URLSearchParams"),[Uj,zj,Hj,$j]=["ReadableStream","Request","Response","Headers"].map(xa),Vj=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nu(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,a;if(typeof r!="object"&&(r=[r]),vl(r))for(n=0,a=r.length;n<a;n++)e.call(null,r[n],n,r);else{if(wu(r))return;const i=t?Object.getOwnPropertyNames(r):Object.keys(r),l=i.length;let u;for(n=0;n<l;n++)u=i[n],e.call(null,r[u],u,r)}}function K2(r,e){if(wu(r))return null;e=e.toLowerCase();const t=Object.keys(r);let n=t.length,a;for(;n-- >0;)if(a=t[n],e===a.toLowerCase())return a;return null}const Pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,X2=r=>!hl(r)&&r!==Pi;function Hg(){const{caseless:r,skipUndefined:e}=X2(this)&&this||{},t={},n=(a,i)=>{const l=r&&K2(t,i)||i;Rh(t[l])&&Rh(a)?t[l]=Hg(t[l],a):Rh(a)?t[l]=Hg({},a):vl(a)?t[l]=a.slice():(!e||!hl(a))&&(t[l]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Nu(arguments[a],n);return t}const Wj=(r,e,t,{allOwnKeys:n}={})=>(Nu(e,(a,i)=>{t&&mn(a)?r[i]=W2(a,t):r[i]=a},{allOwnKeys:n}),r),qj=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Gj=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Yj=(r,e,t,n)=>{let a,i,l;const u={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),i=a.length;i-- >0;)l=a[i],(!n||n(l,r,e))&&!u[l]&&(e[l]=r[l],u[l]=!0);r=t!==!1&&kx(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Kj=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},Xj=r=>{if(!r)return null;if(vl(r))return r;let e=r.length;if(!Y2(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Jj=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&kx(Uint8Array)),Qj=(r,e)=>{const n=(r&&r[bf]).call(r);let a;for(;(a=n.next())&&!a.done;){const i=a.value;e.call(r,i[0],i[1])}},Zj=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},e3=xa("HTMLFormElement"),t3=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,a){return n.toUpperCase()+a}),Lb=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),r3=xa("RegExp"),J2=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Nu(t,(a,i)=>{let l;(l=e(a,i,r))!==!1&&(n[i]=l||a)}),Object.defineProperties(r,n)},n3=r=>{J2(r,(e,t)=>{if(mn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(mn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},a3=(r,e)=>{const t={},n=a=>{a.forEach(i=>{t[i]=!0})};return vl(r)?n(r):n(String(r).split(e)),t},s3=()=>{},i3=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function o3(r){return!!(r&&mn(r.append)&&r[q2]==="FormData"&&r[bf])}const l3=r=>{const e=new Array(10),t=(n,a)=>{if(Su(n)){if(e.indexOf(n)>=0)return;if(wu(n))return n;if(!("toJSON"in n)){e[a]=n;const i=vl(n)?[]:{};return Nu(n,(l,u)=>{const h=t(l,a+1);!hl(h)&&(i[u]=h)}),e[a]=void 0,i}}return n};return t(r,0)},c3=xa("AsyncFunction"),u3=r=>r&&(Su(r)||mn(r))&&mn(r.then)&&mn(r.catch),Q2=((r,e)=>r?setImmediate:e?((t,n)=>(Pi.addEventListener("message",({source:a,data:i})=>{a===Pi&&i===t&&n.length&&n.shift()()},!1),a=>{n.push(a),Pi.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",mn(Pi.postMessage)),d3=typeof queueMicrotask<"u"?queueMicrotask.bind(Pi):typeof process<"u"&&process.nextTick||Q2,h3=r=>r!=null&&mn(r[bf]),me={isArray:vl,isArrayBuffer:G2,isBuffer:wu,isFormData:Ij,isArrayBufferView:Aj,isString:Cj,isNumber:Y2,isBoolean:Oj,isObject:Su,isPlainObject:Rh,isEmptyObject:Rj,isReadableStream:Uj,isRequest:zj,isResponse:Hj,isHeaders:$j,isUndefined:hl,isDate:Dj,isFile:Mj,isBlob:Fj,isRegExp:r3,isFunction:mn,isStream:Pj,isURLSearchParams:Bj,isTypedArray:Jj,isFileList:Lj,forEach:Nu,merge:Hg,extend:Wj,trim:Vj,stripBOM:qj,inherits:Gj,toFlatObject:Yj,kindOf:_f,kindOfTest:xa,endsWith:Kj,toArray:Xj,forEachEntry:Qj,matchAll:Zj,isHTMLForm:e3,hasOwnProperty:Lb,hasOwnProp:Lb,reduceDescriptors:J2,freezeMethods:n3,toObjectSet:a3,toCamelCase:t3,noop:s3,toFiniteNumber:i3,findKey:K2,global:Pi,isContextDefined:X2,isSpecCompliantForm:o3,toJSONObject:l3,isAsyncFn:c3,isThenable:u3,setImmediate:Q2,asap:d3,isIterable:h3};function st(r,e,t,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}me.inherits(st,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const Z2=st.prototype,eS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{eS[r]={value:r}});Object.defineProperties(st,eS);Object.defineProperty(Z2,"isAxiosError",{value:!0});st.from=(r,e,t,n,a,i)=>{const l=Object.create(Z2);me.toFlatObject(r,l,function(g){return g!==Error.prototype},f=>f!=="isAxiosError");const u=r&&r.message?r.message:"Error",h=e==null&&r?r.code:e;return st.call(l,u,h,t,n,a),r&&l.cause==null&&Object.defineProperty(l,"cause",{value:r,configurable:!0}),l.name=r&&r.name||"Error",i&&Object.assign(l,i),l};const f3=null;function $g(r){return me.isPlainObject(r)||me.isArray(r)}function tS(r){return me.endsWith(r,"[]")?r.slice(0,-2):r}function Pb(r,e,t){return r?r.concat(e).map(function(a,i){return a=tS(a),!t&&i?"["+a+"]":a}).join(t?".":""):e}function m3(r){return me.isArray(r)&&!r.some($g)}const g3=me.toFlatObject(me,{},null,function(e){return/^is[A-Z]/.test(e)});function Sf(r,e,t){if(!me.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=me.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,S){return!me.isUndefined(S[_])});const n=t.metaTokens,a=t.visitor||g,i=t.dots,l=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(e);if(!me.isFunction(a))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(me.isDate(w))return w.toISOString();if(me.isBoolean(w))return w.toString();if(!h&&me.isBlob(w))throw new st("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(w)||me.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,_,S){let E=w;if(w&&!S&&typeof w=="object"){if(me.endsWith(_,"{}"))_=n?_:_.slice(0,-2),w=JSON.stringify(w);else if(me.isArray(w)&&m3(w)||(me.isFileList(w)||me.endsWith(_,"[]"))&&(E=me.toArray(w)))return _=tS(_),E.forEach(function(T,M){!(me.isUndefined(T)||T===null)&&e.append(l===!0?Pb([_],M,i):l===null?_:_+"[]",f(T))}),!1}return $g(w)?!0:(e.append(Pb(S,_,i),f(w)),!1)}const x=[],y=Object.assign(g3,{defaultVisitor:g,convertValue:f,isVisitable:$g});function v(w,_){if(!me.isUndefined(w)){if(x.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));x.push(w),me.forEach(w,function(E,N){(!(me.isUndefined(E)||E===null)&&a.call(e,E,me.isString(N)?N.trim():N,_,y))===!0&&v(E,_?_.concat(N):[N])}),x.pop()}}if(!me.isObject(r))throw new TypeError("data must be an object");return v(r),e}function Ib(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Tx(r,e){this._pairs=[],r&&Sf(r,this,e)}const rS=Tx.prototype;rS.append=function(e,t){this._pairs.push([e,t])};rS.toString=function(e){const t=e?function(n){return e.call(this,n,Ib)}:Ib;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function x3(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function nS(r,e,t){if(!e)return r;const n=t&&t.encode||x3;me.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let i;if(a?i=a(e,t):i=me.isURLSearchParams(e)?e.toString():new Tx(e,t).toString(n),i){const l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class Bb{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){me.forEach(this.handlers,function(n){n!==null&&e(n)})}}const aS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},p3=typeof URLSearchParams<"u"?URLSearchParams:Tx,y3=typeof FormData<"u"?FormData:null,v3=typeof Blob<"u"?Blob:null,b3={isBrowser:!0,classes:{URLSearchParams:p3,FormData:y3,Blob:v3},protocols:["http","https","file","blob","url","data"]},jx=typeof window<"u"&&typeof document<"u",Vg=typeof navigator=="object"&&navigator||void 0,_3=jx&&(!Vg||["ReactNative","NativeScript","NS"].indexOf(Vg.product)<0),w3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",S3=jx&&window.location.href||"http://localhost",N3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jx,hasStandardBrowserEnv:_3,hasStandardBrowserWebWorkerEnv:w3,navigator:Vg,origin:S3},Symbol.toStringTag,{value:"Module"})),Yr={...N3,...b3};function E3(r,e){return Sf(r,new Yr.classes.URLSearchParams,{visitor:function(t,n,a,i){return Yr.isNode&&me.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function k3(r){return me.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function T3(r){const e={},t=Object.keys(r);let n;const a=t.length;let i;for(n=0;n<a;n++)i=t[n],e[i]=r[i];return e}function sS(r){function e(t,n,a,i){let l=t[i++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=i>=t.length;return l=!l&&me.isArray(a)?a.length:l,h?(me.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!u):((!a[l]||!me.isObject(a[l]))&&(a[l]=[]),e(t,n,a[l],i)&&me.isArray(a[l])&&(a[l]=T3(a[l])),!u)}if(me.isFormData(r)&&me.isFunction(r.entries)){const t={};return me.forEachEntry(r,(n,a)=>{e(k3(n),a,t,0)}),t}return null}function j3(r,e,t){if(me.isString(r))try{return(e||JSON.parse)(r),me.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Eu={transitional:aS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,i=me.isObject(e);if(i&&me.isHTMLForm(e)&&(e=new FormData(e)),me.isFormData(e))return a?JSON.stringify(sS(e)):e;if(me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)||me.isReadableStream(e))return e;if(me.isArrayBufferView(e))return e.buffer;if(me.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return E3(e,this.formSerializer).toString();if((u=me.isFileList(e))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Sf(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return i||a?(t.setContentType("application/json",!1),j3(e)):e}],transformResponse:[function(e){const t=this.transitional||Eu.transitional,n=t&&t.forcedJSONParsing,a=this.responseType==="json";if(me.isResponse(e)||me.isReadableStream(e))return e;if(e&&me.isString(e)&&(n&&!this.responseType||a)){const l=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?st.from(u,st.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yr.classes.FormData,Blob:Yr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],r=>{Eu.headers[r]={}});const A3=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),C3=r=>{const e={};let t,n,a;return r&&r.split(`
`).forEach(function(l){a=l.indexOf(":"),t=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!t||e[t]&&A3[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Ub=Symbol("internals");function kc(r){return r&&String(r).trim().toLowerCase()}function Dh(r){return r===!1||r==null?r:me.isArray(r)?r.map(Dh):String(r)}function O3(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const R3=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function sg(r,e,t,n,a){if(me.isFunction(n))return n.call(this,e,t);if(a&&(e=t),!!me.isString(e)){if(me.isString(n))return e.indexOf(n)!==-1;if(me.isRegExp(n))return n.test(e)}}function D3(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function M3(r,e){const t=me.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(a,i,l){return this[n].call(this,e,a,i,l)},configurable:!0})})}let gn=class{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function i(u,h,f){const g=kc(h);if(!g)throw new Error("header name must be a non-empty string");const x=me.findKey(a,g);(!x||a[x]===void 0||f===!0||f===void 0&&a[x]!==!1)&&(a[x||h]=Dh(u))}const l=(u,h)=>me.forEach(u,(f,g)=>i(f,g,h));if(me.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(me.isString(e)&&(e=e.trim())&&!R3(e))l(C3(e),t);else if(me.isObject(e)&&me.isIterable(e)){let u={},h,f;for(const g of e){if(!me.isArray(g))throw TypeError("Object iterator must return a key-value pair");u[f=g[0]]=(h=u[f])?me.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}l(u,t)}else e!=null&&i(t,e,n);return this}get(e,t){if(e=kc(e),e){const n=me.findKey(this,e);if(n){const a=this[n];if(!t)return a;if(t===!0)return O3(a);if(me.isFunction(t))return t.call(this,a,n);if(me.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=kc(e),e){const n=me.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||sg(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let a=!1;function i(l){if(l=kc(l),l){const u=me.findKey(n,l);u&&(!t||sg(n,n[u],u,t))&&(delete n[u],a=!0)}}return me.isArray(e)?e.forEach(i):i(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const i=t[n];(!e||sg(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const t=this,n={};return me.forEach(this,(a,i)=>{const l=me.findKey(n,i);if(l){t[l]=Dh(a),delete t[i];return}const u=e?D3(i):String(i).trim();u!==i&&delete t[i],t[u]=Dh(a),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return me.forEach(this,(n,a)=>{n!=null&&n!==!1&&(t[a]=e&&me.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[Ub]=this[Ub]={accessors:{}}).accessors,a=this.prototype;function i(l){const u=kc(l);n[u]||(M3(a,l),n[u]=!0)}return me.isArray(e)?e.forEach(i):i(e),this}};gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(gn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});me.freezeMethods(gn);function ig(r,e){const t=this||Eu,n=e||t,a=gn.from(n.headers);let i=n.data;return me.forEach(r,function(u){i=u.call(t,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function iS(r){return!!(r&&r.__CANCEL__)}function bl(r,e,t){st.call(this,r??"canceled",st.ERR_CANCELED,e,t),this.name="CanceledError"}me.inherits(bl,st,{__CANCEL__:!0});function oS(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new st("Request failed with status code "+t.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function F3(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function L3(r,e){r=r||10;const t=new Array(r),n=new Array(r);let a=0,i=0,l;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),g=n[i];l||(l=f),t[a]=h,n[a]=f;let x=i,y=0;for(;x!==a;)y+=t[x++],x=x%r;if(a=(a+1)%r,a===i&&(i=(i+1)%r),f-l<e)return;const v=g&&f-g;return v?Math.round(y*1e3/v):void 0}}function P3(r,e){let t=0,n=1e3/e,a,i;const l=(f,g=Date.now())=>{t=g,a=null,i&&(clearTimeout(i),i=null),r(...f)};return[(...f)=>{const g=Date.now(),x=g-t;x>=n?l(f,g):(a=f,i||(i=setTimeout(()=>{i=null,l(a)},n-x)))},()=>a&&l(a)]}const Bh=(r,e,t=3)=>{let n=0;const a=L3(50,250);return P3(i=>{const l=i.loaded,u=i.lengthComputable?i.total:void 0,h=l-n,f=a(h),g=l<=u;n=l;const x={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&g?(u-l)/f:void 0,event:i,lengthComputable:u!=null,[e?"download":"upload"]:!0};r(x)},t)},zb=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},Hb=r=>(...e)=>me.asap(()=>r(...e)),I3=Yr.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Yr.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Yr.origin),Yr.navigator&&/(msie|trident)/i.test(Yr.navigator.userAgent)):()=>!0,B3=Yr.hasStandardBrowserEnv?{write(r,e,t,n,a,i){const l=[r+"="+encodeURIComponent(e)];me.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),me.isString(n)&&l.push("path="+n),me.isString(a)&&l.push("domain="+a),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function U3(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function z3(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function lS(r,e,t){let n=!U3(e);return r&&(n||t==!1)?z3(r,e):e}const $b=r=>r instanceof gn?{...r}:r;function $i(r,e){e=e||{};const t={};function n(f,g,x,y){return me.isPlainObject(f)&&me.isPlainObject(g)?me.merge.call({caseless:y},f,g):me.isPlainObject(g)?me.merge({},g):me.isArray(g)?g.slice():g}function a(f,g,x,y){if(me.isUndefined(g)){if(!me.isUndefined(f))return n(void 0,f,x,y)}else return n(f,g,x,y)}function i(f,g){if(!me.isUndefined(g))return n(void 0,g)}function l(f,g){if(me.isUndefined(g)){if(!me.isUndefined(f))return n(void 0,f)}else return n(void 0,g)}function u(f,g,x){if(x in e)return n(f,g);if(x in r)return n(void 0,f)}const h={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,g,x)=>a($b(f),$b(g),x,!0)};return me.forEach(Object.keys({...r,...e}),function(g){const x=h[g]||a,y=x(r[g],e[g],g);me.isUndefined(y)&&x!==u||(t[g]=y)}),t}const cS=r=>{const e=$i({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:u}=e;if(e.headers=l=gn.from(l),e.url=nS(lS(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),me.isFormData(t)){if(Yr.hasStandardBrowserEnv||Yr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(me.isFunction(t.getHeaders)){const h=t.getHeaders(),f=["content-type","content-length"];Object.entries(h).forEach(([g,x])=>{f.includes(g.toLowerCase())&&l.set(g,x)})}}if(Yr.hasStandardBrowserEnv&&(n&&me.isFunction(n)&&(n=n(e)),n||n!==!1&&I3(e.url))){const h=a&&i&&B3.read(i);h&&l.set(a,h)}return e},H3=typeof XMLHttpRequest<"u",$3=H3&&function(r){return new Promise(function(t,n){const a=cS(r);let i=a.data;const l=gn.from(a.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:f}=a,g,x,y,v,w;function _(){v&&v(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function E(){if(!S)return;const T=gn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),C={data:!u||u==="text"||u==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:T,config:r,request:S};oS(function(D){t(D),_()},function(D){n(D),_()},C),S=null}"onloadend"in S?S.onloadend=E:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(E)},S.onabort=function(){S&&(n(new st("Request aborted",st.ECONNABORTED,r,S)),S=null)},S.onerror=function(M){const C=M&&M.message?M.message:"Network Error",V=new st(C,st.ERR_NETWORK,r,S);V.event=M||null,n(V),S=null},S.ontimeout=function(){let M=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||aS;a.timeoutErrorMessage&&(M=a.timeoutErrorMessage),n(new st(M,C.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,r,S)),S=null},i===void 0&&l.setContentType(null),"setRequestHeader"in S&&me.forEach(l.toJSON(),function(M,C){S.setRequestHeader(C,M)}),me.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),u&&u!=="json"&&(S.responseType=a.responseType),f&&([y,w]=Bh(f,!0),S.addEventListener("progress",y)),h&&S.upload&&([x,v]=Bh(h),S.upload.addEventListener("progress",x),S.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(g=T=>{S&&(n(!T||T.type?new bl(null,r,S):T),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const N=F3(a.url);if(N&&Yr.protocols.indexOf(N)===-1){n(new st("Unsupported protocol "+N+":",st.ERR_BAD_REQUEST,r));return}S.send(i||null)})},V3=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,a;const i=function(f){if(!a){a=!0,u();const g=f instanceof Error?f:this.reason;n.abort(g instanceof st?g:new bl(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,i(new st(`timeout ${e} of ms exceeded`,st.ETIMEDOUT))},e);const u=()=>{r&&(l&&clearTimeout(l),l=null,r.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),r=null)};r.forEach(f=>f.addEventListener("abort",i));const{signal:h}=n;return h.unsubscribe=()=>me.asap(u),h}},W3=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,a;for(;n<t;)a=n+e,yield r.slice(n,a),n=a},q3=async function*(r,e){for await(const t of G3(r))yield*W3(t,e)},G3=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Vb=(r,e,t,n)=>{const a=q3(r,e);let i=0,l,u=h=>{l||(l=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:f,value:g}=await a.next();if(f){u(),h.close();return}let x=g.byteLength;if(t){let y=i+=x;t(y)}h.enqueue(new Uint8Array(g))}catch(f){throw u(f),f}},cancel(h){return u(h),a.return()}},{highWaterMark:2})},Wb=64*1024,{isFunction:eh}=me,Y3=(({Request:r,Response:e})=>({Request:r,Response:e}))(me.global),{ReadableStream:qb,TextEncoder:Gb}=me.global,Yb=(r,...e)=>{try{return!!r(...e)}catch{return!1}},K3=r=>{r=me.merge.call({skipUndefined:!0},Y3,r);const{fetch:e,Request:t,Response:n}=r,a=e?eh(e):typeof fetch=="function",i=eh(t),l=eh(n);if(!a)return!1;const u=a&&eh(qb),h=a&&(typeof Gb=="function"?(w=>_=>w.encode(_))(new Gb):async w=>new Uint8Array(await new t(w).arrayBuffer())),f=i&&u&&Yb(()=>{let w=!1;const _=new t(Yr.origin,{body:new qb,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!_}),g=l&&u&&Yb(()=>me.isReadableStream(new n("").body)),x={stream:g&&(w=>w.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!x[w]&&(x[w]=(_,S)=>{let E=_&&_[w];if(E)return E.call(_);throw new st(`Response type '${w}' is not supported`,st.ERR_NOT_SUPPORT,S)})});const y=async w=>{if(w==null)return 0;if(me.isBlob(w))return w.size;if(me.isSpecCompliantForm(w))return(await new t(Yr.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(me.isArrayBufferView(w)||me.isArrayBuffer(w))return w.byteLength;if(me.isURLSearchParams(w)&&(w=w+""),me.isString(w))return(await h(w)).byteLength},v=async(w,_)=>{const S=me.toFiniteNumber(w.getContentLength());return S??y(_)};return async w=>{let{url:_,method:S,data:E,signal:N,cancelToken:T,timeout:M,onDownloadProgress:C,onUploadProgress:V,responseType:D,headers:Y,withCredentials:O="same-origin",fetchOptions:Q}=cS(w),W=e||fetch;D=D?(D+"").toLowerCase():"text";let Z=V3([N,T&&T.toAbortSignal()],M),xe=null;const Fe=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let ke;try{if(V&&f&&S!=="get"&&S!=="head"&&(ke=await v(Y,E))!==0){let K=new t(_,{method:"POST",body:E,duplex:"half"}),R;if(me.isFormData(E)&&(R=K.headers.get("content-type"))&&Y.setContentType(R),K.body){const[q,H]=zb(ke,Bh(Hb(V)));E=Vb(K.body,Wb,q,H)}}me.isString(O)||(O=O?"include":"omit");const te=i&&"credentials"in t.prototype,ae={...Q,signal:Z,method:S.toUpperCase(),headers:Y.normalize().toJSON(),body:E,duplex:"half",credentials:te?O:void 0};xe=i&&new t(_,ae);let Te=await(i?W(xe,Q):W(_,ae));const Oe=g&&(D==="stream"||D==="response");if(g&&(C||Oe&&Fe)){const K={};["status","statusText","headers"].forEach(G=>{K[G]=Te[G]});const R=me.toFiniteNumber(Te.headers.get("content-length")),[q,H]=C&&zb(R,Bh(Hb(C),!0))||[];Te=new n(Vb(Te.body,Wb,q,()=>{H&&H(),Fe&&Fe()}),K)}D=D||"text";let We=await x[me.findKey(x,D)||"text"](Te,w);return!Oe&&Fe&&Fe(),await new Promise((K,R)=>{oS(K,R,{data:We,headers:gn.from(Te.headers),status:Te.status,statusText:Te.statusText,config:w,request:xe})})}catch(te){throw Fe&&Fe(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new st("Network Error",st.ERR_NETWORK,w,xe),{cause:te.cause||te}):st.from(te,te&&te.code,w,xe)}}},X3=new Map,uS=r=>{let e=r?r.env:{};const{fetch:t,Request:n,Response:a}=e,i=[n,a,t];let l=i.length,u=l,h,f,g=X3;for(;u--;)h=i[u],f=g.get(h),f===void 0&&g.set(h,f=u?new Map:K3(e)),g=f;return f};uS();const Wg={http:f3,xhr:$3,fetch:{get:uS}};me.forEach(Wg,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Kb=r=>`- ${r}`,J3=r=>me.isFunction(r)||r===null||r===!1,dS={getAdapter:(r,e)=>{r=me.isArray(r)?r:[r];const{length:t}=r;let n,a;const i={};for(let l=0;l<t;l++){n=r[l];let u;if(a=n,!J3(n)&&(a=Wg[(u=String(n)).toLowerCase()],a===void 0))throw new st(`Unknown adapter '${u}'`);if(a&&(me.isFunction(a)||(a=a.get(e))))break;i[u||"#"+l]=a}if(!a){const l=Object.entries(i).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=t?l.length>1?`since :
`+l.map(Kb).join(`
`):" "+Kb(l[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return a},adapters:Wg};function og(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new bl(null,r)}function Xb(r){return og(r),r.headers=gn.from(r.headers),r.data=ig.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),dS.getAdapter(r.adapter||Eu.adapter,r)(r).then(function(n){return og(r),n.data=ig.call(r,r.transformResponse,n),n.headers=gn.from(n.headers),n},function(n){return iS(n)||(og(r),n&&n.response&&(n.response.data=ig.call(r,r.transformResponse,n.response),n.response.headers=gn.from(n.response.headers))),Promise.reject(n)})}const hS="1.12.2",Nf={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Nf[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const Jb={};Nf.transitional=function(e,t,n){function a(i,l){return"[Axios v"+hS+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,u)=>{if(e===!1)throw new st(a(l," has been removed"+(t?" in "+t:"")),st.ERR_DEPRECATED);return t&&!Jb[l]&&(Jb[l]=!0,console.warn(a(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,l,u):!0}};Nf.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Q3(r,e,t){if(typeof r!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let a=n.length;for(;a-- >0;){const i=n[a],l=e[i];if(l){const u=r[i],h=u===void 0||l(u,i,r);if(h!==!0)throw new st("option "+i+" must be "+h,st.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new st("Unknown option "+i,st.ERR_BAD_OPTION)}}const Mh={assertOptions:Q3,validators:Nf},Sa=Mh.validators;let Ui=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Bb,response:new Bb}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=$i(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:i}=t;n!==void 0&&Mh.assertOptions(n,{silentJSONParsing:Sa.transitional(Sa.boolean),forcedJSONParsing:Sa.transitional(Sa.boolean),clarifyTimeoutError:Sa.transitional(Sa.boolean)},!1),a!=null&&(me.isFunction(a)?t.paramsSerializer={serialize:a}:Mh.assertOptions(a,{encode:Sa.function,serialize:Sa.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Mh.assertOptions(t,{baseUrl:Sa.spelling("baseURL"),withXsrfToken:Sa.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=i&&me.merge(i.common,i[t.method]);i&&me.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),t.headers=gn.concat(l,i);const u=[];let h=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(t)===!1||(h=h&&_.synchronous,u.unshift(_.fulfilled,_.rejected))});const f=[];this.interceptors.response.forEach(function(_){f.push(_.fulfilled,_.rejected)});let g,x=0,y;if(!h){const w=[Xb.bind(this),void 0];for(w.unshift(...u),w.push(...f),y=w.length,g=Promise.resolve(t);x<y;)g=g.then(w[x++],w[x++]);return g}y=u.length;let v=t;for(;x<y;){const w=u[x++],_=u[x++];try{v=w(v)}catch(S){_.call(this,S);break}}try{g=Xb.call(this,v)}catch(w){return Promise.reject(w)}for(x=0,y=f.length;x<y;)g=g.then(f[x++],f[x++]);return g}getUri(e){e=$i(this.defaults,e);const t=lS(e.baseURL,e.url,e.allowAbsoluteUrls);return nS(t,e.params,e.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(e){Ui.prototype[e]=function(t,n){return this.request($i(n||{},{method:e,url:t,data:(n||{}).data}))}});me.forEach(["post","put","patch"],function(e){function t(n){return function(i,l,u){return this.request($i(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Ui.prototype[e]=t(),Ui.prototype[e+"Form"]=t(!0)});let Z3=class fS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(u=>{n.subscribe(u),i=u}).then(a);return l.cancel=function(){n.unsubscribe(i)},l},e(function(i,l,u){n.reason||(n.reason=new bl(i,l,u),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new fS(function(a){e=a}),cancel:e}}};function eA(r){return function(t){return r.apply(null,t)}}function tA(r){return me.isObject(r)&&r.isAxiosError===!0}const qg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qg).forEach(([r,e])=>{qg[e]=r});function mS(r){const e=new Ui(r),t=W2(Ui.prototype.request,e);return me.extend(t,Ui.prototype,e,{allOwnKeys:!0}),me.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return mS($i(r,a))},t}const gr=mS(Eu);gr.Axios=Ui;gr.CanceledError=bl;gr.CancelToken=Z3;gr.isCancel=iS;gr.VERSION=hS;gr.toFormData=Sf;gr.AxiosError=st;gr.Cancel=gr.CanceledError;gr.all=function(e){return Promise.all(e)};gr.spread=eA;gr.isAxiosError=tA;gr.mergeConfig=$i;gr.AxiosHeaders=gn;gr.formToJSON=r=>sS(me.isHTMLForm(r)?new FormData(r):r);gr.getAdapter=dS.getAdapter;gr.HttpStatusCode=qg;gr.default=gr;const{Axios:MH,AxiosError:FH,CanceledError:LH,isCancel:PH,CancelToken:IH,VERSION:BH,all:UH,Cancel:zH,isAxiosError:HH,spread:$H,toFormData:VH,AxiosHeaders:WH,HttpStatusCode:qH,formToJSON:GH,getAdapter:YH,mergeConfig:KH}=gr,rA="https://api.open-meteo.com/v1/forecast";class nA{async getWeatherData(e){const t={latitude:e.latitude,longitude:e.longitude,daily:["temperature_2m_max","temperature_2m_min","wind_speed_10m_max","precipitation_sum","rain_sum","et0_fao_evapotranspiration","et0_fao_evapotranspiration_sum"].join(","),forecast_days:14,models:"gfs_seamless",timezone:"America/Los_Angeles",temperature_unit:"fahrenheit",wind_speed_unit:"mph",precipitation_unit:"inch"};try{return(await gr.get(rA,{params:t})).data}catch(n){throw console.error("Error fetching weather data:",n),new Error("Failed to fetch weather data")}}async getCurrentLocation(){return new Promise((e,t)=>{if(!navigator.geolocation){t(new Error("Geolocation is not supported by this browser."));return}navigator.geolocation.getCurrentPosition(n=>{e({latitude:n.coords.latitude,longitude:n.coords.longitude,name:"Current Location"})},n=>{console.error("Error getting location:",n),e({latitude:34.0522,longitude:-118.2437,name:"Los Angeles, CA"})})})}}const aA=new nA,gS=I.createContext(void 0),ku=()=>{const r=I.useContext(gS);if(r===void 0)throw new Error("useLocations must be used within a LocationsProvider");return r},sA=({children:r})=>{const[e,t]=I.useState([]),[n,a]=I.useState(!1);I.useEffect(()=>{const v=localStorage.getItem("weatherLocations");if(v)try{const w=JSON.parse(v);t(w)}catch(w){console.error("Error parsing saved locations:",w)}else l({latitude:34.0522,longitude:-118.2437,name:"Los Angeles, CA"})},[]),I.useEffect(()=>{e.length>0&&localStorage.setItem("weatherLocations",JSON.stringify(e))},[e]);const i=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){const w=Math.random()*16|0;return(v==="x"?w:w&3|8).toString(16)}),l=v=>{const w={...v,id:i(),isFavorite:!1,loading:!0};t(_=>[..._,w]),f(w.id,w)},u=v=>{t(w=>w.filter(_=>_.id!==v))},h=v=>{t(w=>w.map(_=>_.id===v?{..._,isFavorite:!_.isFavorite}:_))},f=async(v,w)=>{const _=w||e.find(S=>S.id===v);if(_){t(S=>S.map(E=>E.id===v?{...E,loading:!0,error:void 0}:E));try{const S=await aA.getWeatherData(_);t(E=>E.map(N=>N.id===v?{...N,weatherData:S,loading:!1,error:void 0,lastUpdated:new Date().toISOString()}:N))}catch(S){t(E=>E.map(N=>N.id===v?{...N,loading:!1,error:S instanceof Error?S.message:"Failed to fetch weather data"}:N))}}},g=v=>{f(v)},x=async()=>{a(!0);const v=e.map(w=>f(w.id));try{await Promise.all(v)}finally{a(!1)}},y=e.filter(v=>v.isFavorite);return c.jsx(gS.Provider,{value:{locations:e,favorites:y,addLocation:l,removeLocation:u,toggleFavorite:h,refreshLocation:g,refreshAllLocations:x,loading:n},children:r})},iA=I.createContext(void 0),oA=({children:r})=>{const e={};return c.jsx(iA.Provider,{value:e,children:r})};var Gg=function(r,e){return Gg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Gg(r,e)};function xS(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Gg(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Uh=function(){return Uh=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Uh.apply(this,arguments)};function _l(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function pS(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(l=r[u])&&(i=(a<3?l(i):a>3?l(e,t,i):l(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i}function yS(r,e){return function(t,n){e(t,n,r)}}function vS(r,e,t,n,a,i){function l(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var u=n.kind,h=u==="getter"?"get":u==="setter"?"set":"value",f=!e&&r?n.static?r:r.prototype:null,g=e||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),x,y=!1,v=t.length-1;v>=0;v--){var w={};for(var _ in n)w[_]=_==="access"?{}:n[_];for(var _ in n.access)w.access[_]=n.access[_];w.addInitializer=function(E){if(y)throw new TypeError("Cannot add initializers after decoration has completed");i.push(l(E||null))};var S=(0,t[v])(u==="accessor"?{get:g.get,set:g.set}:g[h],w);if(u==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(x=l(S.get))&&(g.get=x),(x=l(S.set))&&(g.set=x),(x=l(S.init))&&a.unshift(x)}else(x=l(S))&&(u==="field"?a.unshift(x):g[h]=x)}f&&Object.defineProperty(f,n.name,g),y=!0}function bS(r,e,t){for(var n=arguments.length>2,a=0;a<e.length;a++)t=n?e[a].call(r,t):e[a].call(r);return n?t:void 0}function _S(r){return typeof r=="symbol"?r:"".concat(r)}function wS(r,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function SS(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function Ve(r,e,t,n){function a(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function u(g){try{f(n.next(g))}catch(x){l(x)}}function h(g){try{f(n.throw(g))}catch(x){l(x)}}function f(g){g.done?i(g.value):a(g.value).then(u,h)}f((n=n.apply(r,e||[])).next())})}function NS(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(g){return h([f,g])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(t=0)),t;)try{if(n=1,a&&(i=f[0]&2?a.return:f[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,f[1])).done)return i;switch(a=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,a=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(g){f=[6,g],a=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Ef=Object.create?(function(r,e,t,n){n===void 0&&(n=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,a)}):(function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]});function ES(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ef(e,r,t)}function zh(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ax(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),a,i=[],l;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return i}function kS(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Ax(arguments[e]));return r}function TS(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),a=0,e=0;e<t;e++)for(var i=arguments[e],l=0,u=i.length;l<u;l++,a++)n[a]=i[l];return n}function jS(r,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}function fl(r){return this instanceof fl?(this.v=r,this):new fl(r)}function AS(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(v){return function(w){return Promise.resolve(w).then(v,x)}}function u(v,w){n[v]&&(a[v]=function(_){return new Promise(function(S,E){i.push([v,_,S,E])>1||h(v,_)})},w&&(a[v]=w(a[v])))}function h(v,w){try{f(n[v](w))}catch(_){y(i[0][3],_)}}function f(v){v.value instanceof fl?Promise.resolve(v.value.v).then(g,x):y(i[0][2],v)}function g(v){h("next",v)}function x(v){h("throw",v)}function y(v,w){v(w),i.shift(),i.length&&h(i[0][0],i[0][1])}}function CS(r){var e,t;return e={},n("next"),n("throw",function(a){throw a}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(a,i){e[a]=r[a]?function(l){return(t=!t)?{value:fl(r[a](l)),done:!1}:i?i(l):l}:i}}function OS(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof zh=="function"?zh(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=r[i]&&function(l){return new Promise(function(u,h){l=r[i](l),a(u,h,l.done,l.value)})}}function a(i,l,u,h){Promise.resolve(h).then(function(f){i({value:f,done:u})},l)}}function RS(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var lA=Object.create?(function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}):function(r,e){r.default=e},Yg=function(r){return Yg=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},Yg(r)};function DS(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t=Yg(r),n=0;n<t.length;n++)t[n]!=="default"&&Ef(e,r,t[n]);return lA(e,r),e}function MS(r){return r&&r.__esModule?r:{default:r}}function FS(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function LS(r,e,t,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(r,t):a?a.value=t:e.set(r,t),t}function PS(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function IS(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,a;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],t&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),r.stack.push({value:e,dispose:n,async:t})}else t&&r.stack.push({async:!0});return e}var cA=typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var n=new Error(t);return n.name="SuppressedError",n.error=r,n.suppressed=e,n};function BS(r){function e(i){r.error=r.hasError?new cA(i,r.error,"An error was suppressed during disposal."):i,r.hasError=!0}var t,n=0;function a(){for(;t=r.stack.pop();)try{if(!t.async&&n===1)return n=0,r.stack.push(t),Promise.resolve().then(a);if(t.dispose){var i=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(i).then(a,function(l){return e(l),a()})}else n|=1}catch(l){e(l)}if(n===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return a()}function US(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,a,i,l){return n?e?".jsx":".js":a&&(!i||!l)?t:a+i+"."+l.toLowerCase()+"js"}):r}const uA={__extends:xS,__assign:Uh,__rest:_l,__decorate:pS,__param:yS,__esDecorate:vS,__runInitializers:bS,__propKey:_S,__setFunctionName:wS,__metadata:SS,__awaiter:Ve,__generator:NS,__createBinding:Ef,__exportStar:ES,__values:zh,__read:Ax,__spread:kS,__spreadArrays:TS,__spreadArray:jS,__await:fl,__asyncGenerator:AS,__asyncDelegator:CS,__asyncValues:OS,__makeTemplateObject:RS,__importStar:DS,__importDefault:MS,__classPrivateFieldGet:FS,__classPrivateFieldSet:LS,__classPrivateFieldIn:PS,__addDisposableResource:IS,__disposeResources:BS,__rewriteRelativeImportExtension:US},dA=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:IS,get __assign(){return Uh},__asyncDelegator:CS,__asyncGenerator:AS,__asyncValues:OS,__await:fl,__awaiter:Ve,__classPrivateFieldGet:FS,__classPrivateFieldIn:PS,__classPrivateFieldSet:LS,__createBinding:Ef,__decorate:pS,__disposeResources:BS,__esDecorate:vS,__exportStar:ES,__extends:xS,__generator:NS,__importDefault:MS,__importStar:DS,__makeTemplateObject:RS,__metadata:SS,__param:yS,__propKey:_S,__read:Ax,__rest:_l,__rewriteRelativeImportExtension:US,__runInitializers:bS,__setFunctionName:wS,__spread:kS,__spreadArray:jS,__spreadArrays:TS,__values:zh,default:uA},Symbol.toStringTag,{value:"Module"})),hA="modulepreload",fA=function(r){return"/Weatherapp/"+r},Qb={},wl=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let f=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var l=f;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=f(t.map(g=>{if(g=fA(g),g in Qb)return;Qb[g]=!0;const x=g.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const v=document.createElement("link");if(v.rel=x?"stylesheet":hA,x||(v.as="script"),v.crossOrigin="",v.href=g,h&&v.setAttribute("nonce",h),document.head.appendChild(v),x)return new Promise((w,_)=>{v.addEventListener("load",w),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${g}`)))})}))}function i(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&i(h.reason);return e().catch(i)})},mA=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>wl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ji);return{default:n}},[]).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Cx extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Zb extends Cx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class e_ extends Cx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class t_ extends Cx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kg;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Kg||(Kg={}));class gA{constructor(e,{headers:t={},customFetch:n,region:a=Kg.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=mA(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ve(this,arguments,void 0,function*(t,n={}){var a;try{const{headers:i,method:l,body:u,signal:h}=n;let f={},{region:g}=n;g||(g=this.region);const x=new URL(`${this.url}/${t}`);g&&g!=="any"&&(f["x-region"]=g,x.searchParams.set("forceFunctionRegion",g));let y;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;const v=yield this.fetch(x.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),i),body:y,signal:h}).catch(E=>{throw E.name==="AbortError"?E:new Zb(E)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new e_(v);if(!v.ok)throw new t_(v);let _=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield v.json():_==="application/octet-stream"||_==="application/pdf"?S=yield v.blob():_==="text/event-stream"?S=v:_==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Zb(i)}:{data:null,error:i,response:i instanceof t_||i instanceof e_?i.context:void 0}}})}}var qr={};const Sl=$2(dA);var th={},rh={},nh={},ah={},sh={},xA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ml=xA();const pA=ml.fetch,zS=ml.fetch.bind(ml),HS=ml.Headers,yA=ml.Request,vA=ml.Response,Ji=Object.freeze(Object.defineProperty({__proto__:null,Headers:HS,Request:yA,Response:vA,default:zS,fetch:pA},Symbol.toStringTag,{value:"Module"})),bA=$2(Ji);var ih={},r_;function $S(){if(r_)return ih;r_=1,Object.defineProperty(ih,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return ih.default=r,ih}var n_;function VS(){if(n_)return sh;n_=1,Object.defineProperty(sh,"__esModule",{value:!0});const r=Sl,e=r.__importDefault(bA),t=r.__importDefault($S());class n{constructor(i){var l,u;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(u=i.isMaybeSingle)!==null&&u!==void 0?u:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var g,x,y,v;let w=null,_=null,S=null,E=f.status,N=f.statusText;if(f.ok){if(this.method!=="HEAD"){const V=await f.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?_=V:_=JSON.parse(V))}const M=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),C=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");M&&C&&C.length>1&&(S=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(w={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,E=406,N="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const M=await f.text();try{w=JSON.parse(M),Array.isArray(w)&&f.status===404&&(_=[],w=null,E=200,N="OK")}catch{f.status===404&&M===""?(E=204,N="No Content"):w={message:M}}if(w&&this.isMaybeSingle&&(!((v=w?.details)===null||v===void 0)&&v.includes("0 rows"))&&(w=null,E=200,N="OK"),w&&this.shouldThrowOnError)throw new t.default(w)}return{error:w,data:_,count:S,status:E,statusText:N}});return this.shouldThrowOnError||(h=h.catch(f=>{var g,x,y;return{error:{message:`${(g=f?.name)!==null&&g!==void 0?g:"FetchError"}: ${f?.message}`,details:`${(x=f?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(y=f?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),h.then(i,l)}returns(){return this}overrideTypes(){return this}}return sh.default=n,sh}var a_;function WS(){if(a_)return ah;a_=1,Object.defineProperty(ah,"__esModule",{value:!0});const e=Sl.__importDefault(VS());class t extends e.default{select(a){let i=!1;const l=(a??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:l,foreignTable:u,referencedTable:h=u}={}){const f=h?`${h}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${a}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:l=i}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,i,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${a}`),this.url.searchParams.set(f,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:l=!1,buffers:u=!1,wal:h=!1,format:f="text"}={}){var g;const x=[a?"analyze":null,i?"verbose":null,l?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${x};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return ah.default=t,ah}var s_;function Ox(){if(s_)return nh;s_=1,Object.defineProperty(nh,"__esModule",{value:!0});const e=Sl.__importDefault(WS());class t extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const l=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:l,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${h}fts${f}.${i}`),this}match(a){return Object.entries(a).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(a,i,l){return this.url.searchParams.append(a,`not.${i}.${l}`),this}or(a,{foreignTable:i,referencedTable:l=i}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,i,l){return this.url.searchParams.append(a,`${i}.${l}`),this}}return nh.default=t,nh}var i_;function qS(){if(i_)return rh;i_=1,Object.defineProperty(rh,"__esModule",{value:!0});const e=Sl.__importDefault(Ox());class t{constructor(a,{headers:i={},schema:l,fetch:u}){this.url=a,this.headers=new Headers(i),this.schema=l,this.fetch=u}select(a,i){const{head:l=!1,count:u}=i??{},h=l?"HEAD":"GET";let f=!1;const g=(a??"*").split("").map(x=>/\s/.test(x)&&!f?"":(x==='"'&&(f=!f),x)).join("");return this.url.searchParams.set("select",g),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:l=!0}={}){var u;const h="POST";if(i&&this.headers.append("Prefer",`count=${i}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(f.length>0){const g=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:l=!1,count:u,defaultToNull:h=!0}={}){var f;const g="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const x=a.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(x.length>0){const y=[...new Set(x)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:i}={}){var l;const u="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var i;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return rh.default=t,rh}var o_;function _A(){if(o_)return th;o_=1,Object.defineProperty(th,"__esModule",{value:!0});const r=Sl,e=r.__importDefault(qS()),t=r.__importDefault(Ox());class n{constructor(i,{headers:l={},schema:u,fetch:h}={}){this.url=i,this.headers=new Headers(l),this.schemaName=u,this.fetch=h}from(i){const l=new URL(`${this.url}/${i}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,l={},{head:u=!1,get:h=!1,count:f}={}){var g;let x;const y=new URL(`${this.url}/rpc/${i}`);let v;u||h?(x=u?"HEAD":"GET",Object.entries(l).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{y.searchParams.append(_,S)})):(x="POST",v=l);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new t.default({method:x,url:y,headers:w,schema:this.schemaName,body:v,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return th.default=n,th}var l_;function wA(){if(l_)return qr;l_=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.PostgrestError=qr.PostgrestBuilder=qr.PostgrestTransformBuilder=qr.PostgrestFilterBuilder=qr.PostgrestQueryBuilder=qr.PostgrestClient=void 0;const r=Sl,e=r.__importDefault(_A());qr.PostgrestClient=e.default;const t=r.__importDefault(qS());qr.PostgrestQueryBuilder=t.default;const n=r.__importDefault(Ox());qr.PostgrestFilterBuilder=n.default;const a=r.__importDefault(WS());qr.PostgrestTransformBuilder=a.default;const i=r.__importDefault(VS());qr.PostgrestBuilder=i.default;const l=r.__importDefault($S());return qr.PostgrestError=l.default,qr.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:l.default},qr}var SA=wA();const NA=H2(SA),{PostgrestClient:EA,PostgrestQueryBuilder:XH,PostgrestFilterBuilder:JH,PostgrestTransformBuilder:QH,PostgrestBuilder:ZH,PostgrestError:e$}=NA;class kA{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const n=t.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const TA="2.76.1",jA=`realtime-js/${TA}`,AA="1.0.0",Xg=1e4,CA=1e3,OA=100;var zc;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(zc||(zc={}));var kr;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(kr||(kr={}));var ca;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ca||(ca={}));var Jg;(function(r){r.websocket="websocket"})(Jg||(Jg={}));var Di;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Di||(Di={}));class RA{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const a=t.getUint8(1),i=t.getUint8(2);let l=this.HEADER_LENGTH+2;const u=n.decode(e.slice(l,l+a));l=l+a;const h=n.decode(e.slice(l,l+i));l=l+i;const f=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:h,payload:f}}}class GS{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Gt||(Gt={}));const c_=(r,e,t={})=>{var n;const a=(n=t.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,l)=>(i[l]=DA(l,r,e,a),i),{}):{}},DA=(r,e,t,n)=>{const a=e.find(u=>u.name===r),i=a?.type,l=t[r];return i&&!n.includes(i)?YS(i,l):Qg(l)},YS=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return PA(e,t)}switch(r){case Gt.bool:return MA(e);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return FA(e);case Gt.json:case Gt.jsonb:return LA(e);case Gt.timestamp:return IA(e);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return Qg(e);default:return Qg(e)}},Qg=r=>r,MA=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},FA=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},LA=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},PA=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const l=r.slice(1,t);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(u=>YS(e,u))}return r},IA=r=>typeof r=="string"?r.replace(" ","T"):r,KS=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class lg{constructor(e,t,n={},a=Xg){this.channel=e,this.event=t,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var u_;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(u_||(u_={}));class Hc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hc.syncState(this.state,a,i,l),this.pendingDiffs.forEach(h=>{this.state=Hc.syncDiff(this.state,h,i,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Hc.syncDiff(this.state,a,i,l),u())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,a){const i=this.cloneDeep(e),l=this.transformState(t),u={},h={};return this.map(i,(f,g)=>{l[f]||(h[f]=g)}),this.map(l,(f,g)=>{const x=i[f];if(x){const y=g.map(S=>S.presence_ref),v=x.map(S=>S.presence_ref),w=g.filter(S=>v.indexOf(S.presence_ref)<0),_=x.filter(S=>y.indexOf(S.presence_ref)<0);w.length>0&&(u[f]=w),_.length>0&&(h[f]=_)}else u[f]=g}),this.syncDiff(i,{joins:u,leaves:h},n,a)}static syncDiff(e,t,n,a){const{joins:i,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(u,h)=>{var f;const g=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(h),g.length>0){const x=e[u].map(v=>v.presence_ref),y=g.filter(v=>x.indexOf(v.presence_ref)<0);e[u].unshift(...y)}n(u,g,h)}),this.map(l,(u,h)=>{let f=e[u];if(!f)return;const g=h.map(x=>x.presence_ref);f=f.filter(x=>g.indexOf(x.presence_ref)<0),e[u]=f,a(u,f,h),f.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const a=e[n];return"metas"in a?t[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var d_;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(d_||(d_={}));var $c;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})($c||($c={}));var ts;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class Rx{constructor(e,t={config:{}},n){var a,i;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new lg(this,ca.join,this.params,this.timeout),this.rejoinTimer=new GS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ca.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Hc(this),this.broadcastEndpointURL=KS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==kr.closed){const{config:{broadcast:l,presence:u,private:h}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[$c.PRESENCE]&&this.bindings[$c.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,x={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(ts.CHANNEL_ERROR,v)),this._onClose(()=>e?.(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:y},x)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e?.(ts.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(w=_?.length)!==null&&w!==void 0?w:0,E=[];for(let N=0;N<S;N++){const T=_[N],{filter:{event:M,schema:C,table:V,filter:D}}=T,Y=v&&v[N];if(Y&&Y.event===M&&Y.schema===C&&Y.table===V&&Y.filter===D)E.push(Object.assign(Object.assign({},T),{id:Y.id}));else{this.unsubscribe(),this.state=kr.errored,e?.(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(ts.SUBSCRIBED);return}}).receive("error",v=>{this.state=kr.errored,e?.(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===kr.joined&&e===$c.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let h=u.statusText;try{const f=await u.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,t={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,u,h;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=kr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ca.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new lg(this,ca.leave,{},e),n.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kr.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(i),l}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new lg(this,e,t,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>OA){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var a,i;const l=e.toLocaleLowerCase(),{close:u,error:h,leave:f,join:g}=ca;if(n&&[u,h,f,g].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,t,n);if(t&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var w,_,S;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(_=v.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(v=>v.callback(y,n)):(i=this.bindings[l])===null||i===void 0||i.filter(v=>{var w,_,S,E,N,T;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const M=v.id,C=(w=v.filter)===null||w===void 0?void 0:w.event;return M&&((_=t.ids)===null||_===void 0?void 0:_.includes(M))&&(C==="*"||C?.toLocaleLowerCase()===((S=t.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const M=(N=(E=v?.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return M==="*"||M===((T=t?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:_,table:S,commit_timestamp:E,type:N,errors:T}=w;y=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:E,eventType:N,new:{},old:{},errors:T}),this._getPayloadRecords(w))}v.callback(y,n)})}_isClosed(){return this.state===kr.closed}_isJoined(){return this.state===kr.joined}_isJoining(){return this.state===kr.joining}_isLeaving(){return this.state===kr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const a=e.toLocaleLowerCase(),i={type:a,filter:t,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Rx.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ca.close,{},e)}_onError(e){this._on(ca.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=c_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=c_(e.columns,e.old_record)),t}}const cg=()=>{},oh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},BA=[1e3,2e3,5e3,1e4],UA=1e4,zA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HA{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xg,this.transport=null,this.heartbeatIntervalMs=oh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cg,this.ref=0,this.reconnectTimer=null,this.logger=cg,this.conn=null,this.sendBuffer=[],this.serializer=new RA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>wl(async()=>{const{default:u}=await Promise.resolve().then(()=>Ji);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((n=t?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Jg.websocket}`,this.httpEndpoint=KS(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kA.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:AA}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zc.connecting:return Di.Connecting;case zc.open:return Di.Open;case zc.closing:return Di.Closing;default:return Di.Closed}}isConnected(){return this.connectionState()===Di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Rx(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:n,payload:a,ref:i}=e,l=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${t} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(CA,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},oh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:l}=t,u=l?`(${l})`:"",h=i.status||"";this.log("receive",`${h} ${n} ${a} ${u}`.trim(),i),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,i,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ca.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${n}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([zA],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const a={access_token:t,version:jA};t&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(ca.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new GS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,a,i,l,u,h,f,g;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Xg,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:oh.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:cg,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(x=>BA[x-1]||UA),this.encode=(f=e?.encode)!==null&&f!==void 0?f:((x,y)=>y(JSON.stringify(x))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Dx extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function sr(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class $A extends Dx{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zg extends Dx{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const Mx=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>wl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ji);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},VA=()=>Ve(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wl(()=>Promise.resolve().then(()=>Ji),void 0)).Response:Response}),ex=r=>{if(Array.isArray(r))return r.map(t=>ex(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const a=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=ex(n)}),e},WA=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},ug=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),qA=(r,e,t)=>Ve(void 0,void 0,void 0,function*(){const n=yield VA();r instanceof n&&!t?.noResolveJson?r.json().then(a=>{const i=r.status||500,l=a?.statusCode||i+"";e(new $A(ug(a),i,l))}).catch(a=>{e(new Zg(ug(a),a))}):e(new Zg(ug(r),r))}),GA=(r,e,t,n)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"||!n?a:(WA(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),t))};function Tu(r,e,t,n,a,i){return Ve(this,void 0,void 0,function*(){return new Promise((l,u)=>{r(t,GA(e,n,a,i)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>qA(h,u,n))})})}function ru(r,e,t,n){return Ve(this,void 0,void 0,function*(){return Tu(r,"GET",e,t,n)})}function la(r,e,t,n,a){return Ve(this,void 0,void 0,function*(){return Tu(r,"POST",e,n,a,t)})}function tx(r,e,t,n,a){return Ve(this,void 0,void 0,function*(){return Tu(r,"PUT",e,n,a,t)})}function YA(r,e,t,n){return Ve(this,void 0,void 0,function*(){return Tu(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function Fx(r,e,t,n,a){return Ve(this,void 0,void 0,function*(){return Tu(r,"DELETE",e,n,a,t)})}class KA{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return Ve(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sr(e))return{data:null,error:e};throw e}})}}var XS;class XA{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[XS]="BlobDownloadBuilder",this.promise=null}asStream(){return new KA(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ve(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sr(e))return{data:null,error:e};throw e}})}}XS=Symbol.toStringTag;const JA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QA{constructor(e,t={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Mx(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,a){return Ve(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},h_),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),h&&i.append("metadata",this.encodeMetadata(h)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),h&&i.append("metadata",this.encodeMetadata(h))):(i=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const f=this._removeEmptyFolders(t),g=this._getFinalPath(f),x=yield(e=="PUT"?tx:la)(this.fetch,`${this.url}/object/${g}`,i,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:x.Id,fullPath:x.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(sr(i))return{data:null,error:i};throw i}})}upload(e,t,n){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,a){return Ve(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),l=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let h;const f=Object.assign({upsert:h_.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",f.cacheControl)):(h=n,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const x=yield tx(this.fetch,u.toString(),h,{headers:g});return{data:{path:i,fullPath:x.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(sr(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,t){return Ve(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);t?.upsert&&(a["x-upsert"]="true");const i=yield la(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+i.url),u=l.searchParams.get("token");if(!u)throw new Dx("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}})}update(e,t,n){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Ve(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}})}copy(e,t,n){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield la(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,n){return Ve(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield la(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,n){return Ve(this,void 0,void 0,function*(){try{const a=yield la(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}})}download(e,t){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),l=i?`?${i}`:"",u=this._getFinalPath(e),h=()=>ru(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new XA(h,this.shouldThrowOnError)}info(e){return Ve(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield ru(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ex(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}})}exists(e){return Ve(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield YA(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n)&&n instanceof Zg){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&a.push(i);const u=typeof t?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(t?.transform||{});h!==""&&a.push(h);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${f}`)}}}remove(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Fx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}})}list(e,t,n){return Ve(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},JA),t),{prefix:e||""});return{data:yield la(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}})}listV2(e,t){return Ve(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield la(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const JS="2.76.1",QS={"X-Client-Info":`storage-js/${JS}`};class ZA{constructor(e,t={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QS),t),this.fetch=Mx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ve(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(sr(e))return{data:null,error:e};throw e}})}getBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}})}createBucket(e){return Ve(this,arguments,void 0,function*(t,n={public:!1}){try{return{data:yield la(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}})}updateBucket(e,t){return Ve(this,void 0,void 0,function*(){try{return{data:yield tx(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Fx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}})}}class eC{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QS),t),this.fetch=Mx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}})}listBuckets(e){return Ve(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const n=t.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,i=yield ru(this.fetch,a,{headers:this.headers});return{data:Array.isArray(i)?i.filter(u=>u.type==="ANALYTICS"):[],error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Fx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}})}}const Lx={"X-Client-Info":`storage-js/${JS}`,"Content-Type":"application/json"};class ZS extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Rn(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class dg extends ZS{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tC extends ZS{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var f_;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(f_||(f_={}));const Px=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>wl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ji);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},rC=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},m_=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),nC=(r,e,t)=>Ve(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!t?.noResolveJson){const a=r.status||500,i=r;if(typeof i.json=="function")i.json().then(l=>{const u=l?.statusCode||l?.code||a+"";e(new dg(m_(l),a,u))}).catch(()=>{const l=a+"",u=i.statusText||`HTTP ${a} error`;e(new dg(u,a,l))});else{const l=a+"",u=i.statusText||`HTTP ${a} error`;e(new dg(u,a,l))}}else e(new tC(m_(r),r))}),aC=(r,e,t,n)=>{const a={method:r,headers:e?.headers||{}};return n?(rC(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),t)):a};function sC(r,e,t,n,a,i){return Ve(this,void 0,void 0,function*(){return new Promise((l,u)=>{r(t,aC(e,n,a,i)).then(h=>{if(!h.ok)throw h;if(n?.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>l(h)).catch(h=>nC(h,u,n))})})}function Dn(r,e,t,n,a){return Ve(this,void 0,void 0,function*(){return sC(r,"POST",e,n,a,t)})}class iC{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lx),t),this.fetch=Px(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ve(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}})}getIndex(e,t){return Ve(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}})}listIndexes(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return Ve(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}})}}class oC{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lx),t),this.fetch=Px(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ve(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}})}getVectors(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}})}listVectors(e){return Ve(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Dn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}})}queryVectors(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}})}deleteVectors(e){return Ve(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}})}}class lC{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lx),t),this.fetch=Px(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}})}getBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}})}listBuckets(){return Ve(this,arguments,void 0,function*(e={}){try{return{data:yield Dn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rn(t))return{data:null,error:t};throw t}})}}class cC extends lC{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new uC(this.url,this.headers,e,this.fetch)}}class uC extends iC{constructor(e,t,n,a){super(e,t,a),this.vectorBucketName=n}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ve(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ve(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ve(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ve(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new dC(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class dC extends oC{constructor(e,t,n,a,i){super(e,t,i),this.vectorBucketName=n,this.indexName=a}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ve(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ve(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ve(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ve(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ve(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class hC extends ZA{constructor(e,t={},n,a){super(e,t,n,a)}from(e){return new QA(this.url,this.headers,e,this.fetch)}get vectors(){return new cC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eC(this.url+"/iceberg",this.headers,this.fetch)}}const fC="2.76.1";let Fc="";typeof Deno<"u"?Fc="deno":typeof document<"u"?Fc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fc="react-native":Fc="node";const mC={"X-Client-Info":`supabase-js-${Fc}/${fC}`},gC={headers:mC},xC={schema:"public"},pC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yC={},vC=r=>{let e;return r?e=r:typeof fetch>"u"?e=zS:e=fetch,(...t)=>e(...t)},bC=()=>typeof Headers>"u"?HS:Headers,_C=(r,e,t)=>{const n=vC(t),a=bC();return async(i,l)=>{var u;const h=(u=await e())!==null&&u!==void 0?u:r;let f=new a(l?.headers);return f.has("apikey")||f.set("apikey",r),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),n(i,Object.assign(Object.assign({},l),{headers:f}))}};function wC(r){return r.endsWith("/")?r:r+"/"}function SC(r,e){var t,n;const{db:a,auth:i,realtime:l,global:u}=r,{db:h,auth:f,realtime:g,global:x}=e,y={db:Object.assign(Object.assign({},h),a),auth:Object.assign(Object.assign({},f),i),realtime:Object.assign(Object.assign({},g),l),storage:{},global:Object.assign(Object.assign(Object.assign({},x),u),{headers:Object.assign(Object.assign({},(t=x?.headers)!==null&&t!==void 0?t:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return r.accessToken?y.accessToken=r.accessToken:delete y.accessToken,y}function NC(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wC(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const e4="2.76.1",el=30*1e3,rx=3,hg=rx*el,EC="http://localhost:9999",kC="supabase.auth.token",TC={"X-Client-Info":`gotrue-js/${e4}`},nx="X-Supabase-Api-Version",t4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AC=600*1e3;class nu extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Ye(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class CC extends nu{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function OC(r){return Ye(r)&&r.name==="AuthApiError"}class Mi extends nu{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ni extends nu{constructor(e,t,n,a){super(e,n,a),this.name=t,this.status=n}}class zs extends ni{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RC(r){return Ye(r)&&r.name==="AuthSessionMissingError"}class $o extends ni{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lh extends ni{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ch extends ni{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DC(r){return Ye(r)&&r.name==="AuthImplicitGrantRedirectError"}class g_ extends ni{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ax extends ni{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function fg(r){return Ye(r)&&r.name==="AuthRetryableFetchError"}class x_ extends ni{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class sx extends ni{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),p_=` 	
\r=`.split(""),MC=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<p_.length;e+=1)r[p_[e].charCodeAt(0)]=-2;for(let e=0;e<Hh.length;e+=1)r[Hh[e].charCodeAt(0)]=e;return r})();function y_(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Hh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Hh[n]),e.queuedBits-=6}}function r4(r,e,t){const n=MC[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function v_(r){const e=[],t=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{PC(l,n,t)};for(let l=0;l<r.length;l+=1)r4(r.charCodeAt(l),a,i);return e.join("")}function FC(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function LC(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}FC(n,e)}}function PC(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function sl(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)r4(r.charCodeAt(a),t,n);return new Uint8Array(e)}function IC(r){const e=[];return LC(r,t=>e.push(t)),new Uint8Array(e)}function Ii(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};return r.forEach(a=>y_(a,t,n)),y_(null,t,n),e.join("")}function BC(r){return Math.round(Date.now()/1e3)+r}function UC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Tn=()=>typeof window<"u"&&typeof document<"u",Ei={tested:!1,writable:!1},n4=()=>{if(!Tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ei.tested)return Ei.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ei.tested=!0,Ei.writable=!0}catch{Ei.tested=!0,Ei.writable=!1}return Ei.writable};function zC(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return t.searchParams.forEach((n,a)=>{e[a]=n}),e}const a4=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>wl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ji);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},HC=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",tl=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ki=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Bs=async(r,e)=>{await r.removeItem(e)};class kf{constructor(){this.promise=new kf.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}kf.promiseConstructor=Promise;function mg(r){const e=r.split(".");if(e.length!==3)throw new sx("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!jC.test(e[n]))throw new sx("JWT not in base64url format");return{header:JSON.parse(v_(e[0])),payload:JSON.parse(v_(e[1])),signature:sl(e[2]),raw:{header:e[0],payload:e[1]}}}async function $C(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function VC(r,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await r(i);if(!e(i,null,l)){n(l);return}}catch(l){if(!e(i,l)){a(l);return}}})()})}function WC(r){return("0"+r.toString(16)).substr(-2)}function qC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let a="";for(let i=0;i<56;i++)a+=t.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,WC).join("")}async function GC(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function YC(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await GC(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vo(r,e,t=!1){const n=qC();let a=n;t&&(a+="/PASSWORD_RECOVERY"),await tl(r,`${e}-code-verifier`,a);const i=await YC(n);return[i,n===i?"plain":"s256"]}const KC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XC(r){const e=r.headers.get(nx);if(!e||!e.match(KC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function JC(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function QC(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wo(r){if(!ZC.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gg(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function b_(r){return JSON.parse(JSON.stringify(r))}const Ci=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),e5=[502,503,504];async function __(r){var e;if(!HC(r))throw new ax(Ci(r),0);if(e5.includes(r.status))throw new ax(Ci(r),r.status);let t;try{t=await r.json()}catch(i){throw new Mi(Ci(i),i)}let n;const a=XC(r);if(a&&a.getTime()>=t4["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new x_(Ci(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new zs}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new x_(Ci(t),r.status,t.weak_password.reasons);throw new CC(Ci(t),r.status||500,n)}const t5=(r,e,t,n)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),t))};async function tt(r,e,t,n){var a;const i=Object.assign({},n?.headers);i[nx]||(i[nx]=t4["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await r5(r,e,t+u,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function r5(r,e,t,n,a,i){const l=t5(e,n,a,i);let u;try{u=await r(t,Object.assign({},l))}catch(h){throw console.error(h),new ax(Ci(h),0)}if(u.ok||await __(u),n?.noResolveJson)return u;try{return await u.json()}catch(h){await __(h)}}function oa(r){var e;let t=null;s5(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=BC(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function w_(r){const e=oa(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Hs(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function n5(r){return{data:r,error:null}}function a5(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:i}=r,l=_l(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:i},h=Object.assign({},l);return{data:{properties:u,user:h},error:null}}function S_(r){return r}function s5(r){return r.access_token&&r.refresh_token&&r.expires_in}const xg=["global","local","others"];class i5{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=a4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=xg[0]){if(xg.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xg.join(", ")}`);try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Hs})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=_l(e,["options"]),a=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:a5,redirectTo:t?.redirectTo})}catch(t){if(Ye(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hs})}catch(t){if(Ye(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,a,i,l,u,h;try{const f={nextPage:null,lastPage:0,total:0},g=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:S_});if(g.error)throw g.error;const x=await g.json(),y=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=_}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(Ye(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Wo(e);try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hs})}catch(t){if(Ye(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Wo(e);try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Hs})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Wo(e);try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Hs})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Wo(e.userId);try{const{data:t,error:n}=await tt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:n}}catch(t){if(Ye(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Wo(e.userId),Wo(e.id);try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ye(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,a,i,l,u,h;try{const f={nextPage:null,lastPage:0,total:0},g=await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:S_});if(g.error)throw g.error;const x=await g.json(),y=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=_}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(Ye(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ye(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ye(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ye(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ye(t))return{data:null,error:t};throw t}}}function N_(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const qo={debug:!!(globalThis&&n4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class s4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class o5 extends s4{}async function l5(r,e,t){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new o5(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(qo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function c5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function i4(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function u5(r){return parseInt(r,16)}function d5(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function h5(r){var e;const{chainId:t,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:l,notBefore:u,requestId:h,resources:f,scheme:g,uri:x,version:y}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const v=i4(r.address),w=g?`${g}://${n}`:n,_=r.statement?`${r.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${v}

${_}`;let E=`URI: ${x}
Version: ${y}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(a&&(E+=`
Expiration Time: ${a.toISOString()}`),u&&(E+=`
Not Before: ${u.toISOString()}`),h&&(E+=`
Request ID: ${h}`),f){let N=`
Resources:`;for(const T of f){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);N+=`
- ${T}`}E+=N}return`${S}
${E}`}class wr extends Error{constructor({message:e,code:t,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=t}}class $h extends wr{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function f5({error:r,options:e}){var t,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new wr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=i.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new wr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new wr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new wr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new wr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new wr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new wr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new wr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(o4(l)){if(i.rp.id!==l)return new wr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new wr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new wr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function m5({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new wr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new wr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const n=window.location.hostname;if(o4(n)){if(t.rpId!==n)return new wr({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new wr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class g5{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const x5=new g5;function p5(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:n}=r,a=_l(r,["challenge","user","excludeCredentials"]),i=sl(e).buffer,l=Object.assign(Object.assign({},t),{id:sl(t.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:i,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const f=n[h];u.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:sl(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function y5(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,n=_l(r,["challenge","allowCredentials"]),a=sl(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(t&&t.length>0){i.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const u=t[l];i.allowCredentials[l]=Object.assign(Object.assign({},u),{id:sl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function v5(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:Ii(new Uint8Array(r.response.attestationObject)),clientDataJSON:Ii(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function b5(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,n=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Ii(new Uint8Array(a.authenticatorData)),clientDataJSON:Ii(new Uint8Array(a.clientDataJSON)),signature:Ii(new Uint8Array(a.signature)),userHandle:a.userHandle?Ii(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function o4(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function E_(){var r,e;return!!(Tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function _5(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $h("Browser returned unexpected credential type",e)}:{data:null,error:new $h("Empty credential response",e)}}catch(e){return{data:null,error:f5({error:e,options:r})}}}async function w5(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $h("Browser returned unexpected credential type",e)}:{data:null,error:new $h("Empty credential response",e)}}catch(e){return{data:null,error:m5({error:e,options:r})}}}const S5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},N5={userVerification:"preferred",hints:["security-key"]};function Vh(...r){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of r)if(a)for(const i in a){const l=a[i];if(l!==void 0)if(Array.isArray(l))n[i]=l;else if(t(l))n[i]=l;else if(e(l)){const u=n[i];e(u)?n[i]=Vh(u,l):n[i]=Vh(l)}else n[i]=l}return n}function E5(r,e){return Vh(S5,r,e||{})}function k5(r,e){return Vh(N5,r,e||{})}class T5{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:a},i){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:u};const h=a??x5.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=E5(l.webauthn.credential_options.publicKey,i?.create),{data:g,error:x}=await _5({publicKey:f,signal:h});return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}case"request":{const f=k5(l.webauthn.credential_options.publicKey,i?.request),{data:g,error:x}=await w5(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:h}));return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}}}catch(l){return Ye(l)?{data:null,error:l}:{data:null,error:new Mi("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!t)return{data:null,error:new nu("rpId is required for WebAuthn authentication")};try{if(!E_())return{data:null,error:new Mi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:a},{request:i});if(!l)return{data:null,error:u};const{webauthn:h}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:h.type,rpId:t,rpOrigins:n,credential_response:h.credential_response}})}catch(l){return Ye(l)?{data:null,error:l}:{data:null,error:new Mi("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!t)return{data:null,error:new nu("rpId is required for WebAuthn registration")};try{if(!E_())return{data:null,error:new Mi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(g=>{var x;return(x=g.data)===null||x===void 0?void 0:x.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:u};const{data:h,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:a},{create:i});return h?this._verify({factorId:l.id,challengeId:h.challengeId,webauthn:{rpId:t,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Ye(l)?{data:null,error:l}:{data:null,error:new Mi("Unexpected error in register",l)}}}}c5();const j5={url:EC,storageKey:kC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:TC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function k_(r,e,t){return await t()}const Go={};class au{get jwks(){var e,t;return(t=(e=Go[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Go[this.storageKey]=Object.assign(Object.assign({},Go[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Go[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Go[this.storageKey]=Object.assign(Object.assign({},Go[this.storageKey]),{cachedAt:e})}constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=au.nextInstanceID,au.nextInstanceID+=1,this.instanceID>0&&Tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},j5),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new i5({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=a4(a.fetch),this.lock=a.lock||k_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Tn()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=l5:this.lock=k_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new T5(this)},this.persistSession?(a.storage?this.storage=a.storage:n4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=N_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=N_(this.memoryStorage)),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${e4}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=zC(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Tn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),DC(i)){const h=(e=i.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ye(t)?{error:t}:{error:new Mi("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,a;try{const i=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:oa}),{data:l,error:u}=i;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(i){if(Ye(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,a;try{let i;if("email"in e){const{email:g,password:x,options:y}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Vo(this.storage,this.storageKey)),i=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:g,password:x,data:(t=y?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:w},xform:oa})}else if("phone"in e){const{phone:g,password:x,options:y}=e;i=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(a=y?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:oa})}else throw new lh("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(i){if(Ye(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:l,options:u}=e;t=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:w_})}else if("phone"in e){const{phone:i,password:l,options:u}=e;t=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:w_})}else throw new lh("You must provide either an email or phone number and a password");const{data:n,error:a}=t;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new $o}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(t){if(Ye(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,n,a,i,l,u,h,f,g,x,y;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:_,wallet:S,statement:E,options:N}=e;let T;if(Tn())if(typeof S=="object")T=S;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")T=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=S}const M=new URL((t=N?.url)!==null&&t!==void 0?t:window.location.href),C=await T.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=i4(C[0]);let D=(n=N?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const O=await T.request({method:"eth_chainId"});D=u5(O)}const Y={domain:M.host,address:V,statement:E,uri:M.href,version:"1",chainId:D,nonce:(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=N?.signInWithEthereum)===null||g===void 0?void 0:g.resources};v=h5(Y),w=await T.request({method:"personal_sign",params:[d5(v),V]})}try{const{data:_,error:S}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:oa});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new $o}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(Ye(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(e){var t,n,a,i,l,u,h,f,g,x,y,v;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:S,wallet:E,statement:N,options:T}=e;let M;if(Tn())if(typeof E=="object")M=E;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))M=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=E}const C=new URL((t=T?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in M&&M.signIn){const V=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),N?{statement:N}:null));let D;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")D=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)D=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)w=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),_=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${C.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(n=T?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=T?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((l=T?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((x=(g=T?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...T.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const V=await M.signMessage(new TextEncoder().encode(w),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=V}}try{const{data:S,error:E}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ii(_)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:oa});if(E)throw E;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new $o}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:E})}catch(S){if(Ye(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const t=await ki(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(t??"").split("/");try{const{data:i,error:l}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:oa});if(await Bs(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new $o}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(Ye(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:a,access_token:i,nonce:l}=e,u=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:oa}),{data:h,error:f}=u;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new $o}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:f})}catch(t){if(Ye(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,a,i,l;try{if("email"in e){const{email:u,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Vo(this.storage,this.storageKey));const{error:x}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=h?.data)!==null&&t!==void 0?t:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in e){const{phone:u,options:h}=e,{data:f,error:g}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(l=h?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f?.message_id},error:g}}throw new lh("You must provide either an email or phone number.")}catch(u){if(Ye(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var t,n;try{let a,i;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:oa});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,f=l.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(a){if(Ye(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,n,a;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Vo(this.storage,this.storageKey)),await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:n5})}catch(i){if(Ye(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new zs;const{error:a}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Ye(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:l}=await tt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:l,error:u}=await tt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new lh("You must provide either an email or phone number and a type")}catch(t){if(Ye(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<hg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await ki(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=gg()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,f,g)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,f,g))})}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hs}):await this._useSession(async t=>{var n,a,i;const{data:l,error:u}=t;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zs}:await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Hs})})}catch(t){if(Ye(t))return RC(t)&&(await this._removeSession(),await Bs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new zs;const l=a.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await Vo(this.storage,this.storageKey));const{data:f,error:g}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:l.access_token,xform:Hs});if(g)throw g;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zs;const t=Date.now()/1e3;let n=t,a=!0,i=null;const{payload:l}=mg(e.access_token);if(l.exp&&(n=l.exp,a=n<=t),a){const{data:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(Ye(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new zs;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Ye(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Tn())throw new ch("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ch(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new g_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ch("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new g_("No code detected.");const{data:N,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:u,expires_at:h,token_type:f}=e;if(!i||!u||!l||!f)throw new ch("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(u);let y=g+x;h&&(y=parseInt(h));const v=y-g;v*1e3<=el&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${x}s`);const w=y-x;g-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,g):g-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,g);const{data:_,error:S}=await this._getUser(i);if(S)throw S;const E={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:x,expires_at:y,refresh_token:l,token_type:f,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(n){if(Ye(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ki(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:a,error:i}=t;if(i)return{error:i};const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(OC(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Bs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=UC(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,a;try{const{data:{session:i},error:l}=t;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Vo(this.storage,this.storageKey,!0));try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(Ye(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Ye(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:a}=await this._useSession(async i=>{var l,u,h,f,g;const{data:x,error:y}=i;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await tt(this.fetch,"GET",v,{headers:this.headers,jwt:(g=(f=x.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return Tn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Ye(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:a,data:{session:i}}=t;if(a)throw a;const{options:l,provider:u,token:h,access_token:f,nonce:g}=e,x=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:h,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:oa}),{data:y,error:v}=x;return v?{data:{user:null,session:null},error:v}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new $o}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:v})}catch(a){if(Ye(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,a;const{data:i,error:l}=t;if(l)throw l;return await tt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(Ye(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await VC(async a=>(a>0&&await $C(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:oa})),(a,i)=>{const l=200*Math.pow(2,a);return i&&fg(i)&&Date.now()+l-n<el})}catch(n){if(this._debug(t,"error",n),Ye(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Tn()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ki(this.storage,this.storageKey);if(a&&this.userStorage){let l=await ki(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await tl(this.userStorage,this.storageKey+"-user",l)),a.user=(e=l?.user)!==null&&e!==void 0?e:gg()}else if(a&&!a.user&&!a.user){const l=await ki(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await Bs(this.storage,this.storageKey+"-user"),await tl(this.storage,this.storageKey,a)):a.user=gg()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<hg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${hg}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),fg(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new zs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new kf;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new zs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),Ye(i)){const l={data:null,error:i};return fg(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(h){i.push(h)}});if(await Promise.all(l),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await tl(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const i=b_(a);await tl(this.storage,this.storageKey,i)}else{const a=b_(t);await tl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Bs(this.storage,this.storageKey),await Bs(this.storage,this.storageKey+"-code-verifier"),await Bs(this.storage,this.storageKey+"-user"),this.userStorage&&await Bs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),el);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/el);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${el}ms, refresh threshold is ${rx} ticks`),a<=rx&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof s4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const a=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await Vo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:a,error:i}=t;return i?{data:null,error:i}:await tt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Ye(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,a;const{data:i,error:l}=t;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&h.type==="totp"&&(!((a=h?.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(t){if(Ye(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:i}=t;if(i)return{data:null,error:i};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?v5(e.webauthn.credential_response):b5(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:h}=await tt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(t){if(Ye(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:i}=t;if(i)return{data:null,error:i};const l=await tt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p5(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:y5(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Ye(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=t?.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=mg(a.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(x=>x.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const g=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(u=>u.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+AC>a)return n;const{data:i,error:l}=await tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:a,payload:i,signature:l,raw:{header:u,payload:h}}=mg(n);t?.allowExpired||JC(i.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:a,signature:l},error:null}}const g=QC(a.alg),x=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,l,IC(`${u}.${h}`)))throw new sx("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}}}au.nextInstanceID=0;const A5=au;class C5 extends A5{constructor(e){super(e)}}class O5{constructor(e,t,n){var a,i,l;this.supabaseUrl=e,this.supabaseKey=t;const u=NC(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:xC,realtime:yC,auth:Object.assign(Object.assign({},pC),{storageKey:h}),global:gC},g=SC(n??{},f);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=g.global.headers)!==null&&i!==void 0?i:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(x,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=_C(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new EA(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new hC(this.storageUrl.href,this.headers,this.fetch,n?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new gA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:l,flowType:u,lock:h,debug:f},g,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new C5({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),g),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:i,flowType:u,lock:h,debug:f,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new HA(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const R5=(r,e,t)=>new O5(r,e,t);function D5(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}D5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const M5="https://fvymxoeupxojvdzqahuw.supabase.co",F5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ2eW14b2V1cHhvanZkenFhaHV3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNzg3OTMsImV4cCI6MjA3Njc1NDc5M30.0LtMT3zyVAEQmhwrIJR2eRe5RQqAs8iKWBhDt5XSVMo",Be=R5(M5,F5),l4=I.createContext(void 0),ju=()=>{const r=I.useContext(l4);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},L5=({children:r})=>{const[e,t]=I.useState(null),[n,a]=I.useState(null),[i,l]=I.useState(null),[u,h]=I.useState(null),[f,g]=I.useState([]),[x,y]=I.useState(!0),v=async Q=>{try{const{data:W,error:Z}=await Be.from("user_profiles").select(`
          *,
          organization:organizations(*)
        `).eq("id",Q).single();if(Z){console.error("Error fetching profile:",Z);return}l(W),h(W.organization)}catch(W){console.error("Error in fetchProfile:",W)}},w=async Q=>{try{const{data:W,error:Z}=await Be.from("user_locations").select("*").eq("user_id",Q).eq("is_active",!0).order("is_default",{ascending:!1}).order("name");if(Z){console.error("Error fetching locations:",Z);return}g(W||[])}catch(W){console.error("Error in fetchLocations:",W)}};I.useEffect(()=>{Be.auth.getSession().then(({data:{session:W}})=>{a(W),t(W?.user??null),W?.user&&(v(W.user.id),w(W.user.id)),y(!1)});const{data:{subscription:Q}}=Be.auth.onAuthStateChange(async(W,Z)=>{a(Z),t(Z?.user??null),Z?.user?(await v(Z.user.id),await w(Z.user.id)):(l(null),h(null),g([])),y(!1)});return()=>Q.unsubscribe()},[]);const O={user:e,session:n,profile:i,organization:u,locations:f,loading:x,signIn:async(Q,W)=>await Be.auth.signInWithPassword({email:Q,password:W}),signUp:async(Q,W,Z)=>await Be.auth.signUp({email:Q,password:W,options:{data:Z}}),signOut:async()=>await Be.auth.signOut(),updateProfile:async Q=>{if(!e)return{data:null,error:{message:"No user logged in"}};const{data:W,error:Z}=await Be.from("user_profiles").update(Q).eq("id",e.id).select().single();return!Z&&W&&l(W),{data:W,error:Z}},addLocation:async Q=>{if(!e||!i)return{data:null,error:{message:"No user logged in"}};const{data:W,error:Z}=await Be.from("user_locations").insert({...Q,user_id:e.id,organization_id:i.organization_id}).select().single();return!Z&&W&&g(xe=>[...xe,W]),{data:W,error:Z}},updateLocation:async(Q,W)=>{const{data:Z,error:xe}=await Be.from("user_locations").update(W).eq("id",Q).select().single();return!xe&&Z&&g(Fe=>Fe.map(ke=>ke.id===Q?Z:ke)),{data:Z,error:xe}},deleteLocation:async Q=>{const{error:W}=await Be.from("user_locations").delete().eq("id",Q);return W||g(Z=>Z.filter(xe=>xe.id!==Q)),{error:W}},setDefaultLocation:async Q=>{if(!e)return{error:{message:"No user logged in"}};await Be.from("user_locations").update({is_default:!1}).eq("user_id",e.id);const{error:W}=await Be.from("user_locations").update({is_default:!0}).eq("id",Q);return W||g(Z=>Z.map(xe=>({...xe,is_default:xe.id===Q}))),{error:W}},refreshProfile:async()=>{e&&await v(e.id)},refreshLocations:async()=>{e&&await w(e.id)}};return c.jsx(l4.Provider,{value:O,children:r})},c4=I.createContext(void 0),P5=[{id:"trial-fresno",name:"Fresno, CA",latitude:36.7378,longitude:-119.7871,state:"California",region:"Central Valley"},{id:"trial-salinas",name:"Salinas, CA",latitude:36.6777,longitude:-121.6555,state:"California",region:"Salinas Valley"},{id:"trial-bakersfield",name:"Bakersfield, CA",latitude:35.3733,longitude:-119.0187,state:"California",region:"San Joaquin Valley"},{id:"trial-modesto",name:"Modesto, CA",latitude:37.6391,longitude:-120.9969,state:"California",region:"Central Valley"},{id:"trial-stockton",name:"Stockton, CA",latitude:37.9577,longitude:-121.2908,state:"California",region:"San Joaquin Valley"}],I5=({children:r})=>{const[e,t]=I.useState(!1),[n,a]=I.useState(()=>{const g=localStorage.getItem("etweather_trial_locations");if(g)try{return JSON.parse(g)}catch(x){console.error("Error parsing saved locations:",x)}return P5});I.useEffect(()=>{localStorage.getItem("etweather_trial_mode")==="true"&&t(!0)},[]),I.useEffect(()=>{localStorage.setItem("etweather_trial_locations",JSON.stringify(n))},[n]);const i=()=>{t(!0),localStorage.setItem("etweather_trial_mode","true")},l=()=>{t(!1),localStorage.removeItem("etweather_trial_mode")},u=g=>{const x={...g,id:`trial-${Date.now()}-${Math.random().toString(36).substr(2,9)}`};a(y=>[...y,x])},h=g=>{a(x=>x.filter(y=>y.id!==g))},f=(g,x)=>{a(y=>y.map(v=>v.id===g?{...v,...x}:v))};return c.jsx(c4.Provider,{value:{isTrialMode:e,trialLocations:n,enableTrialMode:i,disableTrialMode:l,addLocation:u,removeLocation:h,updateLocation:f},children:r})},Au=()=>{const r=I.useContext(c4);if(r===void 0)throw new Error("useTrial must be used within a TrialProvider");return r};/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T_="popstate";function B5(r={}){function e(n,a){let{pathname:i,search:l,hash:u}=n.location;return ix("",{pathname:i,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:su(a)}return z5(e,t,null,r)}function nr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ga(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U5(){return Math.random().toString(36).substring(2,10)}function j_(r,e){return{usr:r.state,key:r.key,idx:e}}function ix(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Nl(e):e,state:t,key:e&&e.key||n||U5()}}function su({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Nl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function z5(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,u="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function x(){u="POP";let S=g(),E=S==null?null:S-f;f=S,h&&h({action:u,location:_.location,delta:E})}function y(S,E){u="PUSH";let N=ix(_.location,S,E);f=g()+1;let T=j_(N,f),M=_.createHref(N);try{l.pushState(T,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(M)}i&&h&&h({action:u,location:_.location,delta:1})}function v(S,E){u="REPLACE";let N=ix(_.location,S,E);f=g();let T=j_(N,f),M=_.createHref(N);l.replaceState(T,"",M),i&&h&&h({action:u,location:_.location,delta:0})}function w(S){return H5(S)}let _={get action(){return u},get location(){return r(a,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(T_,x),h=S,()=>{a.removeEventListener(T_,x),h=null}},createHref(S){return e(a,S)},createURL:w,encodeLocation(S){let E=w(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:v,go(S){return l.go(S)}};return _}function H5(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),nr(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:su(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function u4(r,e,t="/"){return $5(r,e,t,!1)}function $5(r,e,t,n){let a=typeof e=="string"?Nl(e):e,i=cs(a.pathname||"/",t);if(i==null)return null;let l=d4(r);V5(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=t6(i);u=Z5(l[h],f,n)}return u}function d4(r,e=[],t=[],n="",a=!1){let i=(l,u,h=a,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&h)return;nr(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let x=as([n,g.relativePath]),y=t.concat(g);l.children&&l.children.length>0&&(nr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),d4(l.children,e,y,x,h)),!(l.path==null&&!l.index)&&e.push({path:x,score:J5(x,l.index),routesMeta:y})};return r.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))i(l,u);else for(let h of h4(l.path))i(l,u,!0,h)}),e}function h4(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=h4(n.join("/")),u=[];return u.push(...l.map(h=>h===""?i:[i,h].join("/"))),a&&u.push(...l),u.map(h=>r.startsWith("/")&&h===""?"/":h)}function V5(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Q5(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var W5=/^:[\w-]+$/,q5=3,G5=2,Y5=1,K5=10,X5=-2,A_=r=>r==="*";function J5(r,e){let t=r.split("/"),n=t.length;return t.some(A_)&&(n+=X5),e&&(n+=G5),t.filter(a=>!A_(a)).reduce((a,i)=>a+(W5.test(i)?q5:i===""?Y5:K5),n)}function Q5(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function Z5(r,e,t=!1){let{routesMeta:n}=r,a={},i="/",l=[];for(let u=0;u<n.length;++u){let h=n[u],f=u===n.length-1,g=i==="/"?e:e.slice(i.length)||"/",x=Wh({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),y=h.route;if(!x&&f&&t&&!n[n.length-1].route.index&&(x=Wh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(a,x.params),l.push({params:a,pathname:as([i,x.pathname]),pathnameBase:s6(as([i,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(i=as([i,x.pathnameBase]))}return l}function Wh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=e6(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((f,{paramName:g,isOptional:x},y)=>{if(g==="*"){let w=u[y]||"";l=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[y];return x&&!v?f[g]=void 0:f[g]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:r}}function e6(r,e=!1,t=!0){ga(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function t6(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ga(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function cs(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function r6(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?Nl(r):r;return{pathname:t?t.startsWith("/")?t:n6(t,e):e,search:i6(n),hash:o6(a)}}function n6(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function pg(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a6(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ix(r){let e=a6(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Bx(r,e,t,n=!1){let a;typeof r=="string"?a=Nl(r):(a={...r},nr(!a.pathname||!a.pathname.includes("?"),pg("?","pathname","search",a)),nr(!a.pathname||!a.pathname.includes("#"),pg("#","pathname","hash",a)),nr(!a.search||!a.search.includes("#"),pg("#","search","hash",a)));let i=r===""||a.pathname==="",l=i?"/":a.pathname,u;if(l==null)u=t;else{let x=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),x-=1;a.pathname=y.join("/")}u=x>=0?e[x]:"/"}let h=r6(a,u),f=l&&l!=="/"&&l.endsWith("/"),g=(i||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var as=r=>r.join("/").replace(/\/\/+/g,"/"),s6=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),i6=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,o6=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function l6(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var f4=["POST","PUT","PATCH","DELETE"];new Set(f4);var c6=["GET",...f4];new Set(c6);var El=I.createContext(null);El.displayName="DataRouter";var Tf=I.createContext(null);Tf.displayName="DataRouterState";I.createContext(!1);var m4=I.createContext({isTransitioning:!1});m4.displayName="ViewTransition";var u6=I.createContext(new Map);u6.displayName="Fetchers";var d6=I.createContext(null);d6.displayName="Await";var pa=I.createContext(null);pa.displayName="Navigation";var Cu=I.createContext(null);Cu.displayName="Location";var Ra=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ra.displayName="Route";var Ux=I.createContext(null);Ux.displayName="RouteError";function h6(r,{relative:e}={}){nr(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=I.useContext(pa),{hash:a,pathname:i,search:l}=Ou(r,{relative:e}),u=i;return t!=="/"&&(u=i==="/"?t:as([t,i])),n.createHref({pathname:u,search:l,hash:a})}function kl(){return I.useContext(Cu)!=null}function hs(){return nr(kl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Cu).location}var g4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x4(r){I.useContext(pa).static||I.useLayoutEffect(r)}function p4(){let{isDataRoute:r}=I.useContext(Ra);return r?E6():f6()}function f6(){nr(kl(),"useNavigate() may be used only in the context of a <Router> component.");let r=I.useContext(El),{basename:e,navigator:t}=I.useContext(pa),{matches:n}=I.useContext(Ra),{pathname:a}=hs(),i=JSON.stringify(Ix(n)),l=I.useRef(!1);return x4(()=>{l.current=!0}),I.useCallback((h,f={})=>{if(ga(l.current,g4),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=Bx(h,JSON.parse(i),a,f.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:as([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,i,a,r])}I.createContext(null);function Ou(r,{relative:e}={}){let{matches:t}=I.useContext(Ra),{pathname:n}=hs(),a=JSON.stringify(Ix(t));return I.useMemo(()=>Bx(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function m6(r,e){return y4(r,e)}function y4(r,e,t,n,a){nr(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=I.useContext(pa),{matches:l}=I.useContext(Ra),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",g=u?u.pathnameBase:"/",x=u&&u.route;{let N=x&&x.path||"";v4(f,!x||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=hs(),v;if(e){let N=typeof e=="string"?Nl(e):e;nr(g==="/"||N.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),v=N}else v=y;let w=v.pathname||"/",_=w;if(g!=="/"){let N=g.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=u4(r,{pathname:_});ga(x||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ga(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=v6(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:as([g,i.encodeLocation?i.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:as([g,i.encodeLocation?i.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,t,n,a);return e&&E?I.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function g6(){let r=N6(),e=l6(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:i},"ErrorBoundary")," or"," ",I.createElement("code",{style:i},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:a},t):null,l)}var x6=I.createElement(g6,null),p6=class extends I.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?I.createElement(Ra.Provider,{value:this.props.routeContext},I.createElement(Ux.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function y6({routeContext:r,match:e,children:t}){let n=I.useContext(El);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Ra.Provider,{value:r},t)}function v6(r,e=[],t=null,n=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,l=t?.errors;if(l!=null){let f=i.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);nr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<i.length;f++){let g=i[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:x,errors:y}=t,v=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((f,g,x)=>{let y,v=!1,w=null,_=null;t&&(y=l&&g.route.id?l[g.route.id]:void 0,w=g.route.errorElement||x6,u&&(h<0&&x===0?(v4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):h===x&&(v=!0,_=g.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,x+1)),E=()=>{let N;return y?N=w:v?N=_:g.route.Component?N=I.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=f,I.createElement(y6,{match:g,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:N})};return t&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?I.createElement(p6,{location:t.location,revalidation:t.revalidation,component:w,error:y,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:n}):E()},null)}function zx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b6(r){let e=I.useContext(El);return nr(e,zx(r)),e}function _6(r){let e=I.useContext(Tf);return nr(e,zx(r)),e}function w6(r){let e=I.useContext(Ra);return nr(e,zx(r)),e}function Hx(r){let e=w6(r),t=e.matches[e.matches.length-1];return nr(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function S6(){return Hx("useRouteId")}function N6(){let r=I.useContext(Ux),e=_6("useRouteError"),t=Hx("useRouteError");return r!==void 0?r:e.errors?.[t]}function E6(){let{router:r}=b6("useNavigate"),e=Hx("useNavigate"),t=I.useRef(!1);return x4(()=>{t.current=!0}),I.useCallback(async(a,i={})=>{ga(t.current,g4),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...i}))},[r,e])}var C_={};function v4(r,e,t){!e&&!C_[r]&&(C_[r]=!0,ga(!1,t))}I.memo(k6);function k6({routes:r,future:e,state:t,unstable_onError:n}){return y4(r,void 0,t,n,e)}function Ja({to:r,replace:e,state:t,relative:n}){nr(kl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(pa);ga(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=I.useContext(Ra),{pathname:l}=hs(),u=p4(),h=Bx(r,Ix(i),l,n==="path"),f=JSON.stringify(h);return I.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:n})},[u,f,n,e,t]),null}function hn(r){nr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T6({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:i=!1}){nr(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof t=="string"&&(t=Nl(t));let{pathname:h="/",search:f="",hash:g="",state:x=null,key:y="default"}=t,v=I.useMemo(()=>{let w=cs(h,l);return w==null?null:{location:{pathname:w,search:f,hash:g,state:x,key:y},navigationType:n}},[l,h,f,g,x,y,n]);return ga(v!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:I.createElement(pa.Provider,{value:u},I.createElement(Cu.Provider,{children:e,value:v}))}function j6({children:r,location:e}){return m6(ox(r),e)}function ox(r,e=[]){let t=[];return I.Children.forEach(r,(n,a)=>{if(!I.isValidElement(n))return;let i=[...e,a];if(n.type===I.Fragment){t.push.apply(t,ox(n.props.children,i));return}nr(n.type===hn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=ox(n.props.children,i)),t.push(l)}),t}var Fh="get",Lh="application/x-www-form-urlencoded";function jf(r){return r!=null&&typeof r.tagName=="string"}function A6(r){return jf(r)&&r.tagName.toLowerCase()==="button"}function C6(r){return jf(r)&&r.tagName.toLowerCase()==="form"}function O6(r){return jf(r)&&r.tagName.toLowerCase()==="input"}function R6(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function D6(r,e){return r.button===0&&(!e||e==="_self")&&!R6(r)}var uh=null;function M6(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var F6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yg(r){return r!=null&&!F6.has(r)?(ga(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lh}"`),null):r}function L6(r,e){let t,n,a,i,l;if(C6(r)){let u=r.getAttribute("action");n=u?cs(u,e):null,t=r.getAttribute("method")||Fh,a=yg(r.getAttribute("enctype"))||Lh,i=new FormData(r)}else if(A6(r)||O6(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||u.getAttribute("action");if(n=h?cs(h,e):null,t=r.getAttribute("formmethod")||u.getAttribute("method")||Fh,a=yg(r.getAttribute("formenctype"))||yg(u.getAttribute("enctype"))||Lh,i=new FormData(u,r),!M6()){let{name:f,type:g,value:x}=r;if(g==="image"){let y=f?`${f}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else f&&i.append(f,x)}}else{if(jf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fh,n=null,a=Lh,l=r}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $x(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function P6(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&cs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function I6(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B6(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function U6(r,e,t){let n=await Promise.all(r.map(async a=>{let i=e.routes[a.route.id];if(i){let l=await I6(i,t);return l.links?l.links():[]}return[]}));return V6(n.flat(1).filter(B6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function O_(r,e,t,n,a,i){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,u=(h,f)=>t[f].pathname!==h.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==h.params["*"];return i==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):i==="data"?e.filter((h,f)=>{let g=n.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function z6(r,e,{includeHydrateFallback:t}={}){return H6(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function H6(r){return[...new Set(r)]}function $6(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function V6(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let i=JSON.stringify($6(a));return t.has(i)||(t.add(i),n.push({key:i,link:a})),n},[])}function b4(){let r=I.useContext(El);return $x(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function W6(){let r=I.useContext(Tf);return $x(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Vx=I.createContext(void 0);Vx.displayName="FrameworkContext";function _4(){let r=I.useContext(Vx);return $x(r,"You must render this element inside a <HydratedRouter> element"),r}function q6(r,e){let t=I.useContext(Vx),[n,a]=I.useState(!1),[i,l]=I.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:x}=e,y=I.useRef(null);I.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let _=E=>{E.forEach(N=>{l(N.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[r]),I.useEffect(()=>{if(n){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[n]);let v=()=>{a(!0)},w=()=>{a(!1),l(!1)};return t?r!=="intent"?[i,y,{}]:[i,y,{onFocus:Tc(u,v),onBlur:Tc(h,w),onMouseEnter:Tc(f,v),onMouseLeave:Tc(g,w),onTouchStart:Tc(x,v)}]:[!1,y,{}]}function Tc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function G6({page:r,...e}){let{router:t}=b4(),n=I.useMemo(()=>u4(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?I.createElement(K6,{page:r,matches:n,...e}):null}function Y6(r){let{manifest:e,routeModules:t}=_4(),[n,a]=I.useState([]);return I.useEffect(()=>{let i=!1;return U6(r,e,t).then(l=>{i||a(l)}),()=>{i=!0}},[r,e,t]),n}function K6({page:r,matches:e,...t}){let n=hs(),{manifest:a,routeModules:i}=_4(),{basename:l}=b4(),{loaderData:u,matches:h}=W6(),f=I.useMemo(()=>O_(r,e,h,a,n,"data"),[r,e,h,a,n]),g=I.useMemo(()=>O_(r,e,h,a,n,"assets"),[r,e,h,a,n]),x=I.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let w=new Set,_=!1;if(e.forEach(E=>{let N=a.routes[E.route.id];!N||!N.hasLoader||(!f.some(T=>T.route.id===E.route.id)&&E.route.id in u&&i[E.route.id]?.shouldRevalidate||N.hasClientLoader?_=!0:w.add(E.route.id))}),w.size===0)return[];let S=P6(r,l,"data");return _&&w.size>0&&S.searchParams.set("_routes",e.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[l,u,n,a,f,e,r,i]),y=I.useMemo(()=>z6(g,a),[g,a]),v=Y6(g);return I.createElement(I.Fragment,null,x.map(w=>I.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),y.map(w=>I.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),v.map(({key:w,link:_})=>I.createElement("link",{key:w,nonce:t.nonce,..._})))}function X6(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var w4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w4&&(window.__reactRouterVersion="7.9.4")}catch{}function J6({basename:r,children:e,window:t}){let n=I.useRef();n.current==null&&(n.current=B5({window:t,v5Compat:!0}));let a=n.current,[i,l]=I.useState({action:a.action,location:a.location}),u=I.useCallback(h=>{I.startTransition(()=>l(h))},[l]);return I.useLayoutEffect(()=>a.listen(u),[a,u]),I.createElement(T6,{basename:r,children:e,location:i.location,navigationType:i.action,navigator:a})}var S4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vc=I.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:u,target:h,to:f,preventScrollReset:g,viewTransition:x,...y},v){let{basename:w}=I.useContext(pa),_=typeof f=="string"&&S4.test(f),S,E=!1;if(typeof f=="string"&&_&&(S=f,w4))try{let O=new URL(window.location.href),Q=f.startsWith("//")?new URL(O.protocol+f):new URL(f),W=cs(Q.pathname,w);Q.origin===O.origin&&W!=null?f=W+Q.search+Q.hash:E=!0}catch{ga(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=h6(f,{relative:a}),[T,M,C]=q6(n,y),V=tO(f,{replace:l,state:u,target:h,preventScrollReset:g,relative:a,viewTransition:x});function D(O){e&&e(O),O.defaultPrevented||V(O)}let Y=I.createElement("a",{...y,...C,href:S||N,onClick:E||i?e:D,ref:X6(v,M),target:h,"data-discover":!_&&t==="render"?"true":void 0});return T&&!_?I.createElement(I.Fragment,null,Y,I.createElement(G6,{page:N})):Y});Vc.displayName="Link";var Q6=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:u,children:h,...f},g){let x=Ou(l,{relative:f.relative}),y=hs(),v=I.useContext(Tf),{navigator:w,basename:_}=I.useContext(pa),S=v!=null&&iO(x)&&u===!0,E=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,N=y.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(N=N.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&_&&(T=cs(T,_)||T);const M=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let C=N===E||!a&&N.startsWith(E)&&N.charAt(M)==="/",V=T!=null&&(T===E||!a&&T.startsWith(E)&&T.charAt(E.length)==="/"),D={isActive:C,isPending:V,isTransitioning:S},Y=C?e:void 0,O;typeof n=="function"?O=n(D):O=[n,C?"active":null,V?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Q=typeof i=="function"?i(D):i;return I.createElement(Vc,{...f,"aria-current":Y,className:O,ref:g,style:Q,to:l,viewTransition:u},typeof h=="function"?h(D):h)});Q6.displayName="NavLink";var Z6=I.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:i,method:l=Fh,action:u,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:x,...y},v)=>{let w=aO(),_=sO(u,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&S4.test(u),N=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,C=M?.getAttribute("formmethod")||l;w(M||T.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:a,state:i,relative:f,preventScrollReset:g,viewTransition:x})};return I.createElement("form",{ref:v,method:S,action:_,onSubmit:n?h:N,...y,"data-discover":!E&&r==="render"?"true":void 0})});Z6.displayName="Form";function eO(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N4(r){let e=I.useContext(El);return nr(e,eO(r)),e}function tO(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:i,viewTransition:l}={}){let u=p4(),h=hs(),f=Ou(r,{relative:i});return I.useCallback(g=>{if(D6(g,e)){g.preventDefault();let x=t!==void 0?t:su(h)===su(f);u(r,{replace:x,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[h,u,f,t,n,e,r,a,i,l])}var rO=0,nO=()=>`__${String(++rO)}__`;function aO(){let{router:r}=N4("useSubmit"),{basename:e}=I.useContext(pa),t=S6();return I.useCallback(async(n,a={})=>{let{action:i,method:l,encType:u,formData:h,body:f}=L6(n,e);if(a.navigate===!1){let g=a.fetcherKey||nO();await r.fetch(g,t,a.action||i,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await r.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function sO(r,{relative:e}={}){let{basename:t}=I.useContext(pa),n=I.useContext(Ra);nr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Ou(r||".",{relative:e})},l=hs();if(r==null){i.search=l.search;let u=new URLSearchParams(i.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(x=>x).forEach(x=>u.append("index",x));let g=u.toString();i.search=g?`?${g}`:""}}return(!r||r===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:as([t,i.pathname])),su(i)}function iO(r,{relative:e}={}){let t=I.useContext(m4);nr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=N4("useViewTransitionState"),a=Ou(r,{relative:e});if(!t.isTransitioning)return!1;let i=cs(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=cs(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Wh(a.pathname,l)!=null||Wh(a.pathname,i)!=null}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),R_=r=>{const e=lO(r);return e.charAt(0).toUpperCase()+e.slice(1)},E4=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),cO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=I.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...u},h)=>I.createElement("svg",{ref:h,...uO,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:E4("lucide",a),...!i&&!cO(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,g])=>I.createElement(f,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(r,e)=>{const t=I.forwardRef(({className:n,...a},i)=>I.createElement(dO,{ref:i,iconNode:e,className:E4(`lucide-${oO(R_(r))}`,`lucide-${r}`,n),...a}));return t.displayName=R_(r),t};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],D_=Ue("activity",hO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],mO=Ue("briefcase",fO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],k4=Ue("building",gO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],lx=Ue("calculator",xO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],yO=Ue("calendar-days",pO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],iu=Ue("calendar",vO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Wx=Ue("chart-column",bO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wO=Ue("check",_O);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wc=Ue("circle-alert",SO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rr=Ue("circle-check-big",NO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vg=Ue("circle-x",EO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],T4=Ue("clock",kO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],M_=Ue("cloud-rain",TO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],AO=Ue("crown",jO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],OO=Ue("database",CO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],j4=Ue("download",RO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Qn=Ue("droplets",DO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],qh=Ue("eye-off",MO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vi=Ue("eye",FO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],A4=Ue("file-spreadsheet",LO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],C4=Ue("file-text",PO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],BO=Ue("funnel",IO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Ks=Ue("gauge",UO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],O4=Ue("globe",zO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],$O=Ue("headphones",HO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],F_=Ue("history",VO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Af=Ue("info",WO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],GO=Ue("layers",qO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cx=Ue("lock",YO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],XO=Ue("log-in",KO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QO=Ue("log-out",JO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Qs=Ue("mail",ZO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xn=Ue("map-pin",eR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],qx=Ue("menu",tR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nR=Ue("moon",rR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],sR=Ue("navigation",aR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ux=Ue("pen-line",iR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],lR=Ue("phone",oR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ss=Ue("plus",cR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Fi=Ue("refresh-cw",uR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],hR=Ue("repeat",dR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],L_=Ue("rotate-ccw",fR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Gh=Ue("save",mR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Cf=Ue("search",gR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Yh=Ue("send",xR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yR=Ue("settings",pR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nl=Ue("shield",vR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],_R=Ue("smartphone",bR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],da=Ue("sprout",wR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dx=Ue("square-check-big",SR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ER=Ue("square-pen",NR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],R4=Ue("square",kR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gl=Ue("star",TR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],D4=Ue("sun",jR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],CR=Ue("target",AR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Wi=Ue("thermometer",OR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xs=Ue("trash-2",RR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],MR=Ue("trending-down",DR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Aa=Ue("trending-up",FR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],P_=Ue("triangle-alert",LR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],IR=Ue("user-plus",PR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kh=Ue("user",BR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Lc=Ue("users",UR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],HR=Ue("wifi",zR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],Of=Ue("wind",$R);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hr=Ue("x",VR);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qR=Ue("zap",WR),Yo=({title:r,value:e,unit:t,icon:n,trend:a,description:i})=>{const l=()=>{switch(a){case"up":return"text-red-500";case"down":return"text-blue-500";default:return"text-gray-500"}};return c.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-github-canvas-subtle dark:bg-github-dark-canvas-subtle rounded-gh text-github-accent-emphasis dark:text-github-dark-accent-emphasis",children:n}),c.jsx("h3",{className:"text-base font-semibold text-github-fg-default dark:text-github-dark-fg-default",children:r})]}),a&&c.jsx(Aa,{className:`h-4 w-4 ${l()}`})]}),c.jsxs("div",{className:"flex items-baseline space-x-2 mb-2",children:[c.jsx("span",{className:"text-2xl font-bold text-github-fg-default dark:text-github-dark-fg-default",children:e.toFixed(2)}),c.jsx("span",{className:"text-sm text-github-fg-muted dark:text-github-dark-fg-muted font-mono",children:t})]}),i&&c.jsx("p",{className:"text-sm text-github-fg-subtle dark:text-github-dark-fg-subtle",children:i})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ru(r){return r+.5|0}const $s=(r,e,t)=>Math.max(Math.min(r,t),e);function Pc(r){return $s(Ru(r*2.55),0,255)}function Js(r){return $s(Ru(r*255),0,255)}function rs(r){return $s(Ru(r/2.55)/100,0,1)}function I_(r){return $s(Ru(r*100),0,100)}const Gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hx=[..."0123456789ABCDEF"],GR=r=>hx[r&15],YR=r=>hx[(r&240)>>4]+hx[r&15],dh=r=>(r&240)>>4===(r&15),KR=r=>dh(r.r)&&dh(r.g)&&dh(r.b)&&dh(r.a);function XR(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&Gn[r[1]]*17,g:255&Gn[r[2]]*17,b:255&Gn[r[3]]*17,a:e===5?Gn[r[4]]*17:255}:(e===7||e===9)&&(t={r:Gn[r[1]]<<4|Gn[r[2]],g:Gn[r[3]]<<4|Gn[r[4]],b:Gn[r[5]]<<4|Gn[r[6]],a:e===9?Gn[r[7]]<<4|Gn[r[8]]:255})),t}const JR=(r,e)=>r<255?e(r):"";function QR(r){var e=KR(r)?GR:YR;return r?"#"+e(r.r)+e(r.g)+e(r.b)+JR(r.a,e):void 0}const ZR=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function M4(r,e,t){const n=e*Math.min(t,1-t),a=(i,l=(i+r/30)%12)=>t-n*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function eD(r,e,t){const n=(a,i=(a+r/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function tD(r,e,t){const n=M4(r,1,.5);let a;for(e+t>1&&(a=1/(e+t),e*=a,t*=a),a=0;a<3;a++)n[a]*=1-e-t,n[a]+=e;return n}function rD(r,e,t,n,a){return r===a?(e-t)/n+(e<t?6:0):e===a?(t-r)/n+2:(r-e)/n+4}function Gx(r){const t=r.r/255,n=r.g/255,a=r.b/255,i=Math.max(t,n,a),l=Math.min(t,n,a),u=(i+l)/2;let h,f,g;return i!==l&&(g=i-l,f=u>.5?g/(2-i-l):g/(i+l),h=rD(t,n,a,g,i),h=h*60+.5),[h|0,f||0,u]}function Yx(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(Js)}function Kx(r,e,t){return Yx(M4,r,e,t)}function nD(r,e,t){return Yx(tD,r,e,t)}function aD(r,e,t){return Yx(eD,r,e,t)}function F4(r){return(r%360+360)%360}function sD(r){const e=ZR.exec(r);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?Pc(+e[5]):Js(+e[5]));const a=F4(+e[2]),i=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?n=nD(a,i,l):e[1]==="hsv"?n=aD(a,i,l):n=Kx(a,i,l),{r:n[0],g:n[1],b:n[2],a:t}}function iD(r,e){var t=Gx(r);t[0]=F4(t[0]+e),t=Kx(t),r.r=t[0],r.g=t[1],r.b=t[2]}function oD(r){if(!r)return;const e=Gx(r),t=e[0],n=I_(e[1]),a=I_(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${a}%, ${rs(r.a)})`:`hsl(${t}, ${n}%, ${a}%)`}const B_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},U_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lD(){const r={},e=Object.keys(U_),t=Object.keys(B_);let n,a,i,l,u;for(n=0;n<e.length;n++){for(l=u=e[n],a=0;a<t.length;a++)i=t[a],u=u.replace(i,B_[i]);i=parseInt(U_[l],16),r[u]=[i>>16&255,i>>8&255,i&255]}return r}let hh;function cD(r){hh||(hh=lD(),hh.transparent=[0,0,0,0]);const e=hh[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const uD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dD(r){const e=uD.exec(r);let t=255,n,a,i;if(e){if(e[7]!==n){const l=+e[7];t=e[8]?Pc(l):$s(l*255,0,255)}return n=+e[1],a=+e[3],i=+e[5],n=255&(e[2]?Pc(n):$s(n,0,255)),a=255&(e[4]?Pc(a):$s(a,0,255)),i=255&(e[6]?Pc(i):$s(i,0,255)),{r:n,g:a,b:i,a:t}}}function hD(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${rs(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const bg=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,Ko=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function fD(r,e,t){const n=Ko(rs(r.r)),a=Ko(rs(r.g)),i=Ko(rs(r.b));return{r:Js(bg(n+t*(Ko(rs(e.r))-n))),g:Js(bg(a+t*(Ko(rs(e.g))-a))),b:Js(bg(i+t*(Ko(rs(e.b))-i))),a:r.a+t*(e.a-r.a)}}function fh(r,e,t){if(r){let n=Gx(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=Kx(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function L4(r,e){return r&&Object.assign(e||{},r)}function z_(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=Js(r[3]))):(e=L4(r,{r:0,g:0,b:0,a:1}),e.a=Js(e.a)),e}function mD(r){return r.charAt(0)==="r"?dD(r):sD(r)}class ou{constructor(e){if(e instanceof ou)return e;const t=typeof e;let n;t==="object"?n=z_(e):t==="string"&&(n=XR(e)||cD(e)||mD(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=L4(this._rgb);return e&&(e.a=rs(e.a)),e}set rgb(e){this._rgb=z_(e)}rgbString(){return this._valid?hD(this._rgb):void 0}hexString(){return this._valid?QR(this._rgb):void 0}hslString(){return this._valid?oD(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,a=e.rgb;let i;const l=t===i?.5:t,u=2*l-1,h=n.a-a.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;i=1-f,n.r=255&f*n.r+i*a.r+.5,n.g=255&f*n.g+i*a.g+.5,n.b=255&f*n.b+i*a.b+.5,n.a=l*n.a+(1-l)*a.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=fD(this._rgb,e._rgb,t)),this}clone(){return new ou(this.rgb)}alpha(e){return this._rgb.a=Js(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ru(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return fh(this._rgb,2,e),this}darken(e){return fh(this._rgb,2,-e),this}saturate(e){return fh(this._rgb,1,e),this}desaturate(e){return fh(this._rgb,1,-e),this}rotate(e){return iD(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Qa(){}const gD=(()=>{let r=0;return()=>r++})();function Tt(r){return r==null}function jr(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function _t(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function Zn(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function Na(r,e){return Zn(r)?r:e}function ct(r,e){return typeof r>"u"?e:r}const xD=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,P4=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function Jt(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function Dt(r,e,t,n){let a,i,l;if(jr(r))for(i=r.length,a=0;a<i;a++)e.call(t,r[a],a);else if(_t(r))for(l=Object.keys(r),i=l.length,a=0;a<i;a++)e.call(t,r[l[a]],l[a])}function Xh(r,e){let t,n,a,i;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(a=r[t],i=e[t],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Jh(r){if(jr(r))return r.map(Jh);if(_t(r)){const e=Object.create(null),t=Object.keys(r),n=t.length;let a=0;for(;a<n;++a)e[t[a]]=Jh(r[t[a]]);return e}return r}function I4(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function pD(r,e,t,n){if(!I4(r))return;const a=e[r],i=t[r];_t(a)&&_t(i)?lu(a,i,n):e[r]=Jh(i)}function lu(r,e,t){const n=jr(e)?e:[e],a=n.length;if(!_t(r))return r;t=t||{};const i=t.merger||pD;let l;for(let u=0;u<a;++u){if(l=n[u],!_t(l))continue;const h=Object.keys(l);for(let f=0,g=h.length;f<g;++f)i(h[f],r,l,t)}return r}function qc(r,e){return lu(r,e,{merger:yD})}function yD(r,e,t){if(!I4(r))return;const n=e[r],a=t[r];_t(n)&&_t(a)?qc(n,a):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=Jh(a))}const H_={"":r=>r,x:r=>r.x,y:r=>r.y};function vD(r){const e=r.split("."),t=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function bD(r){const e=vD(r);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function qi(r,e){return(H_[e]||(H_[e]=bD(e)))(r)}function Xx(r){return r.charAt(0).toUpperCase()+r.slice(1)}const cu=r=>typeof r<"u",Zs=r=>typeof r=="function",$_=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function _D(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const Mt=Math.PI,cr=2*Mt,wD=cr+Mt,Qh=Number.POSITIVE_INFINITY,SD=Mt/180,Ar=Mt/2,Ti=Mt/4,V_=Mt*2/3,B4=Math.log10,Ca=Math.sign;function Gc(r,e,t){return Math.abs(r-e)<t}function W_(r){const e=Math.round(r);r=Gc(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(B4(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function ND(r){const e=[],t=Math.sqrt(r);let n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((a,i)=>a-i).pop(),e}function ED(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function uu(r){return!ED(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function kD(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function TD(r,e,t){let n,a,i;for(n=0,a=r.length;n<a;n++)i=r[n][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ns(r){return r*(Mt/180)}function jD(r){return r*(180/Mt)}function q_(r){if(!Zn(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function U4(r,e){const t=e.x-r.x,n=e.y-r.y,a=Math.sqrt(t*t+n*n);let i=Math.atan2(n,t);return i<-.5*Mt&&(i+=cr),{angle:i,distance:a}}function fx(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function AD(r,e){return(r-e+wD)%cr-Mt}function ua(r){return(r%cr+cr)%cr}function du(r,e,t,n){const a=ua(r),i=ua(e),l=ua(t),u=ua(i-a),h=ua(l-a),f=ua(a-i),g=ua(a-l);return a===i||a===l||n&&i===l||u>h&&f<g}function Kr(r,e,t){return Math.max(e,Math.min(t,r))}function CD(r){return Kr(r,-32768,32767)}function Vs(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function Jx(r,e,t){t=t||(l=>r[l]<e);let n=r.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,t(i)?a=i:n=i;return{lo:a,hi:n}}const Bi=(r,e,t,n)=>Jx(r,t,n?a=>{const i=r[a][e];return i<t||i===t&&r[a+1][e]===t}:a=>r[a][e]<t),OD=(r,e,t)=>Jx(r,t,n=>r[n][e]>=t);function RD(r,e,t){let n=0,a=r.length;for(;n<a&&r[n]<e;)n++;for(;a>n&&r[a-1]>t;)a--;return n>0||a<r.length?r.slice(n,a):r}const z4=["push","pop","shift","splice","unshift"];function DD(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),z4.forEach(t=>{const n="_onData"+Xx(t),a=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...i){const l=a.apply(this,i);return r._chartjs.listeners.forEach(u=>{typeof u[n]=="function"&&u[n](...i)}),l}})})}function G_(r,e){const t=r._chartjs;if(!t)return;const n=t.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(z4.forEach(i=>{delete r[i]}),delete r._chartjs)}function H4(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const $4=(function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame})();function V4(r,e){let t=[],n=!1;return function(...a){t=a,n||(n=!0,$4.call(window,()=>{n=!1,r.apply(e,t)}))}}function MD(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}const Qx=r=>r==="start"?"left":r==="end"?"right":"center",Gr=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,FD=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e;function LD(r,e,t){const n=e.length;let a=0,i=n;if(r._sorted){const{iScale:l,vScale:u,_parsed:h}=r,f=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,g=l.axis,{min:x,max:y,minDefined:v,maxDefined:w}=l.getUserBounds();if(v){if(a=Math.min(Bi(h,g,x).lo,t?n:Bi(e,g,l.getPixelForValue(x)).lo),f){const _=h.slice(0,a+1).reverse().findIndex(S=>!Tt(S[u.axis]));a-=Math.max(0,_)}a=Kr(a,0,n-1)}if(w){let _=Math.max(Bi(h,l.axis,y,!0).hi+1,t?0:Bi(e,g,l.getPixelForValue(y),!0).hi+1);if(f){const S=h.slice(_-1).findIndex(E=>!Tt(E[u.axis]));_+=Math.max(0,S)}i=Kr(_,a,n)-a}else i=n-a}return{start:a,count:i}}function PD(r){const{xScale:e,yScale:t,_scaleRanges:n}=r,a={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return r._scaleRanges=a,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,a),i}const mh=r=>r===0||r===1,Y_=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*cr/t)),K_=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*cr/t)+1,Yc={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Ar)+1,easeOutSine:r=>Math.sin(r*Ar),easeInOutSine:r=>-.5*(Math.cos(Mt*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>mh(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>mh(r)?r:Y_(r,.075,.3),easeOutElastic:r=>mh(r)?r:K_(r,.075,.3),easeInOutElastic(r){return mh(r)?r:r<.5?.5*Y_(r*2,.1125,.45):.5+.5*K_(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-Yc.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?Yc.easeInBounce(r*2)*.5:Yc.easeOutBounce(r*2-1)*.5+.5};function Zx(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function X_(r){return Zx(r)?r:new ou(r)}function _g(r){return Zx(r)?r:new ou(r).saturate(.5).darken(.1).hexString()}const ID=["x","y","borderWidth","radius","tension"],BD=["color","borderColor","backgroundColor"];function UD(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:BD},numbers:{type:"number",properties:ID}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function zD(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const J_=new Map;function HD(r,e){e=e||{};const t=r+JSON.stringify(e);let n=J_.get(t);return n||(n=new Intl.NumberFormat(r,e),J_.set(t,n)),n}function ep(r,e,t){return HD(e,t).format(r)}const $D={values(r){return jr(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const n=this.chart.options.locale;let a,i=r;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(a="scientific"),i=VD(r,t)}const l=B4(Math.abs(i)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),ep(r,n,h)}};function VD(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var W4={formatters:$D};function WD(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:W4.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Gi=Object.create(null),mx=Object.create(null);function Kc(r,e){if(!e)return r;const t=e.split(".");for(let n=0,a=t.length;n<a;++n){const i=t[n];r=r[i]||(r[i]=Object.create(null))}return r}function wg(r,e,t){return typeof e=="string"?lu(Kc(r,e),t):lu(Kc(r,""),e)}class qD{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>_g(a.backgroundColor),this.hoverBorderColor=(n,a)=>_g(a.borderColor),this.hoverColor=(n,a)=>_g(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return wg(this,e,t)}get(e){return Kc(this,e)}describe(e,t){return wg(mx,e,t)}override(e,t){return wg(Gi,e,t)}route(e,t,n,a){const i=Kc(this,e),l=Kc(this,n),u="_"+t;Object.defineProperties(i,{[u]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],f=l[a];return _t(h)?Object.assign({},f,h):ct(h,f)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var mr=new qD({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[UD,zD,WD]);function GD(r){return!r||Tt(r.size)||Tt(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function Q_(r,e,t,n,a){let i=e[a];return i||(i=e[a]=r.measureText(a).width,t.push(a)),i>n&&(n=i),n}function ji(r,e,t){const n=r.currentDevicePixelRatio,a=t!==0?Math.max(t/2,.5):0;return Math.round((e-a)*n)/n+a}function Z_(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function gx(r,e,t,n){q4(r,e,t,n,null)}function q4(r,e,t,n,a){let i,l,u,h,f,g,x,y;const v=e.pointStyle,w=e.rotation,_=e.radius;let S=(w||0)*SD;if(v&&typeof v=="object"&&(i=v.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(S),r.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),r.restore();return}if(!(isNaN(_)||_<=0)){switch(r.beginPath(),v){default:a?r.ellipse(t,n,a/2,_,0,0,cr):r.arc(t,n,_,0,cr),r.closePath();break;case"triangle":g=a?a/2:_,r.moveTo(t+Math.sin(S)*g,n-Math.cos(S)*_),S+=V_,r.lineTo(t+Math.sin(S)*g,n-Math.cos(S)*_),S+=V_,r.lineTo(t+Math.sin(S)*g,n-Math.cos(S)*_),r.closePath();break;case"rectRounded":f=_*.516,h=_-f,l=Math.cos(S+Ti)*h,x=Math.cos(S+Ti)*(a?a/2-f:h),u=Math.sin(S+Ti)*h,y=Math.sin(S+Ti)*(a?a/2-f:h),r.arc(t-x,n-u,f,S-Mt,S-Ar),r.arc(t+y,n-l,f,S-Ar,S),r.arc(t+x,n+u,f,S,S+Ar),r.arc(t-y,n+l,f,S+Ar,S+Mt),r.closePath();break;case"rect":if(!w){h=Math.SQRT1_2*_,g=a?a/2:h,r.rect(t-g,n-h,2*g,2*h);break}S+=Ti;case"rectRot":x=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,u=Math.sin(S)*_,y=Math.sin(S)*(a?a/2:_),r.moveTo(t-x,n-u),r.lineTo(t+y,n-l),r.lineTo(t+x,n+u),r.lineTo(t-y,n+l),r.closePath();break;case"crossRot":S+=Ti;case"cross":x=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,u=Math.sin(S)*_,y=Math.sin(S)*(a?a/2:_),r.moveTo(t-x,n-u),r.lineTo(t+x,n+u),r.moveTo(t+y,n-l),r.lineTo(t-y,n+l);break;case"star":x=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,u=Math.sin(S)*_,y=Math.sin(S)*(a?a/2:_),r.moveTo(t-x,n-u),r.lineTo(t+x,n+u),r.moveTo(t+y,n-l),r.lineTo(t-y,n+l),S+=Ti,x=Math.cos(S)*(a?a/2:_),l=Math.cos(S)*_,u=Math.sin(S)*_,y=Math.sin(S)*(a?a/2:_),r.moveTo(t-x,n-u),r.lineTo(t+x,n+u),r.moveTo(t+y,n-l),r.lineTo(t-y,n+l);break;case"line":l=a?a/2:Math.cos(S)*_,u=Math.sin(S)*_,r.moveTo(t-l,n-u),r.lineTo(t+l,n+u);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(S)*(a?a/2:_),n+Math.sin(S)*_);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function hu(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function tp(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function rp(r){r.restore()}function YD(r,e,t,n,a){if(!e)return r.lineTo(t.x,t.y);if(a==="middle"){const i=(e.x+t.x)/2;r.lineTo(i,e.y),r.lineTo(i,t.y)}else a==="after"!=!!n?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function KD(r,e,t,n){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function XD(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),Tt(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function JD(r,e,t,n,a){if(a.strikethrough||a.underline){const i=r.measureText(n),l=e-i.actualBoundingBoxLeft,u=e+i.actualBoundingBoxRight,h=t-i.actualBoundingBoxAscent,f=t+i.actualBoundingBoxDescent,g=a.strikethrough?(h+f)/2:f;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=a.decorationWidth||2,r.moveTo(l,g),r.lineTo(u,g),r.stroke()}}function QD(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function fu(r,e,t,n,a,i={}){const l=jr(e)?e:[e],u=i.strokeWidth>0&&i.strokeColor!=="";let h,f;for(r.save(),r.font=a.string,XD(r,i),h=0;h<l.length;++h)f=l[h],i.backdrop&&QD(r,i.backdrop),u&&(i.strokeColor&&(r.strokeStyle=i.strokeColor),Tt(i.strokeWidth)||(r.lineWidth=i.strokeWidth),r.strokeText(f,t,n,i.maxWidth)),r.fillText(f,t,n,i.maxWidth),JD(r,t,n,f,i),n+=Number(a.lineHeight);r.restore()}function Zh(r,e){const{x:t,y:n,w:a,h:i,radius:l}=e;r.arc(t+l.topLeft,n+l.topLeft,l.topLeft,1.5*Mt,Mt,!0),r.lineTo(t,n+i-l.bottomLeft),r.arc(t+l.bottomLeft,n+i-l.bottomLeft,l.bottomLeft,Mt,Ar,!0),r.lineTo(t+a-l.bottomRight,n+i),r.arc(t+a-l.bottomRight,n+i-l.bottomRight,l.bottomRight,Ar,0,!0),r.lineTo(t+a,n+l.topRight),r.arc(t+a-l.topRight,n+l.topRight,l.topRight,0,-Ar,!0),r.lineTo(t+l.topLeft,n)}const ZD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,e8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function t8(r,e){const t=(""+r).match(ZD);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const r8=r=>+r||0;function np(r,e){const t={},n=_t(e),a=n?Object.keys(e):e,i=_t(r)?n?l=>ct(r[l],r[e[l]]):l=>r[l]:()=>r;for(const l of a)t[l]=r8(i(l));return t}function G4(r){return np(r,{top:"y",right:"x",bottom:"y",left:"x"})}function il(r){return np(r,["topLeft","topRight","bottomLeft","bottomRight"])}function ea(r){const e=G4(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Xr(r,e){r=r||{},e=e||mr.font;let t=ct(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=ct(r.style,e.style);n&&!(""+n).match(e8)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:ct(r.family,e.family),lineHeight:t8(ct(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:ct(r.weight,e.weight),string:""};return a.string=GD(a),a}function gh(r,e,t,n){let a,i,l;for(a=0,i=r.length;a<i;++a)if(l=r[a],l!==void 0&&l!==void 0)return l}function n8(r,e,t){const{min:n,max:a}=r,i=P4(e,(a-n)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(n,-Math.abs(i)),max:l(a,i)}}function Qi(r,e){return Object.assign(Object.create(r),e)}function ap(r,e=[""],t,n,a=()=>r[0]){const i=t||r;typeof n>"u"&&(n=J4("_fallback",r));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:i,_fallback:n,_getTarget:a,override:u=>ap([u,...r],e,i,n)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete r[0][h],!0},get(u,h){return K4(u,h,()=>d8(h,e,r,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(u,h){return tw(u).includes(h)},ownKeys(u){return tw(u)},set(u,h,f){const g=u._storage||(u._storage=a());return u[h]=g[h]=f,delete u._keys,!0}})}function xl(r,e,t,n){const a={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:Y4(r,n),setContext:i=>xl(r,i,t,n),override:i=>xl(r.override(i),e,t,n)};return new Proxy(a,{deleteProperty(i,l){return delete i[l],delete r[l],!0},get(i,l,u){return K4(i,l,()=>s8(i,l,u))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(r,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,l)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(i,l){return Reflect.has(r,l)},ownKeys(){return Reflect.ownKeys(r)},set(i,l,u){return r[l]=u,delete i[l],!0}})}function Y4(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=r;return{allKeys:a,scriptable:t,indexable:n,isScriptable:Zs(t)?t:()=>t,isIndexable:Zs(n)?n:()=>n}}const a8=(r,e)=>r?r+Xx(e):e,sp=(r,e)=>_t(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function K4(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const n=t();return r[e]=n,n}function s8(r,e,t){const{_proxy:n,_context:a,_subProxy:i,_descriptors:l}=r;let u=n[e];return Zs(u)&&l.isScriptable(e)&&(u=i8(e,u,r,t)),jr(u)&&u.length&&(u=o8(e,u,r,l.isIndexable)),sp(e,u)&&(u=xl(u,a,i&&i[e],l)),u}function i8(r,e,t,n){const{_proxy:a,_context:i,_subProxy:l,_stack:u}=t;if(u.has(r))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+r);u.add(r);let h=e(i,l||n);return u.delete(r),sp(r,h)&&(h=ip(a._scopes,a,r,h)),h}function o8(r,e,t,n){const{_proxy:a,_context:i,_subProxy:l,_descriptors:u}=t;if(typeof i.index<"u"&&n(r))return e[i.index%e.length];if(_t(e[0])){const h=e,f=a._scopes.filter(g=>g!==h);e=[];for(const g of h){const x=ip(f,a,r,g);e.push(xl(x,i,l&&l[r],u))}}return e}function X4(r,e,t){return Zs(r)?r(e,t):r}const l8=(r,e)=>r===!0?e:typeof r=="string"?qi(e,r):void 0;function c8(r,e,t,n,a){for(const i of e){const l=l8(t,i);if(l){r.add(l);const u=X4(l._fallback,t,a);if(typeof u<"u"&&u!==t&&u!==n)return u}else if(l===!1&&typeof n<"u"&&t!==n)return null}return!1}function ip(r,e,t,n){const a=e._rootScopes,i=X4(e._fallback,t,n),l=[...r,...a],u=new Set;u.add(n);let h=ew(u,l,t,i||t,n);return h===null||typeof i<"u"&&i!==t&&(h=ew(u,l,i,h,n),h===null)?!1:ap(Array.from(u),[""],a,i,()=>u8(e,t,n))}function ew(r,e,t,n,a){for(;t;)t=c8(r,e,t,n,a);return t}function u8(r,e,t){const n=r._getTarget();e in n||(n[e]={});const a=n[e];return jr(a)&&_t(t)?t:a||{}}function d8(r,e,t,n){let a;for(const i of e)if(a=J4(a8(i,r),t),typeof a<"u")return sp(r,a)?ip(t,n,r,a):a}function J4(r,e){for(const t of e){if(!t)continue;const n=t[r];if(typeof n<"u")return n}}function tw(r){let e=r._keys;return e||(e=r._keys=h8(r._scopes)),e}function h8(r){const e=new Set;for(const t of r)for(const n of Object.keys(t).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}const f8=Number.EPSILON||1e-14,pl=(r,e)=>e<r.length&&!r[e].skip&&r[e],Q4=r=>r==="x"?"y":"x";function m8(r,e,t,n){const a=r.skip?e:r,i=e,l=t.skip?e:t,u=fx(i,a),h=fx(l,i);let f=u/(u+h),g=h/(u+h);f=isNaN(f)?0:f,g=isNaN(g)?0:g;const x=n*f,y=n*g;return{previous:{x:i.x-x*(l.x-a.x),y:i.y-x*(l.y-a.y)},next:{x:i.x+y*(l.x-a.x),y:i.y+y*(l.y-a.y)}}}function g8(r,e,t){const n=r.length;let a,i,l,u,h,f=pl(r,0);for(let g=0;g<n-1;++g)if(h=f,f=pl(r,g+1),!(!h||!f)){if(Gc(e[g],0,f8)){t[g]=t[g+1]=0;continue}a=t[g]/e[g],i=t[g+1]/e[g],u=Math.pow(a,2)+Math.pow(i,2),!(u<=9)&&(l=3/Math.sqrt(u),t[g]=a*l*e[g],t[g+1]=i*l*e[g])}}function x8(r,e,t="x"){const n=Q4(t),a=r.length;let i,l,u,h=pl(r,0);for(let f=0;f<a;++f){if(l=u,u=h,h=pl(r,f+1),!u)continue;const g=u[t],x=u[n];l&&(i=(g-l[t])/3,u[`cp1${t}`]=g-i,u[`cp1${n}`]=x-i*e[f]),h&&(i=(h[t]-g)/3,u[`cp2${t}`]=g+i,u[`cp2${n}`]=x+i*e[f])}}function p8(r,e="x"){const t=Q4(e),n=r.length,a=Array(n).fill(0),i=Array(n);let l,u,h,f=pl(r,0);for(l=0;l<n;++l)if(u=h,h=f,f=pl(r,l+1),!!h){if(f){const g=f[e]-h[e];a[l]=g!==0?(f[t]-h[t])/g:0}i[l]=u?f?Ca(a[l-1])!==Ca(a[l])?0:(a[l-1]+a[l])/2:a[l-1]:a[l]}g8(r,a,i),x8(r,i,e)}function xh(r,e,t){return Math.max(Math.min(r,t),e)}function y8(r,e){let t,n,a,i,l,u=hu(r[0],e);for(t=0,n=r.length;t<n;++t)l=i,i=u,u=t<n-1&&hu(r[t+1],e),i&&(a=r[t],l&&(a.cp1x=xh(a.cp1x,e.left,e.right),a.cp1y=xh(a.cp1y,e.top,e.bottom)),u&&(a.cp2x=xh(a.cp2x,e.left,e.right),a.cp2y=xh(a.cp2y,e.top,e.bottom)))}function v8(r,e,t,n,a){let i,l,u,h;if(e.spanGaps&&(r=r.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")p8(r,a);else{let f=n?r[r.length-1]:r[0];for(i=0,l=r.length;i<l;++i)u=r[i],h=m8(f,u,r[Math.min(i+1,l-(n?0:1))%l],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,f=u}e.capBezierPoints&&y8(r,t)}function op(){return typeof window<"u"&&typeof document<"u"}function lp(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ef(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}const Rf=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function b8(r,e){return Rf(r).getPropertyValue(e)}const _8=["top","right","bottom","left"];function zi(r,e,t){const n={};t=t?"-"+t:"";for(let a=0;a<4;a++){const i=_8[a];n[i]=parseFloat(r[e+"-"+i+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const w8=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function S8(r,e){const t=r.touches,n=t&&t.length?t[0]:r,{offsetX:a,offsetY:i}=n;let l=!1,u,h;if(w8(a,i,r.target))u=a,h=i;else{const f=e.getBoundingClientRect();u=n.clientX-f.left,h=n.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function Oi(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:n}=e,a=Rf(t),i=a.boxSizing==="border-box",l=zi(a,"padding"),u=zi(a,"border","width"),{x:h,y:f,box:g}=S8(r,t),x=l.left+(g&&u.left),y=l.top+(g&&u.top);let{width:v,height:w}=e;return i&&(v-=l.width+u.width,w-=l.height+u.height),{x:Math.round((h-x)/v*t.width/n),y:Math.round((f-y)/w*t.height/n)}}function N8(r,e,t){let n,a;if(e===void 0||t===void 0){const i=r&&lp(r);if(!i)e=r.clientWidth,t=r.clientHeight;else{const l=i.getBoundingClientRect(),u=Rf(i),h=zi(u,"border","width"),f=zi(u,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,n=ef(u.maxWidth,i,"clientWidth"),a=ef(u.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:n||Qh,maxHeight:a||Qh}}const Ws=r=>Math.round(r*10)/10;function E8(r,e,t,n){const a=Rf(r),i=zi(a,"margin"),l=ef(a.maxWidth,r,"clientWidth")||Qh,u=ef(a.maxHeight,r,"clientHeight")||Qh,h=N8(r,e,t);let{width:f,height:g}=h;if(a.boxSizing==="content-box"){const y=zi(a,"border","width"),v=zi(a,"padding");f-=v.width+y.width,g-=v.height+y.height}return f=Math.max(0,f-i.width),g=Math.max(0,n?f/n:g-i.height),f=Ws(Math.min(f,l,h.maxWidth)),g=Ws(Math.min(g,u,h.maxHeight)),f&&!g&&(g=Ws(f/2)),(e!==void 0||t!==void 0)&&n&&h.height&&g>h.height&&(g=h.height,f=Ws(Math.floor(g*n))),{width:f,height:g}}function rw(r,e,t){const n=e||1,a=Ws(r.height*n),i=Ws(r.width*n);r.height=Ws(r.height),r.width=Ws(r.width);const l=r.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${r.height}px`,l.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||l.height!==a||l.width!==i?(r.currentDevicePixelRatio=n,l.height=a,l.width=i,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}const k8=(function(){let r=!1;try{const e={get passive(){return r=!0,!1}};op()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r})();function nw(r,e){const t=b8(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Ri(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function T8(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:n==="middle"?t<.5?r.y:e.y:n==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function j8(r,e,t,n){const a={x:r.cp2x,y:r.cp2y},i={x:e.cp1x,y:e.cp1y},l=Ri(r,a,t),u=Ri(a,i,t),h=Ri(i,e,t),f=Ri(l,u,t),g=Ri(u,h,t);return Ri(f,g,t)}const A8=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},C8=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function ol(r,e,t){return r?A8(e,t):C8()}function Z4(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function eN(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function tN(r){return r==="angle"?{between:du,compare:AD,normalize:ua}:{between:Vs,compare:(e,t)=>e-t,normalize:e=>e}}function aw({start:r,end:e,count:t,loop:n,style:a}){return{start:r%t,end:e%t,loop:n&&(e-r+1)%t===0,style:a}}function O8(r,e,t){const{property:n,start:a,end:i}=t,{between:l,normalize:u}=tN(n),h=e.length;let{start:f,end:g,loop:x}=r,y,v;if(x){for(f+=h,g+=h,y=0,v=h;y<v&&l(u(e[f%h][n]),a,i);++y)f--,g--;f%=h,g%=h}return g<f&&(g+=h),{start:f,end:g,loop:x,style:r.style}}function R8(r,e,t){if(!t)return[r];const{property:n,start:a,end:i}=t,l=e.length,{compare:u,between:h,normalize:f}=tN(n),{start:g,end:x,loop:y,style:v}=O8(r,e,t),w=[];let _=!1,S=null,E,N,T;const M=()=>h(a,T,E)&&u(a,T)!==0,C=()=>u(i,E)===0||h(i,T,E),V=()=>_||M(),D=()=>!_||C();for(let Y=g,O=g;Y<=x;++Y)N=e[Y%l],!N.skip&&(E=f(N[n]),E!==T&&(_=h(E,a,i),S===null&&V()&&(S=u(E,a)===0?Y:O),S!==null&&D()&&(w.push(aw({start:S,end:Y,loop:y,count:l,style:v})),S=null),O=Y,T=E));return S!==null&&w.push(aw({start:S,end:x,loop:y,count:l,style:v})),w}function D8(r,e){const t=[],n=r.segments;for(let a=0;a<n.length;a++){const i=R8(n[a],r.points,e);i.length&&t.push(...i)}return t}function M8(r,e,t,n){let a=0,i=e-1;if(t&&!n)for(;a<e&&!r[a].skip;)a++;for(;a<e&&r[a].skip;)a++;for(a%=e,t&&(i+=a);i>a&&r[i%e].skip;)i--;return i%=e,{start:a,end:i}}function F8(r,e,t,n){const a=r.length,i=[];let l=e,u=r[e],h;for(h=e+1;h<=t;++h){const f=r[h%a];f.skip||f.stop?u.skip||(n=!1,i.push({start:e%a,end:(h-1)%a,loop:n}),e=l=f.stop?h:null):(l=h,u.skip&&(e=h)),u=f}return l!==null&&i.push({start:e%a,end:l%a,loop:n}),i}function L8(r,e){const t=r.points,n=r.options.spanGaps,a=t.length;if(!a)return[];const i=!!r._loop,{start:l,end:u}=M8(t,a,i,n);if(n===!0)return sw(r,[{start:l,end:u,loop:i}],t,e);const h=u<l?u+a:u,f=!!r._fullLoop&&l===0&&u===a-1;return sw(r,F8(t,l,h,f),t,e)}function sw(r,e,t,n){return!n||!n.setContext||!t?e:P8(r,e,t,n)}function P8(r,e,t,n){const a=r._chart.getContext(),i=iw(r.options),{_datasetIndex:l,options:{spanGaps:u}}=r,h=t.length,f=[];let g=i,x=e[0].start,y=x;function v(w,_,S,E){const N=u?-1:1;if(w!==_){for(w+=h;t[w%h].skip;)w-=N;for(;t[_%h].skip;)_+=N;w%h!==_%h&&(f.push({start:w%h,end:_%h,loop:S,style:E}),g=E,x=_%h)}}for(const w of e){x=u?x:w.start;let _=t[x%h],S;for(y=x+1;y<=w.end;y++){const E=t[y%h];S=iw(n.setContext(Qi(a,{type:"segment",p0:_,p1:E,p0DataIndex:(y-1)%h,p1DataIndex:y%h,datasetIndex:l}))),I8(S,g)&&v(x,y-1,w.loop,g),_=E,g=S}x<y-1&&v(x,y-1,w.loop,g)}return f}function iw(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function I8(r,e){if(!e)return!1;const t=[],n=function(a,i){return Zx(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(r,n)!==JSON.stringify(e,n)}function ph(r,e,t){return r.options.clip?r[t]:e[t]}function B8(r,e){const{xScale:t,yScale:n}=r;return t&&n?{left:ph(t,e,"left"),right:ph(t,e,"right"),top:ph(n,e,"top"),bottom:ph(n,e,"bottom")}:e}function U8(r,e){const t=e._clip;if(t.disabled)return!1;const n=B8(e,r.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?r.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?r.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class z8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,a){const i=t.listeners[a],l=t.duration;i.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(n-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=$4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let l=i.length-1,u=!1,h;for(;l>=0;--l)h=i[l],h._active?(h._total>n.duration&&(n.duration=h._total),h.tick(e),u=!0):(i[l]=i[i.length-1],i.pop());u&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Za=new z8;const ow="transparent",H8={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const n=X_(r||ow),a=n.valid&&X_(e||ow);return a&&a.valid?a.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class $8{constructor(e,t,n,a){const i=t[n];a=gh([e.to,a,i,e.from]);const l=gh([e.from,i,a]);this._active=!0,this._fn=e.fn||H8[e.type||typeof l],this._easing=Yc[e.easing]||Yc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,l=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=gh([e.to,t,a,e.from]),this._from=gh([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,a=this._prop,i=this._from,l=this._loop,u=this._to;let h;if(this._active=i!==u&&(l||t<n),!this._active){this._target[a]=u,this._notify(!0);return}if(t<0){this._target[a]=i;return}h=t/n%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[a]=this._fn(i,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][t]()}}class rN{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!_t(e))return;const t=Object.keys(mr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!_t(i))return;const l={};for(const u of t)l[u]=i[u];(jr(i.properties)&&i.properties||[a]).forEach(u=>{(u===a||!n.has(u))&&n.set(u,l)})})}_animateOptions(e,t){const n=t.options,a=W8(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&V8(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,t){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){a.push(...this._animateOptions(e,t));continue}const g=t[f];let x=i[f];const y=n.get(f);if(x)if(y&&x.active()){x.update(y,g,u);continue}else x.cancel();if(!y||!y.duration){e[f]=g;continue}i[f]=x=new $8(y,e,f,g),a.push(x)}return a}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return Za.add(this._chart,n),!0}}function V8(r,e){const t=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const i=r[n[a]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function W8(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function lw(r,e){const t=r&&r.options||{},n=t.reverse,a=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:n?i:a,end:n?a:i}}function q8(r,e,t){if(t===!1)return!1;const n=lw(r,t),a=lw(e,t);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function G8(r){let e,t,n,a;return _t(r)?(e=r.top,t=r.right,n=r.bottom,a=r.left):e=t=n=a=r,{top:e,right:t,bottom:n,left:a,disabled:r===!1}}function nN(r,e){const t=[],n=r._getSortedDatasetMetas(e);let a,i;for(a=0,i=n.length;a<i;++a)t.push(n[a].index);return t}function cw(r,e,t,n={}){const a=r.keys,i=n.mode==="single";let l,u,h,f;if(e===null)return;let g=!1;for(l=0,u=a.length;l<u;++l){if(h=+a[l],h===t){if(g=!0,n.all)continue;break}f=r.values[h],Zn(f)&&(i||e===0||Ca(e)===Ca(f))&&(e+=f)}return!g&&!n.all?0:e}function Y8(r,e){const{iScale:t,vScale:n}=e,a=t.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",l=Object.keys(r),u=new Array(l.length);let h,f,g;for(h=0,f=l.length;h<f;++h)g=l[h],u[h]={[a]:g,[i]:r[g]};return u}function Sg(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function K8(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function X8(r){const{min:e,max:t,minDefined:n,maxDefined:a}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?t:Number.POSITIVE_INFINITY}}function J8(r,e,t){const n=r[e]||(r[e]={});return n[t]||(n[t]={})}function uw(r,e,t,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const i=r[a.index];if(t&&i>0||!t&&i<0)return a.index}return null}function dw(r,e){const{chart:t,_cachedMeta:n}=r,a=t._stacks||(t._stacks={}),{iScale:i,vScale:l,index:u}=n,h=i.axis,f=l.axis,g=K8(i,l,n),x=e.length;let y;for(let v=0;v<x;++v){const w=e[v],{[h]:_,[f]:S}=w,E=w._stacks||(w._stacks={});y=E[f]=J8(a,g,_),y[u]=S,y._top=uw(y,l,!0,n.type),y._bottom=uw(y,l,!1,n.type);const N=y._visualValues||(y._visualValues={});N[u]=S}}function Ng(r,e){const t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function Q8(r,e){return Qi(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Z8(r,e,t){return Qi(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function jc(r,e){const t=r.controller.index,n=r.vScale&&r.vScale.axis;if(n){e=e||r._parsed;for(const a of e){const i=a._stacks;if(!i||i[n]===void 0||i[n][t]===void 0)return;delete i[n][t],i[n]._visualValues!==void 0&&i[n]._visualValues[t]!==void 0&&delete i[n]._visualValues[t]}}}const Eg=r=>r==="reset"||r==="none",hw=(r,e)=>e?r:Object.assign({},r),eM=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:nN(t,!0),values:null};class Df{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Sg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&jc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),a=(x,y,v,w)=>x==="x"?y:x==="r"?w:v,i=t.xAxisID=ct(n.xAxisID,Ng(e,"x")),l=t.yAxisID=ct(n.yAxisID,Ng(e,"y")),u=t.rAxisID=ct(n.rAxisID,Ng(e,"r")),h=t.indexAxis,f=t.iAxisID=a(h,i,l,u),g=t.vAxisID=a(h,l,i,u);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&G_(this._data,this),e._stacked&&jc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(_t(t)){const a=this._cachedMeta;this._data=Y8(t,a)}else if(n!==t){if(n){G_(n,this);const a=this._cachedMeta;jc(a),a._parsed=[]}t&&Object.isExtensible(t)&&DD(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=t._stacked;t._stacked=Sg(t.vScale,t),t.stack!==n.stack&&(a=!0,jc(t),t.stack=n.stack),this._resyncElements(e),(a||i!==t._stacked)&&(dw(this,t._parsed),t._stacked=Sg(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:l}=n,u=i.axis;let h=e===0&&t===a.length?!0:n._sorted,f=e>0&&n._parsed[e-1],g,x,y;if(this._parsing===!1)n._parsed=a,n._sorted=!0,y=a;else{jr(a[e])?y=this.parseArrayData(n,a,e,t):_t(a[e])?y=this.parseObjectData(n,a,e,t):y=this.parsePrimitiveData(n,a,e,t);const v=()=>x[u]===null||f&&x[u]<f[u];for(g=0;g<t;++g)n._parsed[g+e]=x=y[g],h&&(v()&&(h=!1),f=x);n._sorted=h}l&&dw(this,y)}parsePrimitiveData(e,t,n,a){const{iScale:i,vScale:l}=e,u=i.axis,h=l.axis,f=i.getLabels(),g=i===l,x=new Array(a);let y,v,w;for(y=0,v=a;y<v;++y)w=y+n,x[y]={[u]:g||i.parse(f[w],w),[h]:l.parse(t[w],w)};return x}parseArrayData(e,t,n,a){const{xScale:i,yScale:l}=e,u=new Array(a);let h,f,g,x;for(h=0,f=a;h<f;++h)g=h+n,x=t[g],u[h]={x:i.parse(x[0],g),y:l.parse(x[1],g)};return u}parseObjectData(e,t,n,a){const{xScale:i,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(a);let g,x,y,v;for(g=0,x=a;g<x;++g)y=g+n,v=t[y],f[g]={x:i.parse(qi(v,u),y),y:l.parse(qi(v,h),y)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const a=this.chart,i=this._cachedMeta,l=t[e.axis],u={keys:nN(a,!0),values:t._stacks[e.axis]._visualValues};return cw(u,l,i.index,{mode:n})}updateRangeFromParsed(e,t,n,a){const i=n[t.axis];let l=i===null?NaN:i;const u=a&&n._stacks[t.axis];a&&u&&(a.values=u,l=cw(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,l=a.length,u=this._getOtherScale(e),h=eM(t,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:x}=X8(u);let y,v;function w(){v=a[y];const _=v[u.axis];return!Zn(v[e.axis])||g>_||x<_}for(y=0;y<l&&!(!w()&&(this.updateRangeFromParsed(f,e,v,h),i));++y);if(i){for(y=l-1;y>=0;--y)if(!w()){this.updateRangeFromParsed(f,e,v,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let a,i,l;for(a=0,i=t.length;a<i;++a)l=t[a][e.axis],Zn(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,a=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=G8(ct(this.options.clip,q8(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,a=n.data||[],i=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||a.length-u,f=this.options.drawActiveElementsOnTop;let g;for(n.dataset&&n.dataset.draw(e,i,u,h),g=u;g<u+h;++g){const x=a[g];x.hidden||(x.active&&f?l.push(x):x.draw(e,i))}for(g=0;g<l.length;++g)l[g].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];i=l.$context||(l.$context=Z8(this.getContext(),e,l)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Q8(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const a=t==="active",i=this._cachedDataOpts,l=e+"-"+t,u=i[l],h=this.enableOptionSharing&&cu(n);if(u)return hw(u,h);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,e),x=a?[`${e}Hover`,"hover",e,""]:[e,""],y=f.getOptionScopes(this.getDataset(),g),v=Object.keys(mr.elements[e]),w=()=>this.getContext(n,a,t),_=f.resolveNamedOptions(y,v,w,x);return _.$shared&&(_.$shared=h,i[l]=Object.freeze(hw(_,h))),_}_resolveAnimations(e,t,n){const a=this.chart,i=this._cachedDataOpts,l=`animation-${t}`,u=i[l];if(u)return u;let h;if(a.options.animation!==!1){const g=this.chart.config,x=g.datasetAnimationScopeKeys(this._type,t),y=g.getOptionScopes(this.getDataset(),x);h=g.createResolver(y,this.getContext(e,n,t))}const f=new rN(a,h&&h.animations);return h&&h._cacheable&&(i[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Eg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),a=this._sharedOptions,i=this.getSharedOptions(n),l=this.includeOptions(t,i)||i!==a;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:l}}updateElement(e,t,n,a){Eg(a)?Object.assign(e,n):this._resolveAnimations(t,a).update(e,n)}updateSharedOptions(e,t,n){e&&!Eg(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,a){e.active=a;const i=this.getStyle(t,a);this._resolveAnimations(t,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const a=n.length,i=t.length,l=Math.min(i,a);l&&this.parse(0,l),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,t,n=!0){const a=this._cachedMeta,i=a.data,l=e+t;let u;const h=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(h(i),u=e;u<l;++u)i[u]=new this.dataElementType;this._parsing&&h(a._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,a){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,t);n._stacked&&jc(n,a)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,a]=e;this[t](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function tM(r,e){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(e);let n=[];for(let a=0,i=t.length;a<i;a++)n=n.concat(t[a].controller.getAllParsedValues(r));r._cache.$bar=H4(n.sort((a,i)=>a-i))}return r._cache.$bar}function rM(r){const e=r.iScale,t=tM(e,r.type);let n=e._length,a,i,l,u;const h=()=>{l===32767||l===-32768||(cu(u)&&(n=Math.min(n,Math.abs(l-u)||n)),u=l)};for(a=0,i=t.length;a<i;++a)l=e.getPixelForValue(t[a]),h();for(u=void 0,a=0,i=e.ticks.length;a<i;++a)l=e.getPixelForTick(a),h();return n}function nM(r,e,t,n){const a=t.barThickness;let i,l;return Tt(a)?(i=e.min*t.categoryPercentage,l=t.barPercentage):(i=a*n,l=1),{chunk:i/n,ratio:l,start:e.pixels[r]-i/2}}function aM(r,e,t,n){const a=e.pixels,i=a[r];let l=r>0?a[r-1]:null,u=r<a.length-1?a[r+1]:null;const h=t.categoryPercentage;l===null&&(l=i-(u===null?e.end-e.start:u-i)),u===null&&(u=i+i-l);const f=i-(i-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/n,ratio:t.barPercentage,start:f}}function sM(r,e,t,n){const a=t.parse(r[0],n),i=t.parse(r[1],n),l=Math.min(a,i),u=Math.max(a,i);let h=l,f=u;Math.abs(l)>Math.abs(u)&&(h=u,f=l),e[t.axis]=f,e._custom={barStart:h,barEnd:f,start:a,end:i,min:l,max:u}}function aN(r,e,t,n){return jr(r)?sM(r,e,t,n):e[t.axis]=t.parse(r,n),e}function fw(r,e,t,n){const a=r.iScale,i=r.vScale,l=a.getLabels(),u=a===i,h=[];let f,g,x,y;for(f=t,g=t+n;f<g;++f)y=e[f],x={},x[a.axis]=u||a.parse(l[f],f),h.push(aN(y,x,i,f));return h}function kg(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function iM(r,e,t){return r!==0?Ca(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function oM(r){let e,t,n,a,i;return r.horizontal?(e=r.base>r.x,t="left",n="right"):(e=r.base<r.y,t="bottom",n="top"),e?(a="end",i="start"):(a="start",i="end"),{start:t,end:n,reverse:e,top:a,bottom:i}}function lM(r,e,t,n){let a=e.borderSkipped;const i={};if(!a){r.borderSkipped=i;return}if(a===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:f,bottom:g}=oM(r);a==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===n?a=f:(t._bottom||0)===n?a=g:(i[mw(g,l,u,h)]=!0,a=f)),i[mw(a,l,u,h)]=!0,r.borderSkipped=i}function mw(r,e,t,n){return n?(r=cM(r,e,t),r=gw(r,t,e)):r=gw(r,e,t),r}function cM(r,e,t){return r===e?t:r===t?e:r}function gw(r,e,t){return r==="start"?e:r==="end"?t:r}function uM(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}class dM extends Df{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,a){return fw(e,t,n,a)}parseArrayData(e,t,n,a){return fw(e,t,n,a)}parseObjectData(e,t,n,a){const{iScale:i,vScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=i.axis==="x"?u:h,g=l.axis==="x"?u:h,x=[];let y,v,w,_;for(y=n,v=n+a;y<v;++y)_=t[y],w={},w[i.axis]=i.parse(qi(_,f),y),x.push(aN(qi(_,g),w,l,y));return x}updateRangeFromParsed(e,t,n,a){super.updateRangeFromParsed(e,t,n,a);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:a}=t,i=this.getParsed(e),l=i._custom,u=kg(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,a){const i=a==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),f=u.isHorizontal(),g=this._getRuler(),{sharedOptions:x,includeOptions:y}=this._getSharedOptions(t,a);for(let v=t;v<t+n;v++){const w=this.getParsed(v),_=i||Tt(w[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(v),S=this._calculateBarIndexPixels(v,g),E=(w._stacks||{})[u.axis],N={horizontal:f,base:_.base,enableBorderRadius:!E||kg(w._custom)||l===E._top||l===E._bottom,x:f?_.head:S.center,y:f?S.center:_.head,height:f?S.size:Math.abs(_.size),width:f?Math.abs(_.size):S.size};y&&(N.options=x||this.resolveDataElementOptions(v,e[v].active?"active":a));const T=N.options||e[v].options;lM(N,T,E,l),uM(N,T,g.ratio),this.updateElement(e[v],v,N,a)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),i=n.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(t),h=u&&u[n.axis],f=g=>{const x=g._parsed.find(v=>v[n.axis]===h),y=x&&x[g.vScale.axis];if(Tt(y)||isNaN(y))return!0};for(const g of a)if(!(t!==void 0&&f(g))&&((i===!1||l.indexOf(g.stack)===-1||i===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[ct(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const a=this._getStacks(e,n),i=t!==void 0?a.indexOf(t):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,a=[];let i,l;for(i=0,l=t.data.length;i<l;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const u=e.barThickness;return{min:u||rM(t),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:a},options:{base:i,minBarLength:l}}=this,u=i||0,h=this.getParsed(e),f=h._custom,g=kg(f);let x=h[t.axis],y=0,v=n?this.applyStack(t,h,n):x,w,_;v!==x&&(y=v-x,v=x),g&&(x=f.barStart,v=f.barEnd-f.barStart,x!==0&&Ca(x)!==Ca(f.barEnd)&&(y=0),y+=x);const S=!Tt(i)&&!g?i:y;let E=t.getPixelForValue(S);if(this.chart.getDataVisibility(e)?w=t.getPixelForValue(y+v):w=E,_=w-E,Math.abs(_)<l){_=iM(_,t,u)*l,x===u&&(E-=_/2);const N=t.getPixelForDecimal(0),T=t.getPixelForDecimal(1),M=Math.min(N,T),C=Math.max(N,T);E=Math.max(Math.min(E,C),M),w=E+_,n&&!g&&(h._stacks[t.axis]._visualValues[a]=t.getValueForPixel(w)-t.getValueForPixel(E))}if(E===t.getPixelForValue(u)){const N=Ca(_)*t.getLineWidthForValue(u)/2;E+=N,_-=N}return{size:_,base:E,head:w,center:w+_/2}}_calculateBarIndexPixels(e,t){const n=t.scale,a=this.options,i=a.skipNull,l=ct(a.maxBarThickness,1/0);let u,h;const f=this._getAxisCount();if(t.grouped){const g=i?this._getStackCount(e):t.stackCount,x=a.barThickness==="flex"?aM(e,t,a,g*f):nM(e,t,a,g*f),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(ct(y,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+v;u=x.start+x.chunk*w+x.chunk/2,h=Math.min(l,x.chunk*x.ratio)}else u=n.getPixelForValue(this.getParsed(e)[n.axis],e),h=Math.min(l,t.min*t.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[t.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}function hM(r,e,t){let n=1,a=1,i=0,l=0;if(e<cr){const u=r,h=u+e,f=Math.cos(u),g=Math.sin(u),x=Math.cos(h),y=Math.sin(h),v=(T,M,C)=>du(T,u,h,!0)?1:Math.max(M,M*t,C,C*t),w=(T,M,C)=>du(T,u,h,!0)?-1:Math.min(M,M*t,C,C*t),_=v(0,f,x),S=v(Ar,g,y),E=w(Mt,f,x),N=w(Mt+Ar,g,y);n=(_-E)/2,a=(S-N)/2,i=-(_+E)/2,l=-(S+N)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:l}}class fM extends Df{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:a,color:i,useBorderRadius:l,borderRadius:u}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((h,f)=>{const x=e.getDatasetMeta(0).controller.getStyle(f);return{text:h,fillStyle:x.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(f),lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:x.borderWidth,strokeStyle:x.borderColor,textAlign:a,pointStyle:n,borderRadius:l&&(u||x.borderRadius),index:f}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=h=>+n[h];if(_t(n[e])){const{key:h="value"}=this._parsing;i=f=>+qi(n[f],h)}let l,u;for(l=e,u=e+t;l<u;++l)a._parsed[l]=i(l)}}_getRotation(){return ns(this.options.rotation-90)}_getCircumference(){return ns(this.options.circumference)}_getRotationExtents(){let e=cr,t=-cr;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),l=a._getCircumference();e=Math.min(e,i),t=Math.max(t,i+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,a=this._cachedMeta,i=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,u=Math.max((Math.min(n.width,n.height)-l)/2,0),h=Math.min(xD(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:g,rotation:x}=this._getRotationExtents(),{ratioX:y,ratioY:v,offsetX:w,offsetY:_}=hM(x,g,h),S=(n.width-l)/y,E=(n.height-l)/v,N=Math.max(Math.min(S,E)/2,0),T=P4(this.options.radius,N),M=Math.max(T*h,0),C=(T-M)/this._getVisibleDatasetWeightTotal();this.offsetX=w*T,this.offsetY=_*T,a.total=this.calculateTotal(),this.outerRadius=T-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*f,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/cr)}updateElements(e,t,n,a){const i=a==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,g=(u.left+u.right)/2,x=(u.top+u.bottom)/2,y=i&&f.animateScale,v=y?0:this.innerRadius,w=y?0:this.outerRadius,{sharedOptions:_,includeOptions:S}=this._getSharedOptions(t,a);let E=this._getRotation(),N;for(N=0;N<t;++N)E+=this._circumference(N,i);for(N=t;N<t+n;++N){const T=this._circumference(N,i),M=e[N],C={x:g+this.offsetX,y:x+this.offsetY,startAngle:E,endAngle:E+T,circumference:T,outerRadius:w,innerRadius:v};S&&(C.options=_||this.resolveDataElementOptions(N,M.active?"active":a)),E+=T,this.updateElement(M,N,C,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,a;for(a=0;a<t.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!t[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?cr*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=ep(t._parsed[e],n.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let a,i,l,u,h;if(!e){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){l=n.getDatasetMeta(a),e=l.data,u=l.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)h=u.resolveDataElementOptions(a),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,a=e.length;n<a;++n){const i=this.resolveDataElementOptions(n);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(ct(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class mM extends Df{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=t,l=this.chart._animationsDisabled;let{start:u,count:h}=LD(t,a,l);this._drawStart=u,this._drawCount=h,PD(t)&&(u=0,h=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:f},e),this.updateElements(a,u,h,e)}updateElements(e,t,n,a){const i=a==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(t,a),y=l.axis,v=u.axis,{spanGaps:w,segment:_}=this.options,S=uu(w)?w:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||i||a==="none",N=t+n,T=e.length;let M=t>0&&this.getParsed(t-1);for(let C=0;C<T;++C){const V=e[C],D=E?V:{};if(C<t||C>=N){D.skip=!0;continue}const Y=this.getParsed(C),O=Tt(Y[v]),Q=D[y]=l.getPixelForValue(Y[y],C),W=D[v]=i||O?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,Y,h):Y[v],C);D.skip=isNaN(Q)||isNaN(W)||O,D.stop=C>0&&Math.abs(Y[y]-M[y])>S,_&&(D.parsed=Y,D.raw=f.data[C]),x&&(D.options=g||this.resolveDataElementOptions(C,V.active?"active":a)),E||this.updateElement(V,C,D,a),M=Y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Ai(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class cp{static override(e){Object.assign(cp.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ai()}parse(){return Ai()}format(){return Ai()}add(){return Ai()}diff(){return Ai()}startOf(){return Ai()}endOf(){return Ai()}}var gM={_date:cp};function xM(r,e,t,n){const{controller:a,data:i,_sorted:l}=r,u=a._cachedMeta.iScale,h=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&i.length){const f=u._reversePixels?OD:Bi;if(n){if(a._sharedOptions){const g=i[0],x=typeof g.getRange=="function"&&g.getRange(e);if(x){const y=f(i,e,t-x),v=f(i,e,t+x);return{lo:y.lo,hi:v.hi}}}}else{const g=f(i,e,t);if(h){const{vScale:x}=a._cachedMeta,{_parsed:y}=r,v=y.slice(0,g.lo+1).reverse().findIndex(_=>!Tt(_[x.axis]));g.lo-=Math.max(0,v);const w=y.slice(g.hi).findIndex(_=>!Tt(_[x.axis]));g.hi+=Math.max(0,w)}return g}}return{lo:0,hi:i.length-1}}function Mf(r,e,t,n,a){const i=r.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=i.length;u<h;++u){const{index:f,data:g}=i[u],{lo:x,hi:y}=xM(i[u],e,l,a);for(let v=x;v<=y;++v){const w=g[v];w.skip||n(w,f,v)}}}function pM(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,a){const i=e?Math.abs(n.x-a.x):0,l=t?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function Tg(r,e,t,n,a){const i=[];return!a&&!r.isPointInArea(e)||Mf(r,t,e,function(u,h,f){!a&&!hu(u,r.chartArea,0)||u.inRange(e.x,e.y,n)&&i.push({element:u,datasetIndex:h,index:f})},!0),i}function yM(r,e,t,n){let a=[];function i(l,u,h){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],n),{angle:x}=U4(l,{x:e.x,y:e.y});du(x,f,g)&&a.push({element:l,datasetIndex:u,index:h})}return Mf(r,t,e,i),a}function vM(r,e,t,n,a,i){let l=[];const u=pM(t);let h=Number.POSITIVE_INFINITY;function f(g,x,y){const v=g.inRange(e.x,e.y,a);if(n&&!v)return;const w=g.getCenterPoint(a);if(!(!!i||r.isPointInArea(w))&&!v)return;const S=u(e,w);S<h?(l=[{element:g,datasetIndex:x,index:y}],h=S):S===h&&l.push({element:g,datasetIndex:x,index:y})}return Mf(r,t,e,f),l}function jg(r,e,t,n,a,i){return!i&&!r.isPointInArea(e)?[]:t==="r"&&!n?yM(r,e,t,a):vM(r,e,t,n,a,i)}function xw(r,e,t,n,a){const i=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Mf(r,t,e,(h,f,g)=>{h[l]&&h[l](e[t],a)&&(i.push({element:h,datasetIndex:f,index:g}),u=u||h.inRange(e.x,e.y,a))}),n&&!u?[]:i}var bM={modes:{index(r,e,t,n){const a=Oi(e,r),i=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Tg(r,a,i,n,l):jg(r,a,i,!1,n,l),h=[];return u.length?(r.getSortedVisibleDatasetMetas().forEach(f=>{const g=u[0].index,x=f.data[g];x&&!x.skip&&h.push({element:x,datasetIndex:f.index,index:g})}),h):[]},dataset(r,e,t,n){const a=Oi(e,r),i=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Tg(r,a,i,n,l):jg(r,a,i,!1,n,l);if(u.length>0){const h=u[0].datasetIndex,f=r.getDatasetMeta(h).data;u=[];for(let g=0;g<f.length;++g)u.push({element:f[g],datasetIndex:h,index:g})}return u},point(r,e,t,n){const a=Oi(e,r),i=t.axis||"xy",l=t.includeInvisible||!1;return Tg(r,a,i,n,l)},nearest(r,e,t,n){const a=Oi(e,r),i=t.axis||"xy",l=t.includeInvisible||!1;return jg(r,a,i,t.intersect,n,l)},x(r,e,t,n){const a=Oi(e,r);return xw(r,a,"x",t.intersect,n)},y(r,e,t,n){const a=Oi(e,r);return xw(r,a,"y",t.intersect,n)}}};const sN=["left","top","right","bottom"];function Ac(r,e){return r.filter(t=>t.pos===e)}function pw(r,e){return r.filter(t=>sN.indexOf(t.pos)===-1&&t.box.axis===e)}function Cc(r,e){return r.sort((t,n)=>{const a=e?n:t,i=e?t:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function _M(r){const e=[];let t,n,a,i,l,u;for(t=0,n=(r||[]).length;t<n;++t)a=r[t],{position:i,options:{stack:l,stackWeight:u=1}}=a,e.push({index:t,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&i+l,stackWeight:u});return e}function wM(r){const e={};for(const t of r){const{stack:n,pos:a,stackWeight:i}=t;if(!n||!sN.includes(a))continue;const l=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return e}function SM(r,e){const t=wM(r),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let i,l,u;for(i=0,l=r.length;i<l;++i){u=r[i];const{fullSize:h}=u.box,f=t[u.stack],g=f&&u.stackWeight/f.weight;u.horizontal?(u.width=g?g*n:h&&e.availableWidth,u.height=a):(u.width=n,u.height=g?g*a:h&&e.availableHeight)}return t}function NM(r){const e=_M(r),t=Cc(e.filter(f=>f.box.fullSize),!0),n=Cc(Ac(e,"left"),!0),a=Cc(Ac(e,"right")),i=Cc(Ac(e,"top"),!0),l=Cc(Ac(e,"bottom")),u=pw(e,"x"),h=pw(e,"y");return{fullSize:t,leftAndTop:n.concat(i),rightAndBottom:a.concat(h).concat(l).concat(u),chartArea:Ac(e,"chartArea"),vertical:n.concat(a).concat(h),horizontal:i.concat(l).concat(u)}}function yw(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function iN(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function EM(r,e,t,n){const{pos:a,box:i}=t,l=r.maxPadding;if(!_t(a)){t.size&&(r[a]-=t.size);const x=n[t.stack]||{size:0,count:1};x.size=Math.max(x.size,t.horizontal?i.height:i.width),t.size=x.size/x.count,r[a]+=t.size}i.getPadding&&iN(l,i.getPadding());const u=Math.max(0,e.outerWidth-yw(l,r,"left","right")),h=Math.max(0,e.outerHeight-yw(l,r,"top","bottom")),f=u!==r.w,g=h!==r.h;return r.w=u,r.h=h,t.horizontal?{same:f,other:g}:{same:g,other:f}}function kM(r){const e=r.maxPadding;function t(n){const a=Math.max(e[n]-r[n],0);return r[n]+=a,a}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function TM(r,e){const t=e.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{i[l]=Math.max(e[l],t[l])}),i}return n(r?["left","right"]:["top","bottom"])}function Ic(r,e,t,n){const a=[];let i,l,u,h,f,g;for(i=0,l=r.length,f=0;i<l;++i){u=r[i],h=u.box,h.update(u.width||e.w,u.height||e.h,TM(u.horizontal,e));const{same:x,other:y}=EM(e,t,u,n);f|=x&&a.length,g=g||y,h.fullSize||a.push(u)}return f&&Ic(a,e,t,n)||g}function yh(r,e,t,n,a){r.top=t,r.left=e,r.right=e+n,r.bottom=t+a,r.width=n,r.height=a}function vw(r,e,t,n){const a=t.padding;let{x:i,y:l}=e;for(const u of r){const h=u.box,f=n[u.stack]||{placed:0,weight:1},g=u.stackWeight/f.weight||1;if(u.horizontal){const x=e.w*g,y=f.size||h.height;cu(f.start)&&(l=f.start),h.fullSize?yh(h,a.left,l,t.outerWidth-a.right-a.left,y):yh(h,e.left+f.placed,l,x,y),f.start=l,f.placed+=x,l=h.bottom}else{const x=e.h*g,y=f.size||h.width;cu(f.start)&&(i=f.start),h.fullSize?yh(h,i,a.top,y,t.outerHeight-a.bottom-a.top):yh(h,i,e.top+f.placed,y,x),f.start=i,f.placed+=x,i=h.right}}e.x=i,e.y=l}var Jn={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;const a=ea(r.options.layout.padding),i=Math.max(e-a.width,0),l=Math.max(t-a.height,0),u=NM(r.boxes),h=u.vertical,f=u.horizontal;Dt(r.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const g=h.reduce((_,S)=>S.box.options&&S.box.options.display===!1?_:_+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:t,padding:a,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/g,hBoxMaxHeight:l/2}),y=Object.assign({},a);iN(y,ea(n));const v=Object.assign({maxPadding:y,w:i,h:l,x:a.left,y:a.top},a),w=SM(h.concat(f),x);Ic(u.fullSize,v,x,w),Ic(h,v,x,w),Ic(f,v,x,w)&&Ic(h,v,x,w),kM(v),vw(u.leftAndTop,v,x,w),v.x+=v.w,v.y+=v.h,vw(u.rightAndBottom,v,x,w),r.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Dt(u.chartArea,_=>{const S=_.box;Object.assign(S,r.chartArea),S.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class oN{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,a){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):n)}}isAttached(e){return!0}updateConfig(e){}}class jM extends oN{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ph="$chartjs",AM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bw=r=>r===null||r==="";function CM(r,e){const t=r.style,n=r.getAttribute("height"),a=r.getAttribute("width");if(r[Ph]={initial:{height:n,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",bw(a)){const i=nw(r,"width");i!==void 0&&(r.width=i)}if(bw(n))if(r.style.height==="")r.height=r.width/(e||2);else{const i=nw(r,"height");i!==void 0&&(r.height=i)}return r}const lN=k8?{passive:!0}:!1;function OM(r,e,t){r&&r.addEventListener(e,t,lN)}function RM(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,lN)}function DM(r,e){const t=AM[r.type]||r.type,{x:n,y:a}=Oi(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:a!==void 0?a:null}}function tf(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function MM(r,e,t){const n=r.canvas,a=new MutationObserver(i=>{let l=!1;for(const u of i)l=l||tf(u.addedNodes,n),l=l&&!tf(u.removedNodes,n);l&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}function FM(r,e,t){const n=r.canvas,a=new MutationObserver(i=>{let l=!1;for(const u of i)l=l||tf(u.removedNodes,n),l=l&&!tf(u.addedNodes,n);l&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}const mu=new Map;let _w=0;function cN(){const r=window.devicePixelRatio;r!==_w&&(_w=r,mu.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function LM(r,e){mu.size||window.addEventListener("resize",cN),mu.set(r,e)}function PM(r){mu.delete(r),mu.size||window.removeEventListener("resize",cN)}function IM(r,e,t){const n=r.canvas,a=n&&lp(n);if(!a)return;const i=V4((u,h)=>{const f=a.clientWidth;t(u,h),f<a.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,g=h.contentRect.height;f===0&&g===0||i(f,g)});return l.observe(a),LM(r,i),l}function Ag(r,e,t){t&&t.disconnect(),e==="resize"&&PM(r)}function BM(r,e,t){const n=r.canvas,a=V4(i=>{r.ctx!==null&&t(DM(i,r))},r);return OM(n,e,a),a}class UM extends oN{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(CM(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Ph])return!1;const n=t[Ph].initial;["height","width"].forEach(i=>{const l=n[i];Tt(l)?t.removeAttribute(i):t.setAttribute(i,l)});const a=n.style||{};return Object.keys(a).forEach(i=>{t.style[i]=a[i]}),t.width=t.width,delete t[Ph],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),l={attach:MM,detach:FM,resize:IM}[t]||BM;a[t]=l(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),a=n[t];if(!a)return;({attach:Ag,detach:Ag,resize:Ag}[t]||RM)(e,t,a),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,a){return E8(e,t,n,a)}isAttached(e){const t=e&&lp(e);return!!(t&&t.isConnected)}}function zM(r){return!op()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?jM:UM}class fs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return uu(this.x)&&uu(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const a={};return e.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}}function HM(r,e){const t=r.options.ticks,n=$M(r),a=Math.min(t.maxTicksLimit||n,n),i=t.major.enabled?WM(e):[],l=i.length,u=i[0],h=i[l-1],f=[];if(l>a)return qM(e,f,i,l/a),f;const g=VM(i,e,a);if(l>0){let x,y;const v=l>1?Math.round((h-u)/(l-1)):null;for(vh(e,f,g,Tt(v)?0:u-v,u),x=0,y=l-1;x<y;x++)vh(e,f,g,i[x],i[x+1]);return vh(e,f,g,h,Tt(v)?e.length:h+v),f}return vh(e,f,g),f}function $M(r){const e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),a=r._maxLength/t;return Math.floor(Math.min(n,a))}function VM(r,e,t){const n=GM(r),a=e.length/t;if(!n)return Math.max(a,1);const i=ND(n);for(let l=0,u=i.length-1;l<u;l++){const h=i[l];if(h>a)return h}return Math.max(a,1)}function WM(r){const e=[];let t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function qM(r,e,t,n){let a=0,i=t[0],l;for(n=Math.ceil(n),l=0;l<r.length;l++)l===i&&(e.push(r[l]),a++,i=t[a*n])}function vh(r,e,t,n,a){const i=ct(n,0),l=Math.min(ct(a,r.length),r.length);let u=0,h,f,g;for(t=Math.ceil(t),a&&(h=a-n,t=h/Math.floor(h/t)),g=i;g<0;)u++,g=Math.round(i+u*t);for(f=Math.max(i,0);f<l;f++)f===g&&(e.push(r[f]),u++,g=Math.round(i+u*t))}function GM(r){const e=r.length;let t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}const YM=r=>r==="left"?"right":r==="right"?"left":r,ww=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,Sw=(r,e)=>Math.min(e||r,r);function Nw(r,e){const t=[],n=r.length/e,a=r.length;let i=0;for(;i<a;i+=n)t.push(r[Math.floor(i)]);return t}function KM(r,e,t){const n=r.ticks.length,a=Math.min(e,n-1),i=r._startPixel,l=r._endPixel,u=1e-6;let h=r.getPixelForTick(a),f;if(!(t&&(n===1?f=Math.max(h-i,l-h):e===0?f=(r.getPixelForTick(1)-h)/2:f=(h-r.getPixelForTick(a-1))/2,h+=a<e?f:-f,h<i-u||h>l+u)))return h}function XM(r,e){Dt(r,t=>{const n=t.gc,a=n.length/2;let i;if(a>e){for(i=0;i<a;++i)delete t.data[n[i]];n.splice(0,a)}})}function Oc(r){return r.drawTicks?r.tickLength:0}function Ew(r,e){if(!r.display)return 0;const t=Xr(r.font,e),n=ea(r.padding);return(jr(r.text)?r.text.length:1)*t.lineHeight+n.height}function JM(r,e){return Qi(r,{scale:e,type:"scale"})}function QM(r,e,t){return Qi(r,{tick:t,index:e,type:"tick"})}function ZM(r,e,t){let n=Qx(r);return(t&&e!=="right"||!t&&e==="right")&&(n=YM(n)),n}function eF(r,e,t,n){const{top:a,left:i,bottom:l,right:u,chart:h}=r,{chartArea:f,scales:g}=h;let x=0,y,v,w;const _=l-a,S=u-i;if(r.isHorizontal()){if(v=Gr(n,i,u),_t(t)){const E=Object.keys(t)[0],N=t[E];w=g[E].getPixelForValue(N)+_-e}else t==="center"?w=(f.bottom+f.top)/2+_-e:w=ww(r,t,e);y=u-i}else{if(_t(t)){const E=Object.keys(t)[0],N=t[E];v=g[E].getPixelForValue(N)-S+e}else t==="center"?v=(f.left+f.right)/2-S+e:v=ww(r,t,e);w=Gr(n,l,a),x=t==="left"?-Ar:Ar}return{titleX:v,titleY:w,maxWidth:y,rotation:x}}class Tl extends fs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:a}=this;return e=Na(e,Number.POSITIVE_INFINITY),t=Na(t,Number.NEGATIVE_INFINITY),n=Na(n,Number.POSITIVE_INFINITY),a=Na(a,Number.NEGATIVE_INFINITY),{min:Na(e,n),max:Na(t,a),minDefined:Zn(e),maxDefined:Zn(t)}}getMinMax(e){let{min:t,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),l;if(a&&i)return{min:t,max:n};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,e),a||(t=Math.min(t,l.min)),i||(n=Math.max(n,l.max));return t=i&&t>n?n:t,n=a&&t>n?t:n,{min:Na(t,Na(n,t)),max:Na(n,Na(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jt(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:a,grace:i,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=n8(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?Nw(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=HM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jt(this.options.afterUpdate,[this])}beforeSetDimensions(){Jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Jt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=Jt(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Sw(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,i=t.maxRotation;let l=a,u,h,f;if(!this._isVisible()||!t.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const g=this._getLabelSizes(),x=g.widest.width,y=g.highest.height,v=Kr(this.chart.width-x,0,this.maxWidth);u=e.offset?this.maxWidth/n:v/(n-1),x+6>u&&(u=v/(n-(e.offset?.5:1)),h=this.maxHeight-Oc(e.grid)-t.padding-Ew(e.title,this.chart.options.font),f=Math.sqrt(x*x+y*y),l=jD(Math.min(Math.asin(Kr((g.highest.height+6)/u,-1,1)),Math.asin(Kr(h/f,-1,1))-Math.asin(Kr(y/f,-1,1)))),l=Math.max(a,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:a,grid:i}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=Ew(a,t.options.font);if(u?(e.width=this.maxWidth,e.height=Oc(i)+h):(e.height=this.maxHeight,e.width=Oc(i)+h),n.display&&this.ticks.length){const{first:f,last:g,widest:x,highest:y}=this._getLabelSizes(),v=n.padding*2,w=ns(this.labelRotation),_=Math.cos(w),S=Math.sin(w);if(u){const E=n.mirror?0:S*x.width+_*y.height;e.height=Math.min(this.maxHeight,e.height+E+v)}else{const E=n.mirror?0:_*x.width+S*y.height;e.width=Math.min(this.maxWidth,e.width+E+v)}this._calculatePadding(f,g,S,_)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,a){const{ticks:{align:i,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;h?f?(y=a*e.width,v=n*t.height):(y=n*e.height,v=a*t.width):i==="start"?v=t.width:i==="end"?y=e.width:i!=="inner"&&(y=e.width/2,v=t.width/2),this.paddingLeft=Math.max((y-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((v-x+l)*this.width/(this.width-x),0)}else{let g=t.height/2,x=e.height/2;i==="start"?(g=0,x=e.height):i==="end"&&(g=t.height,x=0),this.paddingTop=g+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Tt(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Nw(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:a,_longestTextCache:i}=this,l=[],u=[],h=Math.floor(t/Sw(t,n));let f=0,g=0,x,y,v,w,_,S,E,N,T,M,C;for(x=0;x<t;x+=h){if(w=e[x].label,_=this._resolveTickFontOptions(x),a.font=S=_.string,E=i[S]=i[S]||{data:{},gc:[]},N=_.lineHeight,T=M=0,!Tt(w)&&!jr(w))T=Q_(a,E.data,E.gc,T,w),M=N;else if(jr(w))for(y=0,v=w.length;y<v;++y)C=w[y],!Tt(C)&&!jr(C)&&(T=Q_(a,E.data,E.gc,T,C),M+=N);l.push(T),u.push(M),f=Math.max(T,f),g=Math.max(M,g)}XM(i,t);const V=l.indexOf(f),D=u.indexOf(g),Y=O=>({width:l[O]||0,height:u[O]||0});return{first:Y(0),last:Y(t-1),widest:Y(V),highest:Y(D),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return CD(this._alignToPixels?ji(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=QM(this.getContext(),e,n))}return this.$context||(this.$context=JM(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ns(this.labelRotation),n=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),i=this._getLabelSizes(),l=e.autoSkipPadding||0,u=i?i.widest.width+l:0,h=i?i.highest.height+l:0;return this.isHorizontal()?h*n>u*a?u/n:h/a:h*a<u*n?h/n:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,a=this.options,{grid:i,position:l,border:u}=a,h=i.offset,f=this.isHorizontal(),x=this.ticks.length+(h?1:0),y=Oc(i),v=[],w=u.setContext(this.getContext()),_=w.display?w.width:0,S=_/2,E=function(te){return ji(n,te,_)};let N,T,M,C,V,D,Y,O,Q,W,Z,xe;if(l==="top")N=E(this.bottom),D=this.bottom-y,O=N-S,W=E(e.top)+S,xe=e.bottom;else if(l==="bottom")N=E(this.top),W=e.top,xe=E(e.bottom)-S,D=N+S,O=this.top+y;else if(l==="left")N=E(this.right),V=this.right-y,Y=N-S,Q=E(e.left)+S,Z=e.right;else if(l==="right")N=E(this.left),Q=e.left,Z=E(e.right)-S,V=N+S,Y=this.left+y;else if(t==="x"){if(l==="center")N=E((e.top+e.bottom)/2+.5);else if(_t(l)){const te=Object.keys(l)[0],ae=l[te];N=E(this.chart.scales[te].getPixelForValue(ae))}W=e.top,xe=e.bottom,D=N+S,O=D+y}else if(t==="y"){if(l==="center")N=E((e.left+e.right)/2);else if(_t(l)){const te=Object.keys(l)[0],ae=l[te];N=E(this.chart.scales[te].getPixelForValue(ae))}V=N-S,Y=V-y,Q=e.left,Z=e.right}const Fe=ct(a.ticks.maxTicksLimit,x),ke=Math.max(1,Math.ceil(x/Fe));for(T=0;T<x;T+=ke){const te=this.getContext(T),ae=i.setContext(te),Te=u.setContext(te),Oe=ae.lineWidth,We=ae.color,K=Te.dash||[],R=Te.dashOffset,q=ae.tickWidth,H=ae.tickColor,G=ae.tickBorderDash||[],se=ae.tickBorderDashOffset;M=KM(this,T,h),M!==void 0&&(C=ji(n,M,Oe),f?V=Y=Q=Z=C:D=O=W=xe=C,v.push({tx1:V,ty1:D,tx2:Y,ty2:O,x1:Q,y1:W,x2:Z,y2:xe,width:Oe,color:We,borderDash:K,borderDashOffset:R,tickWidth:q,tickColor:H,tickBorderDash:G,tickBorderDashOffset:se}))}return this._ticksLength=x,this._borderValue=N,v}_computeLabelItems(e){const t=this.axis,n=this.options,{position:a,ticks:i}=n,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:g,mirror:x}=i,y=Oc(n.grid),v=y+g,w=x?-g:v,_=-ns(this.labelRotation),S=[];let E,N,T,M,C,V,D,Y,O,Q,W,Z,xe="middle";if(a==="top")V=this.bottom-w,D=this._getXAxisLabelAlignment();else if(a==="bottom")V=this.top+w,D=this._getXAxisLabelAlignment();else if(a==="left"){const ke=this._getYAxisLabelAlignment(y);D=ke.textAlign,C=ke.x}else if(a==="right"){const ke=this._getYAxisLabelAlignment(y);D=ke.textAlign,C=ke.x}else if(t==="x"){if(a==="center")V=(e.top+e.bottom)/2+v;else if(_t(a)){const ke=Object.keys(a)[0],te=a[ke];V=this.chart.scales[ke].getPixelForValue(te)+v}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(a==="center")C=(e.left+e.right)/2-v;else if(_t(a)){const ke=Object.keys(a)[0],te=a[ke];C=this.chart.scales[ke].getPixelForValue(te)}D=this._getYAxisLabelAlignment(y).textAlign}t==="y"&&(h==="start"?xe="top":h==="end"&&(xe="bottom"));const Fe=this._getLabelSizes();for(E=0,N=u.length;E<N;++E){T=u[E],M=T.label;const ke=i.setContext(this.getContext(E));Y=this.getPixelForTick(E)+i.labelOffset,O=this._resolveTickFontOptions(E),Q=O.lineHeight,W=jr(M)?M.length:1;const te=W/2,ae=ke.color,Te=ke.textStrokeColor,Oe=ke.textStrokeWidth;let We=D;l?(C=Y,D==="inner"&&(E===N-1?We=this.options.reverse?"left":"right":E===0?We=this.options.reverse?"right":"left":We="center"),a==="top"?f==="near"||_!==0?Z=-W*Q+Q/2:f==="center"?Z=-Fe.highest.height/2-te*Q+Q:Z=-Fe.highest.height+Q/2:f==="near"||_!==0?Z=Q/2:f==="center"?Z=Fe.highest.height/2-te*Q:Z=Fe.highest.height-W*Q,x&&(Z*=-1),_!==0&&!ke.showLabelBackdrop&&(C+=Q/2*Math.sin(_))):(V=Y,Z=(1-W)*Q/2);let K;if(ke.showLabelBackdrop){const R=ea(ke.backdropPadding),q=Fe.heights[E],H=Fe.widths[E];let G=Z-R.top,se=0-R.left;switch(xe){case"middle":G-=q/2;break;case"bottom":G-=q;break}switch(D){case"center":se-=H/2;break;case"right":se-=H;break;case"inner":E===N-1?se-=H:E>0&&(se-=H/2);break}K={left:se,top:G,width:H+R.width,height:q+R.height,color:ke.backdropColor}}S.push({label:M,font:O,textOffset:Z,options:{rotation:_,color:ae,strokeColor:Te,strokeWidth:Oe,textAlign:We,textBaseline:xe,translation:[C,V],backdrop:K}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ns(this.labelRotation))return e==="top"?"left":"right";let a="center";return t.align==="start"?a="left":t.align==="end"?a="right":t.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,l=this._getLabelSizes(),u=e+i,h=l.widest.width;let f,g;return t==="left"?a?(g=this.right+i,n==="near"?f="left":n==="center"?(f="center",g+=h/2):(f="right",g+=h)):(g=this.right-u,n==="near"?f="right":n==="center"?(f="center",g-=h/2):(f="left",g=this.left)):t==="right"?a?(g=this.left+i,n==="near"?f="right":n==="center"?(f="center",g-=h/2):(f="left",g-=h)):(g=this.left+u,n==="near"?f="left":n==="center"?(f="center",g+=h/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:a,width:i,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,a,i,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?t.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,l;const u=(h,f,g)=>{!g.width||!g.color||(n.save(),n.lineWidth=g.width,n.strokeStyle=g.color,n.setLineDash(g.borderDash||[]),n.lineDashOffset=g.borderDashOffset,n.beginPath(),n.moveTo(h.x,h.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(t.display)for(i=0,l=a.length;i<l;++i){const h=a[i];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),l=n.display?i.width:0;if(!l)return;const u=a.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,g,x,y;this.isHorizontal()?(f=ji(e,this.left,l)-l/2,g=ji(e,this.right,u)+u/2,x=y=h):(x=ji(e,this.top,l)-l/2,y=ji(e,this.bottom,u)+u/2,f=g=h),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(f,x),t.lineTo(g,y),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&tp(n,a);const i=this.getLabelItems(e);for(const l of i){const u=l.options,h=l.font,f=l.label,g=l.textOffset;fu(n,f,0,g,h,u)}a&&rp(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:a}}=this;if(!n.display)return;const i=Xr(n.font),l=ea(n.padding),u=n.align;let h=i.lineHeight/2;t==="bottom"||t==="center"||_t(t)?(h+=l.bottom,jr(n.text)&&(h+=i.lineHeight*(n.text.length-1))):h+=l.top;const{titleX:f,titleY:g,maxWidth:x,rotation:y}=eF(this,h,t,u);fu(e,n.text,0,0,i,{color:n.color,maxWidth:x,rotation:y,textAlign:ZM(u,t,a),textBaseline:"middle",translation:[f,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=ct(e.grid&&e.grid.z,-1),a=ct(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Tl.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,l;for(i=0,l=t.length;i<l;++i){const u=t[i];u[n]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Xr(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class bh{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;nF(t)&&(n=this.register(t));const a=this.items,i=e.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,tF(e,l,n),this.override&&mr.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,a=this.scope;n in t&&delete t[n],a&&n in mr[a]&&(delete mr[a][n],this.override&&delete Gi[n])}}function tF(r,e,t){const n=lu(Object.create(null),[t?mr.get(t):{},mr.get(e),r.defaults]);mr.set(e,n),r.defaultRoutes&&rF(e,r.defaultRoutes),r.descriptors&&mr.describe(e,r.descriptors)}function rF(r,e){Object.keys(e).forEach(t=>{const n=t.split("."),a=n.pop(),i=[r].concat(n).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");mr.route(i,a,h,u)})}function nF(r){return"id"in r&&"defaults"in r}class aF{constructor(){this.controllers=new bh(Df,"datasets",!0),this.elements=new bh(fs,"elements"),this.plugins=new bh(Object,"plugins"),this.scales=new bh(Tl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):Dt(a,l=>{const u=n||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,n){const a=Xx(e);Jt(n["before"+a],[],n),t[e](n),Jt(n["after"+a],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const a=t.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var ja=new aF;class sF{constructor(){this._init=void 0}notify(e,t,n,a){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=a?this._descriptors(e).filter(a):this._descriptors(e),l=this._notify(i,e,t,n);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,n,a){a=a||{};for(const i of e){const l=i.plugin,u=l[n],h=[t,a,i.options];if(Jt(u,h,l)===!1&&a.cancelable)return!1}return!0}invalidate(){Tt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,a=ct(n.options&&n.options.plugins,{}),i=iF(n);return a===!1&&!t?[]:lF(e,i,a,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,a=(i,l)=>i.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(a(t,n),e,"stop"),this._notify(a(n,t),e,"start")}}function iF(r){const e={},t=[],n=Object.keys(ja.plugins.items);for(let i=0;i<n.length;i++)t.push(ja.getPlugin(n[i]));const a=r.plugins||[];for(let i=0;i<a.length;i++){const l=a[i];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function oF(r,e){return!e&&r===!1?null:r===!0?{}:r}function lF(r,{plugins:e,localIds:t},n,a){const i=[],l=r.getContext();for(const u of e){const h=u.id,f=oF(n[h],a);f!==null&&i.push({plugin:u,options:cF(r.config,{plugin:u,local:t[h]},f,l)})}return i}function cF(r,{plugin:e,local:t},n,a){const i=r.pluginScopeKeys(e),l=r.getOptionScopes(n,i);return t&&e.defaults&&l.push(e.defaults),r.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xx(r,e){const t=mr.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function uF(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function dF(r,e){return r===e?"_index_":"_value_"}function kw(r){if(r==="x"||r==="y"||r==="r")return r}function hF(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function px(r,...e){if(kw(r))return r;for(const t of e){const n=t.axis||hF(t.position)||r.length>1&&kw(r[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function Tw(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function fF(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===r||n.yAxisID===r);if(t.length)return Tw(r,"x",t[0])||Tw(r,"y",t[0])}return{}}function mF(r,e){const t=Gi[r.type]||{scales:{}},n=e.scales||{},a=xx(r.type,e),i=Object.create(null);return Object.keys(n).forEach(l=>{const u=n[l];if(!_t(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=px(l,u,fF(l,r),mr.scales[u.type]),f=dF(h,a),g=t.scales||{};i[l]=qc(Object.create(null),[{axis:h},u,g[h],g[f]])}),r.data.datasets.forEach(l=>{const u=l.type||r.type,h=l.indexAxis||xx(u,e),g=(Gi[u]||{}).scales||{};Object.keys(g).forEach(x=>{const y=uF(x,h),v=l[y+"AxisID"]||y;i[v]=i[v]||Object.create(null),qc(i[v],[{axis:y},n[v],g[x]])})}),Object.keys(i).forEach(l=>{const u=i[l];qc(u,[mr.scales[u.type],mr.scale])}),i}function uN(r){const e=r.options||(r.options={});e.plugins=ct(e.plugins,{}),e.scales=mF(r,e)}function dN(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function gF(r){return r=r||{},r.data=dN(r.data),uN(r),r}const jw=new Map,hN=new Set;function _h(r,e){let t=jw.get(r);return t||(t=e(),jw.set(r,t),hN.add(t)),t}const Rc=(r,e,t)=>{const n=qi(e,t);n!==void 0&&r.add(n)};class xF{constructor(e){this._config=gF(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dN(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),uN(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return _h(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return _h(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return _h(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return _h(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let a=n.get(e);return(!a||t)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,t,n){const{options:a,type:i}=this,l=this._cachedScopes(e,n),u=l.get(t);if(u)return u;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(x=>Rc(h,e,x))),g.forEach(x=>Rc(h,a,x)),g.forEach(x=>Rc(h,Gi[i]||{},x)),g.forEach(x=>Rc(h,mr,x)),g.forEach(x=>Rc(h,mx,x))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),hN.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Gi[t]||{},mr.datasets[t]||{},{type:t},mr,mx]}resolveNamedOptions(e,t,n,a=[""]){const i={$shared:!0},{resolver:l,subPrefixes:u}=Aw(this._resolverCache,e,a);let h=l;if(yF(l,t)){i.$shared=!1,n=Zs(n)?n():n;const f=this.createResolver(e,n,u);h=xl(l,n,f)}for(const f of t)i[f]=h[f];return i}createResolver(e,t,n=[""],a){const{resolver:i}=Aw(this._resolverCache,e,n);return _t(t)?xl(i,t,void 0,a):i}}function Aw(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));const a=t.join();let i=n.get(a);return i||(i={resolver:ap(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},n.set(a,i)),i}const pF=r=>_t(r)&&Object.getOwnPropertyNames(r).some(e=>Zs(r[e]));function yF(r,e){const{isScriptable:t,isIndexable:n}=Y4(r);for(const a of e){const i=t(a),l=n(a),u=(l||i)&&r[a];if(i&&(Zs(u)||pF(u))||l&&jr(u))return!0}return!1}var vF="4.5.1";const bF=["top","bottom","left","right","chartArea"];function Cw(r,e){return r==="top"||r==="bottom"||bF.indexOf(r)===-1&&e==="x"}function Ow(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function Rw(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Jt(t&&t.onComplete,[r],e)}function _F(r){const e=r.chart,t=e.options.animation;Jt(t&&t.onProgress,[r],e)}function fN(r){return op()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const Ih={},Dw=r=>{const e=fN(r);return Object.values(Ih).filter(t=>t.canvas===e).pop()};function wF(r,e,t){const n=Object.keys(r);for(const a of n){const i=+a;if(i>=e){const l=r[a];delete r[a],(t>0||i>e)&&(r[i+t]=l)}}}function SF(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}let jl=class{static defaults=mr;static instances=Ih;static overrides=Gi;static registry=ja;static version=vF;static getChart=Dw;static register(...e){ja.add(...e),Mw()}static unregister(...e){ja.remove(...e),Mw()}constructor(e,t){const n=this.config=new xF(t),a=fN(e),i=Dw(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||zM(a)),this.platform.updateConfig(n);const u=this.platform.acquireContext(a,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,g=h&&h.width;if(this.id=gD(),this.ctx=u,this.canvas=h,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=MD(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],Ih[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Za.listen(this,"complete",Rw),Za.listen(this,"progress",_F),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:a,_aspectRatio:i}=this;return Tt(e)?t&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ja}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Z_(this.canvas,this.ctx),this}stop(){return Za.stop(this),this}resize(e,t){Za.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,e,t,i),u=n.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,rw(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Jt(n.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Dt(t,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,a=Object.keys(n).reduce((l,u)=>(l[u]=!1,l),{});let i=[];t&&(i=i.concat(Object.keys(t).map(l=>{const u=t[l],h=px(l,u),f=h==="r",g=h==="x";return{options:u,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Dt(i,l=>{const u=l.options,h=u.id,f=px(h,u),g=ct(u.type,l.dtype);(u.position===void 0||Cw(u.position,f)!==Cw(l.dposition))&&(u.position=l.dposition),a[h]=!0;let x=null;if(h in n&&n[h].type===g)x=n[h];else{const y=ja.getScale(g);x=new y({id:h,type:g,ctx:this.ctx,chart:this}),n[x.id]=x}x.init(u,e)}),Dt(a,(l,u)=>{l||delete n[u]}),Dt(n,l=>{Jn.configure(this,l,l.options),Jn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((a,i)=>a.index-i.index),n>t){for(let a=t;a<n;++a)this._destroyDatasetMeta(a);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Ow("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,a)=>{t.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=t.length;n<a;n++){const i=t[n];let l=this.getDatasetMeta(n);const u=i.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=u,l.indexAxis=i.indexAxis||xx(u,this.options),l.order=i.order||0,l.index=n,l.label=""+i.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const h=ja.getController(u),{datasetElementType:f,dataElementType:g}=mr.datasets[u];Object.assign(h,{dataElementType:ja.getElement(g),datasetElementType:f&&ja.getElement(f)}),l.controller=new h(this,n),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Dt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:x}=this.getDatasetMeta(f),y=!a&&i.indexOf(x)===-1;x.buildOrUpdateElements(y),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),a||Dt(i,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ow("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Dt(this.scales,e=>{Jn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!$_(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of t){const l=n==="_removeElements"?-i:i;wF(e,a,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=i=>new Set(e.filter(l=>l[0]===i).map((l,u)=>u+","+l.splice(1).join(","))),a=n(0);for(let i=1;i<t;i++)if(!$_(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jn.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Dt(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Zs(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Za.has(this)?this.attached&&!Za.running(this)&&Za.start(this):(this.draw(),Rw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let a,i;for(a=0,i=t.length;a<i;++a){const l=t[a];(!e||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=U8(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&tp(t,a),e.controller.draw(),a&&rp(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return hu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,a){const i=bM.modes[t];return typeof i=="function"?i(this,e,n,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let a=n.filter(i=>i&&i._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Qi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),l=i.controller._resolveAnimations(void 0,a);cu(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),l.update(i,{visible:n}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Za.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Z_(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ih[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(i,l)=>{t.addEventListener(this,i,l),e[i]=l},a=(i,l,u)=>{i.offsetX=l,i.offsetY=u,this._eventHandler(i)};Dt(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},a=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},i=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{a("attach",u),this.attached=!0,this.resize(),n("resize",i),n("detach",l)};l=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){Dt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Dt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const a=n?"set":"remove";let i,l,u,h;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:i,index:l})=>{const u=this.getDatasetMeta(i);if(!u)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:u.data[l],index:l}});!Xh(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const a=this.options.hover,i=(h,f)=>h.filter(g=>!f.some(x=>g.datasetIndex===x.datasetIndex&&g.index===x.index)),l=i(t,e),u=n?e:i(e,t);l.length&&this.updateHoverStyle(l,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:a=[],options:i}=this,l=t,u=this._getActiveElements(e,a,n,l),h=_D(e),f=SF(e,this._lastEvent,n,h);n&&(this._lastEvent=null,Jt(i.onHover,[e,u,this],this),h&&Jt(i.onClick,[e,u,this],this));const g=!Xh(u,a);return(g||t)&&(this._active=u,this._updateHoverStyles(u,a,t)),this._lastEvent=f,g}_getActiveElements(e,t,n,a){if(e.type==="mouseout")return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}};function Mw(){return Dt(jl.instances,r=>r._plugins.invalidate())}function NF(r,e,t){const{startAngle:n,x:a,y:i,outerRadius:l,innerRadius:u,options:h}=e,{borderWidth:f,borderJoinStyle:g}=h,x=Math.min(f/l,ua(n-t));if(r.beginPath(),r.arc(a,i,l-f/2,n+x/2,t-x/2),u>0){const y=Math.min(f/u,ua(n-t));r.arc(a,i,u+f/2,t-y/2,n+y/2,!0)}else{const y=Math.min(f/2,l*ua(n-t));if(g==="round")r.arc(a,i,y,t-Mt/2,n+Mt/2,!0);else if(g==="bevel"){const v=2*y*y,w=-v*Math.cos(t+Mt/2)+a,_=-v*Math.sin(t+Mt/2)+i,S=v*Math.cos(n+Mt/2)+a,E=v*Math.sin(n+Mt/2)+i;r.lineTo(w,_),r.lineTo(S,E)}}r.closePath(),r.moveTo(0,0),r.rect(0,0,r.canvas.width,r.canvas.height),r.clip("evenodd")}function EF(r,e,t){const{startAngle:n,pixelMargin:a,x:i,y:l,outerRadius:u,innerRadius:h}=e;let f=a/u;r.beginPath(),r.arc(i,l,u,n-f,t+f),h>a?(f=a/h,r.arc(i,l,h,t+f,n-f,!0)):r.arc(i,l,a,t+Ar,n-Ar),r.closePath(),r.clip()}function kF(r){return np(r,["outerStart","outerEnd","innerStart","innerEnd"])}function TF(r,e,t,n){const a=kF(r.options.borderRadius),i=(t-e)/2,l=Math.min(i,n*e/2),u=h=>{const f=(t-Math.min(i,h))*n/2;return Kr(h,0,Math.min(i,f))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Kr(a.innerStart,0,l),innerEnd:Kr(a.innerEnd,0,l)}}function Xo(r,e,t,n){return{x:t+r*Math.cos(e),y:n+r*Math.sin(e)}}function rf(r,e,t,n,a,i){const{x:l,y:u,startAngle:h,pixelMargin:f,innerRadius:g}=e,x=Math.max(e.outerRadius+n+t-f,0),y=g>0?g+n+t+f:0;let v=0;const w=a-h;if(n){const ke=g>0?g-n:0,te=x>0?x-n:0,ae=(ke+te)/2,Te=ae!==0?w*ae/(ae+n):w;v=(w-Te)/2}const _=Math.max(.001,w*x-t/Mt)/x,S=(w-_)/2,E=h+S+v,N=a-S-v,{outerStart:T,outerEnd:M,innerStart:C,innerEnd:V}=TF(e,y,x,N-E),D=x-T,Y=x-M,O=E+T/D,Q=N-M/Y,W=y+C,Z=y+V,xe=E+C/W,Fe=N-V/Z;if(r.beginPath(),i){const ke=(O+Q)/2;if(r.arc(l,u,x,O,ke),r.arc(l,u,x,ke,Q),M>0){const Oe=Xo(Y,Q,l,u);r.arc(Oe.x,Oe.y,M,Q,N+Ar)}const te=Xo(Z,N,l,u);if(r.lineTo(te.x,te.y),V>0){const Oe=Xo(Z,Fe,l,u);r.arc(Oe.x,Oe.y,V,N+Ar,Fe+Math.PI)}const ae=(N-V/y+(E+C/y))/2;if(r.arc(l,u,y,N-V/y,ae,!0),r.arc(l,u,y,ae,E+C/y,!0),C>0){const Oe=Xo(W,xe,l,u);r.arc(Oe.x,Oe.y,C,xe+Math.PI,E-Ar)}const Te=Xo(D,E,l,u);if(r.lineTo(Te.x,Te.y),T>0){const Oe=Xo(D,O,l,u);r.arc(Oe.x,Oe.y,T,E-Ar,O)}}else{r.moveTo(l,u);const ke=Math.cos(O)*x+l,te=Math.sin(O)*x+u;r.lineTo(ke,te);const ae=Math.cos(Q)*x+l,Te=Math.sin(Q)*x+u;r.lineTo(ae,Te)}r.closePath()}function jF(r,e,t,n,a){const{fullCircles:i,startAngle:l,circumference:u}=e;let h=e.endAngle;if(i){rf(r,e,t,n,h,a);for(let f=0;f<i;++f)r.fill();isNaN(u)||(h=l+(u%cr||cr))}return rf(r,e,t,n,h,a),r.fill(),h}function AF(r,e,t,n,a){const{fullCircles:i,startAngle:l,circumference:u,options:h}=e,{borderWidth:f,borderJoinStyle:g,borderDash:x,borderDashOffset:y,borderRadius:v}=h,w=h.borderAlign==="inner";if(!f)return;r.setLineDash(x||[]),r.lineDashOffset=y,w?(r.lineWidth=f*2,r.lineJoin=g||"round"):(r.lineWidth=f,r.lineJoin=g||"bevel");let _=e.endAngle;if(i){rf(r,e,t,n,_,a);for(let S=0;S<i;++S)r.stroke();isNaN(u)||(_=l+(u%cr||cr))}w&&EF(r,e,_),h.selfJoin&&_-l>=Mt&&v===0&&g!=="miter"&&NF(r,e,_),i||(rf(r,e,t,n,_,a),r.stroke())}class CF extends fs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const a=this.getProps(["x","y"],n),{angle:i,distance:l}=U4(a,{x:e,y:t}),{startAngle:u,endAngle:h,innerRadius:f,outerRadius:g,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),y=(this.options.spacing+this.options.borderWidth)/2,v=ct(x,h-u),w=du(i,u,h)&&u!==h,_=v>=cr||w,S=Vs(l,f+y,g+y);return _&&S}getCenterPoint(e){const{x:t,y:n,startAngle:a,endAngle:i,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:f}=this.options,g=(a+i)/2,x=(l+u+f+h)/2;return{x:t+Math.cos(g)*x,y:n+Math.sin(g)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,a=(t.offset||0)/4,i=(t.spacing||0)/2,l=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>cr?Math.floor(n/cr):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*a,Math.sin(u)*a);const h=1-Math.sin(Math.min(Mt,n||0)),f=a*h;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,jF(e,this,f,i,l),AF(e,this,f,i,l),e.restore()}}function mN(r,e,t=e){r.lineCap=ct(t.borderCapStyle,e.borderCapStyle),r.setLineDash(ct(t.borderDash,e.borderDash)),r.lineDashOffset=ct(t.borderDashOffset,e.borderDashOffset),r.lineJoin=ct(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=ct(t.borderWidth,e.borderWidth),r.strokeStyle=ct(t.borderColor,e.borderColor)}function OF(r,e,t){r.lineTo(t.x,t.y)}function RF(r){return r.stepped?YD:r.tension||r.cubicInterpolationMode==="monotone"?KD:OF}function gN(r,e,t={}){const n=r.length,{start:a=0,end:i=n-1}=t,{start:l,end:u}=e,h=Math.max(a,l),f=Math.min(i,u),g=a<l&&i<l||a>u&&i>u;return{count:n,start:h,loop:e.loop,ilen:f<h&&!g?n+f-h:f-h}}function DF(r,e,t,n){const{points:a,options:i}=e,{count:l,start:u,loop:h,ilen:f}=gN(a,t,n),g=RF(i);let{move:x=!0,reverse:y}=n||{},v,w,_;for(v=0;v<=f;++v)w=a[(u+(y?f-v:v))%l],!w.skip&&(x?(r.moveTo(w.x,w.y),x=!1):g(r,_,w,y,i.stepped),_=w);return h&&(w=a[(u+(y?f:0))%l],g(r,_,w,y,i.stepped)),!!h}function MF(r,e,t,n){const a=e.points,{count:i,start:l,ilen:u}=gN(a,t,n),{move:h=!0,reverse:f}=n||{};let g=0,x=0,y,v,w,_,S,E;const N=M=>(l+(f?u-M:M))%i,T=()=>{_!==S&&(r.lineTo(g,S),r.lineTo(g,_),r.lineTo(g,E))};for(h&&(v=a[N(0)],r.moveTo(v.x,v.y)),y=0;y<=u;++y){if(v=a[N(y)],v.skip)continue;const M=v.x,C=v.y,V=M|0;V===w?(C<_?_=C:C>S&&(S=C),g=(x*g+M)/++x):(T(),r.lineTo(M,C),w=V,x=0,_=S=C),E=C}T()}function yx(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?MF:DF}function FF(r){return r.stepped?T8:r.tension||r.cubicInterpolationMode==="monotone"?j8:Ri}function LF(r,e,t,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,t,n)&&a.closePath()),mN(r,e.options),r.stroke(a)}function PF(r,e,t,n){const{segments:a,options:i}=e,l=yx(e);for(const u of a)mN(r,i,u.style),r.beginPath(),l(r,e,u,{start:t,end:t+n-1})&&r.closePath(),r.stroke()}const IF=typeof Path2D=="function";function BF(r,e,t,n){IF&&!e.options.segment?LF(r,e,t,n):PF(r,e,t,n)}class up extends fs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;v8(this._points,n,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=L8(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,a=e[t],i=this.points,l=D8(this,{property:t,start:a,end:a});if(!l.length)return;const u=[],h=FF(n);let f,g;for(f=0,g=l.length;f<g;++f){const{start:x,end:y}=l[f],v=i[x],w=i[y];if(v===w){u.push(v);continue}const _=Math.abs((a-v[t])/(w[t]-v[t])),S=h(v,w,_,n.stepped);S[t]=e[t],u.push(S)}return u.length===1?u[0]:u}pathSegment(e,t,n){return yx(this)(e,this,t,n)}path(e,t,n){const a=this.segments,i=yx(this);let l=this._loop;t=t||0,n=n||this.points.length-t;for(const u of a)l&=i(e,this,u,{start:t,end:t+n-1});return!!l}draw(e,t,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),BF(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Fw(r,e,t,n){const a=r.options,{[t]:i}=r.getProps([t],n);return Math.abs(e-i)<a.radius+a.hitRadius}class dp extends fs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const a=this.options,{x:i,y:l}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return Fw(this,e,"x",t)}inYRange(e,t){return Fw(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const n=t&&e.borderWidth||0;return(t+n)*2}draw(e,t){const n=this.options;this.skip||n.radius<.1||!hu(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,gx(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function xN(r,e){const{x:t,y:n,base:a,width:i,height:l}=r.getProps(["x","y","base","width","height"],e);let u,h,f,g,x;return r.horizontal?(x=l/2,u=Math.min(t,a),h=Math.max(t,a),f=n-x,g=n+x):(x=i/2,u=t-x,h=t+x,f=Math.min(n,a),g=Math.max(n,a)),{left:u,top:f,right:h,bottom:g}}function qs(r,e,t,n){return r?0:Kr(e,t,n)}function UF(r,e,t){const n=r.options.borderWidth,a=r.borderSkipped,i=G4(n);return{t:qs(a.top,i.top,0,t),r:qs(a.right,i.right,0,e),b:qs(a.bottom,i.bottom,0,t),l:qs(a.left,i.left,0,e)}}function zF(r,e,t){const{enableBorderRadius:n}=r.getProps(["enableBorderRadius"]),a=r.options.borderRadius,i=il(a),l=Math.min(e,t),u=r.borderSkipped,h=n||_t(a);return{topLeft:qs(!h||u.top||u.left,i.topLeft,0,l),topRight:qs(!h||u.top||u.right,i.topRight,0,l),bottomLeft:qs(!h||u.bottom||u.left,i.bottomLeft,0,l),bottomRight:qs(!h||u.bottom||u.right,i.bottomRight,0,l)}}function HF(r){const e=xN(r),t=e.right-e.left,n=e.bottom-e.top,a=UF(r,t/2,n/2),i=zF(r,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:t-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function Cg(r,e,t,n){const a=e===null,i=t===null,u=r&&!(a&&i)&&xN(r,n);return u&&(a||Vs(e,u.left,u.right))&&(i||Vs(t,u.top,u.bottom))}function $F(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function VF(r,e){r.rect(e.x,e.y,e.w,e.h)}function Og(r,e,t={}){const n=r.x!==t.x?-e:0,a=r.y!==t.y?-e:0,i=(r.x+r.w!==t.x+t.w?e:0)-n,l=(r.y+r.h!==t.y+t.h?e:0)-a;return{x:r.x+n,y:r.y+a,w:r.w+i,h:r.h+l,radius:r.radius}}class hp extends fs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:l}=HF(this),u=$F(l.radius)?Zh:VF;e.save(),(l.w!==i.w||l.h!==i.h)&&(e.beginPath(),u(e,Og(l,t,i)),e.clip(),u(e,Og(i,-t,l)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),u(e,Og(i,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,n){return Cg(this,e,t,n)}inXRange(e,t){return Cg(this,e,null,t)}inYRange(e,t){return Cg(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+a)/2:t,y:i?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Lw=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=r.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},WF=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class Pw extends fs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Jt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=Xr(n.font),i=a.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=Lw(n,i);let f,g;t.font=a.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,i,u,h)+10):(g=this.maxHeight,f=this._fitCols(l,a,u,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,a){const{ctx:i,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],g=a+u;let x=e;i.textAlign="left",i.textBaseline="middle";let y=-1,v=-g;return this.legendItems.forEach((w,_)=>{const S=n+t/2+i.measureText(w.text).width;(_===0||f[f.length-1]+S+2*u>l)&&(x+=g,f[f.length-(_>0?0:1)]=0,v+=g,y++),h[_]={left:0,top:v,row:y,width:S,height:a},f[f.length-1]+=S+u}),x}_fitCols(e,t,n,a){const{ctx:i,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-e;let x=u,y=0,v=0,w=0,_=0;return this.legendItems.forEach((S,E)=>{const{itemWidth:N,itemHeight:T}=qF(n,t,i,S,a);E>0&&v+T+2*u>g&&(x+=y+u,f.push({width:y,height:v}),w+=y+u,_++,y=v=0),h[E]={left:w,top:v,col:_,width:N,height:T},y=Math.max(y,N),v+=T+u}),x+=y,f.push({width:y,height:v}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:a},rtl:i}}=this,l=ol(i,this.left,this.width);if(this.isHorizontal()){let u=0,h=Gr(n,this.left+a,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,h=Gr(n,this.left+a,this.right-this.lineWidths[u])),f.top+=this.top+e+a,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+a}else{let u=0,h=Gr(n,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,h=Gr(n,this.top+e+a,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+a,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;tp(e,this),this._draw(),rp(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:a}=this,{align:i,labels:l}=e,u=mr.color,h=ol(e.rtl,this.left,this.width),f=Xr(l.font),{padding:g}=l,x=f.size,y=x/2;let v;this.drawTitle(),a.textAlign=h.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=f.string;const{boxWidth:w,boxHeight:_,itemHeight:S}=Lw(l,x),E=function(V,D,Y){if(isNaN(w)||w<=0||isNaN(_)||_<0)return;a.save();const O=ct(Y.lineWidth,1);if(a.fillStyle=ct(Y.fillStyle,u),a.lineCap=ct(Y.lineCap,"butt"),a.lineDashOffset=ct(Y.lineDashOffset,0),a.lineJoin=ct(Y.lineJoin,"miter"),a.lineWidth=O,a.strokeStyle=ct(Y.strokeStyle,u),a.setLineDash(ct(Y.lineDash,[])),l.usePointStyle){const Q={radius:_*Math.SQRT2/2,pointStyle:Y.pointStyle,rotation:Y.rotation,borderWidth:O},W=h.xPlus(V,w/2),Z=D+y;q4(a,Q,W,Z,l.pointStyleWidth&&w)}else{const Q=D+Math.max((x-_)/2,0),W=h.leftForLtr(V,w),Z=il(Y.borderRadius);a.beginPath(),Object.values(Z).some(xe=>xe!==0)?Zh(a,{x:W,y:Q,w,h:_,radius:Z}):a.rect(W,Q,w,_),a.fill(),O!==0&&a.stroke()}a.restore()},N=function(V,D,Y){fu(a,Y.text,V,D+S/2,f,{strikethrough:Y.hidden,textAlign:h.textAlign(Y.textAlign)})},T=this.isHorizontal(),M=this._computeTitleHeight();T?v={x:Gr(i,this.left+g,this.right-n[0]),y:this.top+g+M,line:0}:v={x:this.left+g,y:Gr(i,this.top+M+g,this.bottom-t[0].height),line:0},Z4(this.ctx,e.textDirection);const C=S+g;this.legendItems.forEach((V,D)=>{a.strokeStyle=V.fontColor,a.fillStyle=V.fontColor;const Y=a.measureText(V.text).width,O=h.textAlign(V.textAlign||(V.textAlign=l.textAlign)),Q=w+y+Y;let W=v.x,Z=v.y;h.setWidth(this.width),T?D>0&&W+Q+g>this.right&&(Z=v.y+=C,v.line++,W=v.x=Gr(i,this.left+g,this.right-n[v.line])):D>0&&Z+C>this.bottom&&(W=v.x=W+t[v.line].width+g,v.line++,Z=v.y=Gr(i,this.top+M+g,this.bottom-t[v.line].height));const xe=h.x(W);if(E(xe,Z,V),W=FD(O,W+w+y,T?W+Q:this.right,e.rtl),N(h.x(W),Z,V),T)v.x+=Q+g;else if(typeof V.text!="string"){const Fe=f.lineHeight;v.y+=pN(V,Fe)+g}else v.y+=C}),eN(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Xr(t.font),a=ea(t.padding);if(!t.display)return;const i=ol(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=n.size/2,f=a.top+h;let g,x=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),g=this.top+f,x=Gr(e.align,x,this.right-y);else{const w=this.columnSizes.reduce((_,S)=>Math.max(_,S.height),0);g=f+Gr(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const v=Gr(u,x,x+y);l.textAlign=i.textAlign(Qx(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=n.string,fu(l,t.text,v,g,n)}_computeTitleHeight(){const e=this.options.title,t=Xr(e.font),n=ea(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,a,i;if(Vs(e,this.left,this.right)&&Vs(t,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],Vs(e,a.left,a.left+a.width)&&Vs(t,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!KF(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=WF(a,n);a&&!i&&Jt(t.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!i&&Jt(t.onHover,[e,n,this],this)}else n&&Jt(t.onClick,[e,n,this],this)}}function qF(r,e,t,n,a){const i=GF(n,r,e,t),l=YF(a,n,e.lineHeight);return{itemWidth:i,itemHeight:l}}function GF(r,e,t,n){let a=r.text;return a&&typeof a!="string"&&(a=a.reduce((i,l)=>i.length>l.length?i:l)),e+t.size/2+n.measureText(a).width}function YF(r,e,t){let n=r;return typeof e.text!="string"&&(n=pN(e,t)),n}function pN(r,e){const t=r.text?r.text.length:0;return e*t}function KF(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var fp={id:"legend",_element:Pw,start(r,e,t){const n=r.legend=new Pw({ctx:r.ctx,options:t,chart:r});Jn.configure(r,n,t),Jn.addBox(r,n)},stop(r){Jn.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const n=r.legend;Jn.configure(r,n,t),n.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const n=e.datasetIndex,a=t.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:a,color:i,useBorderRadius:l,borderRadius:u}}=r.legend.options;return r._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),g=ea(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:i,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:a||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class yN extends fs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const a=jr(n.text)?n.text.length:1;this._padding=ea(n.padding);const i=a*Xr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:a,right:i,options:l}=this,u=l.align;let h=0,f,g,x;return this.isHorizontal()?(g=Gr(u,n,i),x=t+e,f=i-n):(l.position==="left"?(g=n+e,x=Gr(u,a,t),h=Mt*-.5):(g=i-e,x=Gr(u,t,a),h=Mt*.5),f=a-t),{titleX:g,titleY:x,maxWidth:f,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Xr(t.font),i=n.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:f}=this._drawArgs(i);fu(e,t.text,0,0,n,{color:t.color,maxWidth:h,rotation:f,textAlign:Qx(t.align),textBaseline:"middle",translation:[l,u]})}}function XF(r,e){const t=new yN({ctx:r.ctx,options:e,chart:r});Jn.configure(r,t,e),Jn.addBox(r,t),r.titleBlock=t}var mp={id:"title",_element:yN,start(r,e,t){XF(r,t)},stop(r){const e=r.titleBlock;Jn.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){const n=r.titleBlock;Jn.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bc={average(r){if(!r.length)return!1;let e,t,n=new Set,a=0,i=0;for(e=0,t=r.length;e<t;++e){const u=r[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();n.add(h.x),a+=h.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((u,h)=>u+h)/n.size,y:a/i}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,a=Number.POSITIVE_INFINITY,i,l,u;for(i=0,l=r.length;i<l;++i){const h=r[i].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),g=fx(e,f);g<a&&(a=g,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,n=h.y}return{x:t,y:n}}};function Ea(r,e){return e&&(jr(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function es(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function JF(r,e){const{element:t,datasetIndex:n,index:a}=e,i=r.getDatasetMeta(n).controller,{label:l,value:u}=i.getLabelAndValue(a);return{chart:r,label:l,parsed:i.getParsed(a),raw:r.data.datasets[n].data[a],formattedValue:u,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:t}}function Iw(r,e){const t=r.chart.ctx,{body:n,footer:a,title:i}=r,{boxWidth:l,boxHeight:u}=e,h=Xr(e.bodyFont),f=Xr(e.titleFont),g=Xr(e.footerFont),x=i.length,y=a.length,v=n.length,w=ea(e.padding);let _=w.height,S=0,E=n.reduce((M,C)=>M+C.before.length+C.lines.length+C.after.length,0);if(E+=r.beforeBody.length+r.afterBody.length,x&&(_+=x*f.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),E){const M=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;_+=v*M+(E-v)*h.lineHeight+(E-1)*e.bodySpacing}y&&(_+=e.footerMarginTop+y*g.lineHeight+(y-1)*e.footerSpacing);let N=0;const T=function(M){S=Math.max(S,t.measureText(M).width+N)};return t.save(),t.font=f.string,Dt(r.title,T),t.font=h.string,Dt(r.beforeBody.concat(r.afterBody),T),N=e.displayColors?l+2+e.boxPadding:0,Dt(n,M=>{Dt(M.before,T),Dt(M.lines,T),Dt(M.after,T)}),N=0,t.font=g.string,Dt(r.footer,T),t.restore(),S+=w.width,{width:S,height:_}}function QF(r,e){const{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function ZF(r,e,t,n){const{x:a,width:i}=n,l=t.caretSize+t.caretPadding;if(r==="left"&&a+i+l>e.width||r==="right"&&a-i-l<0)return!0}function eL(r,e,t,n){const{x:a,width:i}=t,{width:l,chartArea:{left:u,right:h}}=r;let f="center";return n==="center"?f=a<=(u+h)/2?"left":"right":a<=i/2?f="left":a>=l-i/2&&(f="right"),ZF(f,r,e,t)&&(f="center"),f}function Bw(r,e,t){const n=t.yAlign||e.yAlign||QF(r,t);return{xAlign:t.xAlign||e.xAlign||eL(r,e,t,n),yAlign:n}}function tL(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function rL(r,e,t){let{y:n,height:a}=r;return e==="top"?n+=t:e==="bottom"?n-=a+t:n-=a/2,n}function Uw(r,e,t,n){const{caretSize:a,caretPadding:i,cornerRadius:l}=r,{xAlign:u,yAlign:h}=t,f=a+i,{topLeft:g,topRight:x,bottomLeft:y,bottomRight:v}=il(l);let w=tL(e,u);const _=rL(e,h,f);return h==="center"?u==="left"?w+=f:u==="right"&&(w-=f):u==="left"?w-=Math.max(g,y)+a:u==="right"&&(w+=Math.max(x,v)+a),{x:Kr(w,0,n.width-e.width),y:Kr(_,0,n.height-e.height)}}function wh(r,e,t){const n=ea(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function zw(r){return Ea([],es(r))}function nL(r,e,t){return Qi(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Hw(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const vN={beforeTitle:Qa,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:Qa,beforeBody:Qa,beforeLabel:Qa,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return Tt(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Qa,afterBody:Qa,beforeFooter:Qa,footer:Qa,afterFooter:Qa};function dn(r,e,t,n){const a=r[e].call(t,n);return typeof a>"u"?vN[e].call(t,n):a}class $w extends fs{static positioners=Bc;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&t.options.animation&&n.animations,i=new rN(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=nL(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,a=dn(n,"beforeTitle",this,e),i=dn(n,"title",this,e),l=dn(n,"afterTitle",this,e);let u=[];return u=Ea(u,es(a)),u=Ea(u,es(i)),u=Ea(u,es(l)),u}getBeforeBody(e,t){return zw(dn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,a=[];return Dt(e,i=>{const l={before:[],lines:[],after:[]},u=Hw(n,i);Ea(l.before,es(dn(u,"beforeLabel",this,i))),Ea(l.lines,dn(u,"label",this,i)),Ea(l.after,es(dn(u,"afterLabel",this,i))),a.push(l)}),a}getAfterBody(e,t){return zw(dn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,a=dn(n,"beforeFooter",this,e),i=dn(n,"footer",this,e),l=dn(n,"afterFooter",this,e);let u=[];return u=Ea(u,es(a)),u=Ea(u,es(i)),u=Ea(u,es(l)),u}_createItems(e){const t=this._active,n=this.chart.data,a=[],i=[],l=[];let u=[],h,f;for(h=0,f=t.length;h<f;++h)u.push(JF(this.chart,t[h]));return e.filter&&(u=u.filter((g,x,y)=>e.filter(g,x,y,n))),e.itemSort&&(u=u.sort((g,x)=>e.itemSort(g,x,n))),Dt(u,g=>{const x=Hw(e.callbacks,g);a.push(dn(x,"labelColor",this,g)),i.push(dn(x,"labelPointStyle",this,g)),l.push(dn(x,"labelTextColor",this,g))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const n=this.options.setContext(this.getContext()),a=this._active;let i,l=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const u=Bc[n.position].call(this,a,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const h=this._size=Iw(this,n),f=Object.assign({},u,h),g=Bw(this.chart,n,f),x=Uw(n,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,i={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,a){const i=this.getCaretPosition(e,n,a);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:a,yAlign:i}=this,{caretSize:l,cornerRadius:u}=n,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:x}=il(u),{x:y,y:v}=e,{width:w,height:_}=t;let S,E,N,T,M,C;return i==="center"?(M=v+_/2,a==="left"?(S=y,E=S-l,T=M+l,C=M-l):(S=y+w,E=S+l,T=M-l,C=M+l),N=S):(a==="left"?E=y+Math.max(h,g)+l:a==="right"?E=y+w-Math.max(f,x)-l:E=this.caretX,i==="top"?(T=v,M=T-l,S=E-l,N=E+l):(T=v+_,M=T+l,S=E+l,N=E-l),C=T),{x1:S,x2:E,x3:N,y1:T,y2:M,y3:C}}drawTitle(e,t,n){const a=this.title,i=a.length;let l,u,h;if(i){const f=ol(n.rtl,this.x,this.width);for(e.x=wh(this,n.titleAlign,n),t.textAlign=f.textAlign(n.titleAlign),t.textBaseline="middle",l=Xr(n.titleFont),u=n.titleSpacing,t.fillStyle=n.titleColor,t.font=l.string,h=0;h<i;++h)t.fillText(a[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===i&&(e.y+=n.titleMarginBottom-u)}}_drawColorBox(e,t,n,a,i){const l=this.labelColors[n],u=this.labelPointStyles[n],{boxHeight:h,boxWidth:f}=i,g=Xr(i.bodyFont),x=wh(this,"left",i),y=a.x(x),v=h<g.lineHeight?(g.lineHeight-h)/2:0,w=t.y+v;if(i.usePointStyle){const _={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=a.leftForLtr(y,f)+f/2,E=w+h/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,gx(e,_,S,E),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,gx(e,_,S,E)}else{e.lineWidth=_t(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const _=a.leftForLtr(y,f),S=a.leftForLtr(a.xPlus(y,1),f-2),E=il(l.borderRadius);Object.values(E).some(N=>N!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Zh(e,{x:_,y:w,w:f,h,radius:E}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Zh(e,{x:S,y:w+1,w:f-2,h:h-2,radius:E}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(_,w,f,h),e.strokeRect(_,w,f,h),e.fillStyle=l.backgroundColor,e.fillRect(S,w+1,f-2,h-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:a}=this,{bodySpacing:i,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:g}=n,x=Xr(n.bodyFont);let y=x.lineHeight,v=0;const w=ol(n.rtl,this.x,this.width),_=function(Y){t.fillText(Y,w.x(e.x+v),e.y+y/2),e.y+=y+i},S=w.textAlign(l);let E,N,T,M,C,V,D;for(t.textAlign=l,t.textBaseline="middle",t.font=x.string,e.x=wh(this,S,n),t.fillStyle=n.bodyColor,Dt(this.beforeBody,_),v=u&&S!=="right"?l==="center"?f/2+g:f+2+g:0,M=0,V=a.length;M<V;++M){for(E=a[M],N=this.labelTextColors[M],t.fillStyle=N,Dt(E.before,_),T=E.lines,u&&T.length&&(this._drawColorBox(t,e,M,w,n),y=Math.max(x.lineHeight,h)),C=0,D=T.length;C<D;++C)_(T[C]),y=x.lineHeight;Dt(E.after,_)}v=0,y=x.lineHeight,Dt(this.afterBody,_),e.y-=i}drawFooter(e,t,n){const a=this.footer,i=a.length;let l,u;if(i){const h=ol(n.rtl,this.x,this.width);for(e.x=wh(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=h.textAlign(n.footerAlign),t.textBaseline="middle",l=Xr(n.footerFont),t.fillStyle=n.footerColor,t.font=l.string,u=0;u<i;++u)t.fillText(a[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+n.footerSpacing}}drawBackground(e,t,n,a){const{xAlign:i,yAlign:l}=this,{x:u,y:h}=e,{width:f,height:g}=n,{topLeft:x,topRight:y,bottomLeft:v,bottomRight:w}=il(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(u+x,h),l==="top"&&this.drawCaret(e,t,n,a),t.lineTo(u+f-y,h),t.quadraticCurveTo(u+f,h,u+f,h+y),l==="center"&&i==="right"&&this.drawCaret(e,t,n,a),t.lineTo(u+f,h+g-w),t.quadraticCurveTo(u+f,h+g,u+f-w,h+g),l==="bottom"&&this.drawCaret(e,t,n,a),t.lineTo(u+v,h+g),t.quadraticCurveTo(u,h+g,u,h+g-v),l==="center"&&i==="left"&&this.drawCaret(e,t,n,a),t.lineTo(u,h+x),t.quadraticCurveTo(u,h,u+x,h),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const l=Bc[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Iw(this,e),h=Object.assign({},l,this._size),f=Bw(t,e,h),g=Uw(e,h,f,t);(a._to!==g.x||i._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=ea(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,t),Z4(e,t.textDirection),i.y+=l.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),eN(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,a=e.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),i=!Xh(n,a),l=this._positionChanged(a,t);(i||l)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],l=this._getActiveElements(e,i,t,n),u=this._positionChanged(l,e),h=t||!Xh(l,i)||u;return h&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,n,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:n,caretY:a,options:i}=this,l=Bc[i.position].call(this,e,t);return l!==!1&&(n!==l.x||a!==l.y)}}var gp={id:"tooltip",_element:$w,positioners:Bc,afterInit(r,e,t){t&&(r.tooltip=new $w({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:vN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const aL=(r,e,t,n)=>(typeof e=="string"?(t=r.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function sL(r,e,t,n){const a=r.indexOf(e);if(a===-1)return aL(r,e,t,n);const i=r.lastIndexOf(e);return a!==i?t:a}const iL=(r,e)=>r===null?null:Kr(Math.round(r),0,e);function Vw(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class xp extends Tl{static id="category";static defaults={ticks:{callback:Vw}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:a,label:i}of t)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Tt(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:sL(n,e,ct(t,e),this._addedLabels),iL(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=e;l<=t;l++)a.push({value:l});return a}getLabelForValue(e){return Vw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function oL(r,e){const t=[],{bounds:a,step:i,min:l,max:u,precision:h,count:f,maxTicks:g,maxDigits:x,includeBounds:y}=r,v=i||1,w=g-1,{min:_,max:S}=e,E=!Tt(l),N=!Tt(u),T=!Tt(f),M=(S-_)/(x+1);let C=W_((S-_)/w/v)*v,V,D,Y,O;if(C<1e-14&&!E&&!N)return[{value:_},{value:S}];O=Math.ceil(S/C)-Math.floor(_/C),O>w&&(C=W_(O*C/w/v)*v),Tt(h)||(V=Math.pow(10,h),C=Math.ceil(C*V)/V),a==="ticks"?(D=Math.floor(_/C)*C,Y=Math.ceil(S/C)*C):(D=_,Y=S),E&&N&&i&&kD((u-l)/i,C/1e3)?(O=Math.round(Math.min((u-l)/C,g)),C=(u-l)/O,D=l,Y=u):T?(D=E?l:D,Y=N?u:Y,O=f-1,C=(Y-D)/O):(O=(Y-D)/C,Gc(O,Math.round(O),C/1e3)?O=Math.round(O):O=Math.ceil(O));const Q=Math.max(q_(C),q_(D));V=Math.pow(10,Tt(h)?Q:h),D=Math.round(D*V)/V,Y=Math.round(Y*V)/V;let W=0;for(E&&(y&&D!==l?(t.push({value:l}),D<l&&W++,Gc(Math.round((D+W*C)*V)/V,l,Ww(l,M,r))&&W++):D<l&&W++);W<O;++W){const Z=Math.round((D+W*C)*V)/V;if(N&&Z>u)break;t.push({value:Z})}return N&&y&&Y!==u?t.length&&Gc(t[t.length-1].value,u,Ww(u,M,r))?t[t.length-1].value=u:t.push({value:u}):(!N||Y===u)&&t.push({value:Y}),t}function Ww(r,e,{horizontal:t,minRotation:n}){const a=ns(n),i=(t?Math.sin(a):Math.cos(a))||.001,l=.75*e*(""+r).length;return Math.min(e/i,l)}class lL extends Tl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Tt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const l=h=>a=t?a:h,u=h=>i=n?i:h;if(e){const h=Ca(a),f=Ca(i);h<0&&f<0?u(0):h>0&&f>0&&l(0)}if(a===i){let h=i===0?1:Math.abs(i*.05);u(i+h),e||l(a-h)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),t=t||11),t&&(a=Math.min(t,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,l=oL(a,i);return e.bounds==="ticks"&&TD(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-t)/Math.max(e.length-1,1)/2;t-=a,n+=a}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return ep(e,this.chart.options.locale,this.options.ticks.format)}}class pp extends lL{static id="linear";static defaults={ticks:{callback:W4.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Zn(e)?e:0,this.max=Zn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=ns(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Ff={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fn=Object.keys(Ff);function qw(r,e){return r-e}function Gw(r,e){if(Tt(e))return null;const t=r._adapter,{parser:n,round:a,isoWeekday:i}=r._parseOpts;let l=e;return typeof n=="function"&&(l=n(l)),Zn(l)||(l=typeof n=="string"?t.parse(l,n):t.parse(l)),l===null?null:(a&&(l=a==="week"&&(uu(i)||i===!0)?t.startOf(l,"isoWeek",i):t.startOf(l,a)),+l)}function Yw(r,e,t,n){const a=fn.length;for(let i=fn.indexOf(r);i<a-1;++i){const l=Ff[fn[i]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=n)return fn[i]}return fn[a-1]}function cL(r,e,t,n,a){for(let i=fn.length-1;i>=fn.indexOf(t);i--){const l=fn[i];if(Ff[l].common&&r._adapter.diff(a,n,l)>=e-1)return l}return fn[t?fn.indexOf(t):0]}function uL(r){for(let e=fn.indexOf(r)+1,t=fn.length;e<t;++e)if(Ff[fn[e]].common)return fn[e]}function Kw(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:n,hi:a}=Jx(t,e),i=t[n]>=e?t[n]:t[a];r[i]=!0}}function dL(r,e,t,n){const a=r._adapter,i=+a.startOf(e[0].value,n),l=e[e.length-1].value;let u,h;for(u=i;u<=l;u=+a.add(u,1,n))h=t[u],h>=0&&(e[h].major=!0);return e}function Xw(r,e,t){const n=[],a={},i=e.length;let l,u;for(l=0;l<i;++l)u=e[l],a[u]=l,n.push({value:u,major:!1});return i===0||!t?n:dL(r,n,a,t)}class Jw extends Tl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),a=this._adapter=new gM._date(e.adapters.date);a.init(t),qc(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Gw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(a=Math.min(a,f.min)),!u&&!isNaN(f.max)&&(i=Math.max(i,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),a=Zn(a)&&!isNaN(a)?a:+t.startOf(Date.now(),n),i=Zn(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,l=this.max,u=RD(a,i,l);return this._unit=t.unit||(n.autoSkip?Yw(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):cL(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:uL(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),Xw(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?t=1-a:t=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Kr(t,0,l),n=Kr(n,0,l),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,a=this.options,i=a.time,l=i.unit||Yw(i.minUnit,t,n,this._getLabelCapacity(t)),u=ct(a.ticks.stepSize,1),h=l==="week"?i.isoWeekday:!1,f=uu(h)||h===!0,g={};let x=t,y,v;if(f&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,f?"day":l),e.diff(n,t,l)>1e5*u)throw new Error(t+" and "+n+" are too far apart with stepSize of "+u+" "+l);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(y=x,v=0;y<n;y=+e.add(y,u,l),v++)Kw(g,y,w);return(y===n||a.bounds==="ticks"||v===1)&&Kw(g,y,w),Object.keys(g).sort(qw).map(_=>+_)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const a=this.options.time.displayFormats,i=this._unit,l=t||a[i];return this._adapter.format(e,l)}_tickFormatFunction(e,t,n,a){const i=this.options,l=i.ticks.callback;if(l)return Jt(l,[e,t,n],this);const u=i.time.displayFormats,h=this._unit,f=this._majorUnit,g=h&&u[h],x=f&&u[f],y=n[t],v=f&&x&&y&&y.major;return this._adapter.format(e,a||(v?x:g))}generateTickLabels(e){let t,n,a;for(t=0,n=e.length;t<n;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,a=ns(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(a),l=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:n*i+u*l,h:n*l+u*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,a=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Xw(this,[e],this._majorUnit),a),l=this._getLabelSize(i),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(t=0,n=a.length;t<n;++t)e=e.concat(a[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const a=this.getLabels();for(t=0,n=a.length;t<n;++t)e.push(Gw(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return H4(e.sort(qw))}}function Sh(r,e,t){let n=0,a=r.length-1,i,l,u,h;t?(e>=r[n].pos&&e<=r[a].pos&&({lo:n,hi:a}=Bi(r,"pos",e)),{pos:i,time:u}=r[n],{pos:l,time:h}=r[a]):(e>=r[n].time&&e<=r[a].time&&({lo:n,hi:a}=Bi(r,"time",e)),{time:i,pos:u}=r[n],{time:l,pos:h}=r[a]);const f=l-i;return f?u+(h-u)*(e-i)/f:u}class r$ extends Jw{static id="timeseries";static defaults=Jw.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Sh(t,this.min),this._tableRange=Sh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,a=[],i=[];let l,u,h,f,g;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=n&&a.push(f);if(a.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(l=0,u=a.length;l<u;++l)g=a[l+1],h=a[l-1],f=a[l],Math.round((g+h)/2)!==f&&i.push({time:f,pos:l/(u-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Sh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Sh(this._table,n*this._tableRange+this._minPos,!0)}}const bN="label";function Qw(r,e){typeof r=="function"?r(e):r&&(r.current=e)}function hL(r,e){const t=r.options;t&&e&&Object.assign(t,e)}function _N(r,e){r.labels=e}function wN(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bN;const n=[];r.datasets=e.map(a=>{const i=r.datasets.find(l=>l[t]===a[t]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function fL(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bN;const t={labels:[],datasets:[]};return _N(t,r.labels),wN(t,r.datasets,e),t}function mL(r,e){const{height:t=150,width:n=300,redraw:a=!1,datasetIdKey:i,type:l,data:u,options:h,plugins:f=[],fallbackContent:g,updateMode:x,...y}=r,v=I.useRef(null),w=I.useRef(null),_=()=>{v.current&&(w.current=new jl(v.current,{type:l,data:fL(u,i),options:h&&{...h},plugins:f}),Qw(e,w.current))},S=()=>{Qw(e,null),w.current&&(w.current.destroy(),w.current=null)};return I.useEffect(()=>{!a&&w.current&&h&&hL(w.current,h)},[a,h]),I.useEffect(()=>{!a&&w.current&&_N(w.current.config.data,u.labels)},[a,u.labels]),I.useEffect(()=>{!a&&w.current&&u.datasets&&wN(w.current.config.data,u.datasets,i)},[a,u.datasets]),I.useEffect(()=>{w.current&&(a?(S(),setTimeout(_)):w.current.update(x))},[a,h,u.labels,u.datasets,x]),I.useEffect(()=>{w.current&&(S(),setTimeout(_))},[l]),I.useEffect(()=>(_(),()=>S()),[]),Ex.createElement("canvas",{ref:v,role:"img",height:t,width:n,...y},g)}const gL=I.forwardRef(mL);function yp(r,e){return jl.register(e),I.forwardRef((t,n)=>Ex.createElement(gL,{...t,ref:n,type:r}))}const SN=yp("line",mM),nf=yp("bar",dM),xL=yp("doughnut",fM);jl.register(xp,pp,dp,up,hp,mp,gp,fp);const NN=({locationName:r})=>{const e=Ex.useMemo(()=>{const u=[],h=new Date;for(let f=0;f<14;f++){const g=new Date(h);g.setDate(h.getDate()+f);const x=75+Math.sin(f*.3)*5;u.push({date:g.toISOString().split("T")[0],displayDate:g.toLocaleDateString("en-US",{month:"short",day:"numeric"}),high:Math.round(x+Math.random()*10),low:Math.round(x-15+Math.random()*5),wind:Math.round(3+Math.random()*7),precipitation:Math.random()*.1,et0:.004+Math.random()*.002,et0Sum:.004+Math.random()*.002})}return u},[]),t={labels:e.map(u=>u.displayDate),datasets:[{label:"Total Precipitation",data:e.map(u=>u.precipitation),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1},{label:"Rain",data:e.map(u=>u.precipitation*.7),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1}]},n={labels:e.map(u=>u.displayDate),datasets:[{label:"Daily ET",data:e.map(u=>u.et0),borderColor:"rgba(249, 115, 22, 1)",backgroundColor:"rgba(249, 115, 22, 0.1)",borderWidth:2,fill:!1,tension:.1}]},a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"#9CA3AF",font:{size:12}}},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.95)",titleColor:"#F9FAFB",bodyColor:"#F9FAFB",borderColor:"#374151",borderWidth:1}},scales:{x:{ticks:{color:"#9CA3AF",font:{size:11}},grid:{color:"rgba(55, 65, 81, 0.3)"}},y:{ticks:{color:"#9CA3AF",font:{size:11}},grid:{color:"rgba(55, 65, 81, 0.3)"}}}},i=()=>{const u=[["Date","High (F)","Low (F)","Wind (mph)","Precipitation (in)","ET (inches)","ET Sum (inches)"],...e.map(x=>[x.date,x.high,x.low,x.wind,x.precipitation.toFixed(3),x.et0.toFixed(3),x.et0Sum.toFixed(3)])].map(x=>x.join(",")).join(`
`),h=new Blob([u],{type:"text/csv"}),f=window.URL.createObjectURL(h),g=document.createElement("a");g.href=f,g.download=`weather-forecast-${r.replace(/[^a-zA-Z0-9]/g,"-")}.csv`,g.click(),window.URL.revokeObjectURL(f)},l=()=>{const u=[["Weather Forecast Report"],[`Location: ${r}`],[`Generated: ${new Date().toLocaleDateString()}`],[""],["Date","High (F)","Low (F)","Wind (mph)","Precipitation (in)","ET (inches)","ET Sum (inches)"],...e.map(x=>[x.date,x.high,x.low,x.wind,x.precipitation.toFixed(3),x.et0.toFixed(3),x.et0Sum.toFixed(3)])].map(x=>x.join(",")).join(`
`),h=new Blob([u],{type:"text/csv"}),f=window.URL.createObjectURL(h),g=document.createElement("a");g.href=f,g.download=`weather-forecast-${r.replace(/[^a-zA-Z0-9]/g,"-")}.xlsx`,g.click(),window.URL.revokeObjectURL(f)};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center",children:[c.jsx(C4,{className:"w-5 h-5 mr-2"}),"Comprehensive Weather Report"]}),c.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["14-day forecast for ",r]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs("button",{onClick:i,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[c.jsx(j4,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),c.jsxs("button",{onClick:l,className:"flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[c.jsx(A4,{className:"w-4 h-4 mr-2"}),"Export Excel"]})]})]})}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Precipitation Forecast (14 Days)"}),c.jsx("div",{className:"h-96",children:c.jsx(nf,{data:t,options:a})})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Evapotranspiration (ET) Forecast"}),c.jsx("div",{className:"h-96",children:c.jsx(SN,{data:n,options:a})})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"14-Day Forecast Data"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"DATE"}),c.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"HIGH (F)"}),c.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"LOW (F)"}),c.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"WIND (MPH)"}),c.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"PRECIP (IN)"}),c.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"ET (INCHES)"}),c.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"ET SUM (INCHES)"})]})}),c.jsx("tbody",{children:e.map((u,h)=>c.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[c.jsx("td",{className:"py-3 px-4 text-white font-medium",children:new Date(u.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),c.jsxs("td",{className:"py-3 px-4 text-white",children:[u.high,""]}),c.jsxs("td",{className:"py-3 px-4 text-gray-300",children:[u.low,""]}),c.jsx("td",{className:"py-3 px-4 text-gray-300",children:u.wind}),c.jsx("td",{className:"py-3 px-4 text-gray-300",children:u.precipitation.toFixed(2)}),c.jsx("td",{className:"py-3 px-4 text-gray-300",children:u.et0.toFixed(3)}),c.jsx("td",{className:"py-3 px-4 text-gray-300",children:u.et0Sum.toFixed(3)})]},h))})]})})]})]})},Rg=[{id:"arvin-ca",name:"Arvin, California",latitude:35.1975,longitude:-118.7906},{id:"fresno-ca",name:"Fresno, California",latitude:36.8122,longitude:-119.7515},{id:"twin-rivers-ca",name:"Twin Rivers, California",latitude:37.638,longitude:-121.1693},{id:"cortena-ca",name:"Cortena, California",latitude:39.2143,longitude:-122.1738},{id:"oakville-ca",name:"Oakville, California",latitude:38.4377,longitude:-122.4016},{id:"salinas-ca",name:"Salinas, California",latitude:36.6394,longitude:-121.5372},{id:"callender-ca",name:"Callender, California",latitude:35.0334,longitude:-120.5721}],pL=({onLocationSelect:r,selectedLocationId:e})=>{const{locations:t,favorites:n,addLocation:a,removeLocation:i,toggleFavorite:l,refreshLocation:u,refreshAllLocations:h,loading:f}=ku(),[g,x]=I.useState(!1),[y,v]=I.useState(!1),[w,_]=I.useState(new Set),[S,E]=I.useState({name:"",latitude:"",longitude:""}),N=()=>{const O=parseFloat(S.latitude),Q=parseFloat(S.longitude);if(isNaN(O)||isNaN(Q)||!S.name.trim()){alert("Please enter valid location data");return}if(O<-90||O>90||Q<-180||Q>180){alert("Invalid coordinates. Latitude: -90 to 90, Longitude: -180 to 180");return}a({name:S.name.trim(),latitude:O,longitude:Q}),E({name:"",latitude:"",longitude:""}),x(!1)},T=async()=>{try{const O=await new Promise((Q,W)=>{navigator.geolocation.getCurrentPosition(Q,W)});a({name:"Current Location",latitude:O.coords.latitude,longitude:O.coords.longitude})}catch(O){console.error("Error getting current location:",O),alert("Could not get your current location")}},M=O=>{_(Q=>{const W=new Set(Q);return W.has(O)?W.delete(O):W.add(O),W})},C=()=>{const O=Rg.map(Q=>Q.id);_(new Set(O))},V=()=>{_(new Set)},D=()=>{const O=Rg.filter(Z=>w.has(Z.id)),Q=t.map(Z=>Z.name.toLowerCase()),W=O.filter(Z=>!Q.includes(Z.name.toLowerCase()));if(W.length===0){alert("All selected locations are already added!");return}W.forEach(Z=>{a({name:Z.name,latitude:Z.latitude,longitude:Z.longitude})}),_(new Set),v(!1),alert(`Added ${W.length} new location${W.length!==1?"s":""}!`)},Y=({location:O})=>{const Q=e===O.id,W=O.weatherData?.daily?{precipitation:O.weatherData.daily.precipitation_sum[0]||0,et0:O.weatherData.daily.et0_fao_evapotranspiration[0]||0}:null;return c.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${Q?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"} bg-white dark:bg-gray-800`,onClick:()=>r?.(O),children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(xn,{className:"h-4 w-4 text-gray-500"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:O.name})]}),c.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:[O.latitude.toFixed(4),", ",O.longitude.toFixed(4)]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:Z=>{Z.stopPropagation(),l(O.id)},className:`p-1 rounded ${O.isFavorite?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"}`,children:c.jsx(gl,{className:`h-4 w-4 ${O.isFavorite?"fill-current":""}`})}),c.jsx("button",{onClick:Z=>{Z.stopPropagation(),u(O.id)},disabled:O.loading,className:"p-1 rounded text-gray-400 hover:text-blue-500",children:c.jsx(Fi,{className:`h-4 w-4 ${O.loading?"animate-spin":""}`})}),c.jsx("button",{onClick:Z=>{Z.stopPropagation(),i(O.id)},className:"p-1 rounded text-gray-400 hover:text-red-500",children:c.jsx(Xs,{className:"h-4 w-4"})})]})]}),O.error&&c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mb-2",children:O.error}),W&&c.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Precipitation"}),c.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[W.precipitation.toFixed(2)," in"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ET"}),c.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[(W.et0*.0393701).toFixed(3)," inches"]})]})]}),O.lastUpdated&&c.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Updated: ",new Date(O.lastUpdated).toLocaleTimeString()]})]})};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Manage Locations"}),c.jsxs("button",{onClick:h,disabled:f,className:"gh-btn text-sm",children:[c.jsx(Fi,{className:`h-4 w-4 mr-1 ${f?"animate-spin":""}`}),"Refresh All"]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("button",{onClick:()=>x(!g),className:"gh-btn gh-btn-primary text-sm w-full",children:[c.jsx(ss,{className:"h-4 w-4 mr-1"}),"Add Location"]}),c.jsxs("button",{onClick:()=>v(!y),className:"gh-btn text-sm w-full",children:[c.jsx(dx,{className:"h-4 w-4 mr-1"}),"CA Defaults"]})]})]}),g&&c.jsxs("div",{className:"p-4 border border-blue-200 dark:border-blue-700 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Add New Location"}),c.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Hr,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{type:"text",placeholder:"Location name (e.g., New York, NY)",value:S.name,onChange:O=>E(Q=>({...Q,name:O.target.value})),className:"gh-input w-full"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx("input",{type:"number",step:"any",placeholder:"Latitude",value:S.latitude,onChange:O=>E(Q=>({...Q,latitude:O.target.value})),className:"gh-input w-full"}),c.jsx("input",{type:"number",step:"any",placeholder:"Longitude",value:S.longitude,onChange:O=>E(Q=>({...Q,longitude:O.target.value})),className:"gh-input w-full"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:N,className:"gh-btn gh-btn-primary text-sm flex-1",children:"Add Location"}),c.jsxs("button",{onClick:T,className:"gh-btn text-sm",children:[c.jsx(xn,{className:"h-4 w-4 mr-1"}),"Use Current"]})]})]})]}),y&&c.jsxs("div",{className:"p-4 border border-green-200 dark:border-green-700 rounded-lg bg-green-50 dark:bg-green-900/20 mt-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"California Default Locations"}),c.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Hr,{className:"h-4 w-4"})})]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Select common California locations to add to your weather tracking:"}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsx("button",{onClick:C,className:"gh-btn text-xs",children:"Select All"}),c.jsx("button",{onClick:V,className:"gh-btn text-xs",children:"Select None"})]}),c.jsx("div",{className:"space-y-2 mb-4 max-h-48 overflow-y-auto",children:Rg.map(O=>{const Q=w.has(O.id),W=t.some(Z=>Z.name.toLowerCase()===O.name.toLowerCase());return c.jsx("div",{className:`flex items-center justify-between p-2 rounded border ${W?"bg-gray-100 dark:bg-gray-700 border-gray-200 dark:border-gray-600 opacity-60":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-750"}`,children:c.jsxs("div",{className:"flex items-center flex-1",children:[c.jsx("button",{onClick:()=>!W&&M(O.id),disabled:W,className:`mr-3 ${W?"cursor-not-allowed":"cursor-pointer"}`,children:Q?c.jsx(dx,{className:"h-4 w-4 text-green-600"}):c.jsx(R4,{className:"h-4 w-4 text-gray-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[O.name,W&&c.jsx("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:"(Already added)"})]}),c.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:[O.latitude.toFixed(4),", ",O.longitude.toFixed(4)]})]})]})},O.id)})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[w.size," location",w.size!==1?"s":""," selected"]}),c.jsxs("button",{onClick:D,disabled:w.size===0,className:"gh-btn gh-btn-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:["Add Selected (",w.size,")"]})]})]}),n.length>0&&c.jsxs("div",{children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center",children:[c.jsx(gl,{className:"h-4 w-4 mr-1 text-yellow-500 fill-current"}),"Favorites (",n.length,")"]}),c.jsx("div",{className:"space-y-2",children:n.map(O=>c.jsx(Y,{location:O},O.id))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"All Locations"}),c.jsx("div",{className:"space-y-2",children:t.map(O=>c.jsx(Y,{location:O},O.id))})]}),t.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[c.jsx(xn,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),c.jsx("p",{children:"No locations added yet"}),c.jsx("p",{className:"text-sm",children:"Add a location to get started"})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var af={};af.version="0.18.5";var EN=1252,yL=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],kN=function(r){yL.indexOf(r)!=-1&&(EN=r)};function vL(){kN(1252)}var gu=function(r){kN(r)};function bL(){gu(1200),vL()}var Nh=function(e){return String.fromCharCode(e)},Zw=function(e){return String.fromCharCode(e)},sf,Gs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function xu(r){for(var e="",t=0,n=0,a=0,i=0,l=0,u=0,h=0,f=0;f<r.length;)t=r.charCodeAt(f++),i=t>>2,n=r.charCodeAt(f++),l=(t&3)<<4|n>>4,a=r.charCodeAt(f++),u=(n&15)<<2|a>>6,h=a&63,isNaN(n)?u=h=64:isNaN(a)&&(h=64),e+=Gs.charAt(i)+Gs.charAt(l)+Gs.charAt(u)+Gs.charAt(h);return e}function us(r){var e="",t=0,n=0,a=0,i=0,l=0,u=0,h=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<r.length;)i=Gs.indexOf(r.charAt(f++)),l=Gs.indexOf(r.charAt(f++)),t=i<<2|l>>4,e+=String.fromCharCode(t),u=Gs.indexOf(r.charAt(f++)),n=(l&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(n)),h=Gs.indexOf(r.charAt(f++)),a=(u&3)<<6|h,h!==64&&(e+=String.fromCharCode(a));return e}var kt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),ms=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Yi(r){return kt?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function e2(r){return kt?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var ha=function(e){return kt?ms(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Lf(r){if(typeof ArrayBuffer>"u")return ha(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function Du(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function _L(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var Ur=kt?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:ms(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),a=0;for(e=0,t=0;e<r.length;t+=a,++e)if(a=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function wL(r){for(var e=[],t=0,n=r.length+250,a=Yi(r.length+255),i=0;i<r.length;++i){var l=r.charCodeAt(i);if(l<128)a[t++]=l;else if(l<2048)a[t++]=192|l>>6&31,a[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=r.charCodeAt(++i)&1023;a[t++]=240|l>>8&7,a[t++]=128|l>>2&63,a[t++]=128|u>>6&15|(l&3)<<4,a[t++]=128|u&63}else a[t++]=224|l>>12&15,a[t++]=128|l>>6&63,a[t++]=128|l&63;t>n&&(e.push(a.slice(0,t)),t=0,a=Yi(65535),n=65530)}return e.push(a.slice(0,t)),Ur(e)}var Xc=/\u0000/g,Eh=/[\u0001-\u0006]/g;function ll(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function fa(r,e){var t=""+r;return t.length>=e?t:lr("0",e-t.length)+t}function vp(r,e){var t=""+r;return t.length>=e?t:lr(" ",e-t.length)+t}function of(r,e){var t=""+r;return t.length>=e?t:t+lr(" ",e-t.length)}function SL(r,e){var t=""+Math.round(r);return t.length>=e?t:lr("0",e-t.length)+t}function NL(r,e){var t=""+r;return t.length>=e?t:lr("0",e-t.length)+t}var t2=Math.pow(2,32);function Jo(r,e){if(r>t2||r<-t2)return SL(r,e);var t=Math.round(r);return NL(t,e)}function lf(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var r2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Dg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function EL(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var ur={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},n2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},kL={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function cf(r,e,t){for(var n=r<0?-1:1,a=r*n,i=0,l=1,u=0,h=1,f=0,g=0,x=Math.floor(a);f<e&&(x=Math.floor(a),u=x*l+i,g=x*f+h,!(a-x<5e-8));)a=1/(a-x),i=l,l=u,h=f,f=g;if(g>e&&(f>e?(g=h,u=i):(g=f,u=l)),!t)return[0,n*u,g];var y=Math.floor(n*u/g);return[y,n*u-y*g,g]}function kh(r,e,t){if(r>2958465||r<0)return null;var n=r|0,a=Math.floor(86400*(r-n)),i=0,l=[],u={D:n,T:a,u:86400*(r-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++a==86400&&(u.T=a=0,++n,++u.D)),n===60)l=t?[1317,10,29]:[1900,2,29],i=3;else if(n===0)l=t?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var h=new Date(1900,0,1);h.setDate(h.getDate()+n-1),l=[h.getFullYear(),h.getMonth()+1,h.getDate()],i=h.getDay(),n<60&&(i=(i+6)%7),t&&(i=DL(h,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=a%60,a=Math.floor(a/60),u.M=a%60,a=Math.floor(a/60),u.H=a,u.q=i,u}var TN=new Date(1899,11,31,0,0,0),TL=TN.getTime(),jL=new Date(1900,2,1,0,0,0);function jN(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=jL&&(t+=1440*60*1e3),(t-(TL+(r.getTimezoneOffset()-TN.getTimezoneOffset())*6e4))/(1440*60*1e3)}function bp(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function AL(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function CL(r){var e=r<0?12:11,t=bp(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function OL(r){var e=bp(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function RL(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=CL(r):e===10?t=r.toFixed(10).substr(0,12):t=OL(r),bp(AL(t.toUpperCase()))}function vx(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):RL(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return ei(14,jN(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function DL(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function ML(r,e,t,n){var a="",i=0,l=0,u=t.y,h,f=0;switch(r){case 98:u=t.y+543;case 121:switch(e.length){case 1:case 2:h=u%100,f=2;break;default:h=u%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:h=t.m,f=e.length;break;case 3:return Dg[t.m-1][1];case 5:return Dg[t.m-1][0];default:return Dg[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=t.d,f=e.length;break;case 3:return r2[t.q][0];default:return r2[t.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(t.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=t.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=t.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?fa(t.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,i=Math.round(l*(t.S+t.u)),i>=60*l&&(i=0),e==="s"?i===0?"0":""+i/l:(a=fa(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=t.D*24+t.H;break;case"[m]":case"[mm]":h=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":h=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:h=u,f=1;break}var g=f>0?fa(h,f):"";return g}function Ys(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var AN=/%/g;function FL(r,e,t){var n=e.replace(AN,""),a=e.length-n.length;return is(r,n,t*Math.pow(10,2*a))+lr("%",a)}function LL(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return is(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function CN(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+CN(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),t=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),t.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+i):t+="E+"+(l-i);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,f,g){return h+f+g.substr(0,(a+i)%a)+"."+g.substr(i)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var ON=/# (\?+)( ?)\/( ?)(\d+)/;function PL(r,e,t){var n=parseInt(r[4],10),a=Math.round(e*n),i=Math.floor(a/n),l=a-i*n,u=n;return t+(i===0?"":""+i)+" "+(l===0?lr(" ",r[1].length+1+r[4].length):vp(l,r[1].length)+r[2]+"/"+r[3]+fa(u,r[4].length))}function IL(r,e,t){return t+(e===0?"":""+e)+lr(" ",r[1].length+2+r[4].length)}var RN=/^#*0*\.([0#]+)/,DN=/\).*[0#]/,MN=/\(###\) ###\\?-####/;function en(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function a2(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function s2(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function BL(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function UL(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Yn(r,e,t){if(r.charCodeAt(0)===40&&!e.match(DN)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Yn("n",n,t):"("+Yn("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return LL(r,e,t);if(e.indexOf("%")!==-1)return FL(r,e,t);if(e.indexOf("E")!==-1)return CN(e,t);if(e.charCodeAt(0)===36)return"$"+Yn(r,e.substr(e.charAt(1)==" "?2:1),t);var a,i,l,u,h=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+Jo(h,e.length);if(e.match(/^[#?]+$/))return a=Jo(t,0),a==="0"&&(a=""),a.length>e.length?a:en(e.substr(0,e.length-a.length))+a;if(i=e.match(ON))return PL(i,h,f);if(e.match(/^#+0+$/))return f+Jo(h,e.length-e.indexOf("0"));if(i=e.match(RN))return a=a2(t,i[1].length).replace(/^([^\.]+)$/,"$1."+en(i[1])).replace(/\.$/,"."+en(i[1])).replace(/\.(\d*)$/,function(w,_){return"."+_+lr("0",en(i[1]).length-_.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return f+a2(h,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return f+Ys(Jo(h,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Yn(r,e,-t):Ys(""+(Math.floor(t)+BL(t,i[1].length)))+"."+fa(s2(t,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return Yn(r,e.replace(/^#,#*,/,""),t);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ll(Yn(r,e.replace(/[\\-]/g,""),t)),l=0,ll(ll(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return l<a.length?a.charAt(l++):w==="0"?"0":""}));if(e.match(MN))return a=Yn(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var g="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),u=cf(h,Math.pow(10,l)-1,!1),a=""+f,g=is("n",i[1],u[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),a+=g+i[2]+"/"+i[3],g=of(u[2],l),g.length<i[4].length&&(g=en(i[4].substr(i[4].length-g.length))+g),a+=g,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),u=cf(h,Math.pow(10,l)-1,!0),f+(u[0]||(u[1]?"":"0"))+" "+(u[1]?vp(u[1],l)+i[2]+"/"+i[3]+of(u[2],l):lr(" ",2*l+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=Jo(t,0),e.length<=a.length?a:en(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var x=e.indexOf(".")-l,y=e.length-a.length-x;return en(e.substr(0,x)+a+e.substr(e.length-y))}if(i=e.match(/^00,000\.([#0]*0)$/))return l=s2(t,i[1].length),t<0?"-"+Yn(r,e,-t):Ys(UL(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?fa(0,3-w.length):"")+w})+"."+fa(l,i[1].length);switch(e){case"###,##0.00":return Yn(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var v=Ys(Jo(h,0));return v!=="0"?f+v:"";case"###,###.00":return Yn(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Yn(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function zL(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return is(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function HL(r,e,t){var n=e.replace(AN,""),a=e.length-n.length;return is(r,n,t*Math.pow(10,2*a))+lr("%",a)}function FN(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+FN(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),t=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!t.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+i):t+="E+"+(l-i),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,f,g){return h+f+g.substr(0,(a+i)%a)+"."+g.substr(i)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function ka(r,e,t){if(r.charCodeAt(0)===40&&!e.match(DN)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ka("n",n,t):"("+ka("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return zL(r,e,t);if(e.indexOf("%")!==-1)return HL(r,e,t);if(e.indexOf("E")!==-1)return FN(e,t);if(e.charCodeAt(0)===36)return"$"+ka(r,e.substr(e.charAt(1)==" "?2:1),t);var a,i,l,u,h=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+fa(h,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:en(e.substr(0,e.length-a.length))+a;if(i=e.match(ON))return IL(i,h,f);if(e.match(/^#+0+$/))return f+fa(h,e.length-e.indexOf("0"));if(i=e.match(RN))return a=(""+t).replace(/^([^\.]+)$/,"$1."+en(i[1])).replace(/\.$/,"."+en(i[1])),a=a.replace(/\.(\d*)$/,function(w,_){return"."+_+lr("0",en(i[1]).length-_.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return f+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return f+Ys(""+h);if(i=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ka(r,e,-t):Ys(""+t)+"."+lr("0",i[1].length);if(i=e.match(/^#,#*,#0/))return ka(r,e.replace(/^#,#*,/,""),t);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ll(ka(r,e.replace(/[\\-]/g,""),t)),l=0,ll(ll(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return l<a.length?a.charAt(l++):w==="0"?"0":""}));if(e.match(MN))return a=ka(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var g="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),u=cf(h,Math.pow(10,l)-1,!1),a=""+f,g=is("n",i[1],u[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),a+=g+i[2]+"/"+i[3],g=of(u[2],l),g.length<i[4].length&&(g=en(i[4].substr(i[4].length-g.length))+g),a+=g,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),u=cf(h,Math.pow(10,l)-1,!0),f+(u[0]||(u[1]?"":"0"))+" "+(u[1]?vp(u[1],l)+i[2]+"/"+i[3]+of(u[2],l):lr(" ",2*l+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:en(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var x=e.indexOf(".")-l,y=e.length-a.length-x;return en(e.substr(0,x)+a+e.substr(e.length-y))}if(i=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+ka(r,e,-t):Ys(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?fa(0,3-w.length):"")+w})+"."+fa(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=Ys(""+h);return v!=="0"?f+v:"";default:if(e.match(/\.[0#?]*$/))return ka(r,e.slice(0,e.lastIndexOf(".")),t)+en(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function is(r,e,t){return(t|0)===t?ka(r,e,t):Yn(r,e,t)}function $L(r){for(var e=[],t=!1,n=0,a=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(a,n-a),a=n+1}if(e[e.length]=r.substr(a),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var LN=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function PN(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":lf(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(LN))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function VL(r,e,t,n){for(var a=[],i="",l=0,u="",h="t",f,g,x,y="H";l<r.length;)switch(u=r.charAt(l)){case"G":if(!lf(r,l))throw new Error("unrecognized character "+u+" in "+r);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(x=r.charCodeAt(++l))!==34&&l<r.length;)i+=String.fromCharCode(x);a[a.length]={t:"t",v:i},++l;break;case"\\":var v=r.charAt(++l),w=v==="("||v===")"?v:"t";a[a.length]={t:w,v},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:e},++l;break;case"B":case"b":if(r.charAt(l+1)==="1"||r.charAt(l+1)==="2"){if(f==null&&(f=kh(e,t,r.charAt(l+1)==="2"),f==null))return"";a[a.length]={t:"X",v:r.substr(l,2)},h=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=kh(e,t),f==null))return"";for(i=u;++l<r.length&&r.charAt(l).toLowerCase()===u;)i+=u;u==="m"&&h.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=y),a[a.length]={t:u,v:i},h=u;break;case"A":case"a":case"":var _={t:u,v:u};if(f==null&&(f=kh(e,t)),r.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(_.v=f.H>=12?"P":"A"),_.t="T",y="h",l+=3):r.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(_.v=f.H>=12?"PM":"AM"),_.t="T",l+=5,y="h"):r.substr(l,5).toUpperCase()==="/"?(f!=null&&(_.v=f.H>=12?"":""),_.t="T",l+=5,y="h"):(_.t="t",++l),f==null&&_.t==="T")return"";a[a.length]=_,h=u;break;case"[":for(i=u;r.charAt(l++)!=="]"&&l<r.length;)i+=r.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(LN)){if(f==null&&(f=kh(e,t),f==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},h=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",PN(r)||(a[a.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=u;++l<r.length&&(u=r.charAt(l))==="0";)i+=u;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=u;++l<r.length&&"0#?.,E+-%".indexOf(u=r.charAt(l))>-1;)i+=u;a[a.length]={t:"n",v:i};break;case"?":for(i=u;r.charAt(++l)===u;)i+=u;a[a.length]={t:u,v:i},h=u;break;case"*":++l,(r.charAt(l)==" "||r.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:n===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=u;l<r.length&&"0123456789".indexOf(r.charAt(++l))>-1;)i+=r.charAt(l);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:u,v:u},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+r);a[a.length]={t:"t",v:u},++l;break}var S=0,E=0,N;for(l=a.length-1,h="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=y,h="h",S<1&&(S=1);break;case"s":(N=a[l].v.match(/\.0+$/))&&(E=Math.max(E,N[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":h=a[l].t;break;case"m":h==="s"&&(a[l].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&a[l].v.match(/[Hh]/)&&(S=1),S<2&&a[l].v.match(/[Mm]/)&&(S=2),S<3&&a[l].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var T="",M;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=ML(a[l].t.charCodeAt(0),a[l].v,f,E),a[l].t="t";break;case"n":case"?":for(M=l+1;a[M]!=null&&((u=a[M].t)==="?"||u==="D"||(u===" "||u==="t")&&a[M+1]!=null&&(a[M+1].t==="?"||a[M+1].t==="t"&&a[M+1].v==="/")||a[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(a[M].v==="/"||a[M].v===" "&&a[M+1]!=null&&a[M+1].t=="?"));)a[l].v+=a[M].v,a[M]={v:"",t:";"},++M;T+=a[l].v,l=M-1;break;case"G":a[l].t="t",a[l].v=vx(e,t);break}var C="",V,D;if(T.length>0){T.charCodeAt(0)==40?(V=e<0&&T.charCodeAt(0)===45?-e:e,D=is("n",T,V)):(V=e<0&&n>1?-e:e,D=is("n",T,V),V<0&&a[0]&&a[0].t=="t"&&(D=D.substr(1),a[0].v="-"+a[0].v)),M=D.length-1;var Y=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){Y=l;break}var O=a.length;if(Y===a.length&&D.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(M>=a[l].v.length-1?(M-=a[l].v.length,a[l].v=D.substr(M+1,a[l].v.length)):M<0?a[l].v="":(a[l].v=D.substr(0,M+1),M=-1),a[l].t="t",O=l);M>=0&&O<a.length&&(a[O].v=D.substr(0,M+1)+a[O].v)}else if(Y!==a.length&&D.indexOf("E")===-1){for(M=D.indexOf(".")-1,l=Y;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(g=a[l].v.indexOf(".")>-1&&l===Y?a[l].v.indexOf(".")-1:a[l].v.length-1,C=a[l].v.substr(g+1);g>=0;--g)M>=0&&(a[l].v.charAt(g)==="0"||a[l].v.charAt(g)==="#")&&(C=D.charAt(M--)+C);a[l].v=C,a[l].t="t",O=l}for(M>=0&&O<a.length&&(a[O].v=D.substr(0,M+1)+a[O].v),M=D.indexOf(".")+1,l=Y;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==Y)){for(g=a[l].v.indexOf(".")>-1&&l===Y?a[l].v.indexOf(".")+1:0,C=a[l].v.substr(0,g);g<a[l].v.length;++g)M<D.length&&(C+=D.charAt(M++));a[l].v=C,a[l].t="t",O=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(V=n>1&&e<0&&l>0&&a[l-1].v==="-"?-e:e,a[l].v=is(a[l].t,a[l].v,V),a[l].t="t");var Q="";for(l=0;l!==a.length;++l)a[l]!=null&&(Q+=a[l].v);return Q}var i2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function o2(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function WL(r,e){var t=$L(r),n=t.length,a=t[n-1].indexOf("@");if(n<4&&a>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var i=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,i];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(i2),u=t[1].match(i2);return o2(e,l)?[n,t[0]]:o2(e,u)?[n,t[1]]:[n,t[l!=null&&u!=null?2:1]]}return[n,i]}function ei(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:ur)[r],n==null&&(n=t.table&&t.table[n2[r]]||ur[n2[r]]),n==null&&(n=kL[r]||"General");break}if(lf(n,0))return vx(e,t);e instanceof Date&&(e=jN(e,t.date1904));var a=WL(n,e);if(lf(a[1]))return vx(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return VL(a[1],e,t,a[0])}function IN(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(ur[t]==null){e<0&&(e=t);continue}if(ur[t]==r){e=t;break}}e<0&&(e=391)}return ur[e]=r,e}function Pf(r){for(var e=0;e!=392;++e)r[e]!==void 0&&IN(r[e],e)}function If(){ur=EL()}var BN=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function qL(r){var e=typeof r=="number"?ur[r]:r;return e=e.replace(BN,"(\\d+)"),new RegExp("^"+e+"$")}function GL(r,e,t){var n=-1,a=-1,i=-1,l=-1,u=-1,h=-1;(e.match(BN)||[]).forEach(function(x,y){var v=parseInt(t[y+1],10);switch(x.toLowerCase().charAt(0)){case"y":n=v;break;case"d":i=v;break;case"h":l=v;break;case"s":h=v;break;case"m":l>=0?u=v:a=v;break}}),h>=0&&u==-1&&a>=0&&(u=a,a=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var g=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return l==-1&&u==-1&&h==-1?f:n==-1&&a==-1&&i==-1?g:f+"T"+g}var YL=(function(){var r={};r.version="1.2.0";function e(){for(var D=0,Y=new Array(256),O=0;O!=256;++O)D=O,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,Y[O]=D;return typeof Int32Array<"u"?new Int32Array(Y):Y}var t=e();function n(D){var Y=0,O=0,Q=0,W=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Q=0;Q!=256;++Q)W[Q]=D[Q];for(Q=0;Q!=256;++Q)for(O=D[Q],Y=256+Q;Y<4096;Y+=256)O=W[Y]=O>>>8^D[O&255];var Z=[];for(Q=1;Q!=16;++Q)Z[Q-1]=typeof Int32Array<"u"?W.subarray(Q*256,Q*256+256):W.slice(Q*256,Q*256+256);return Z}var a=n(t),i=a[0],l=a[1],u=a[2],h=a[3],f=a[4],g=a[5],x=a[6],y=a[7],v=a[8],w=a[9],_=a[10],S=a[11],E=a[12],N=a[13],T=a[14];function M(D,Y){for(var O=Y^-1,Q=0,W=D.length;Q<W;)O=O>>>8^t[(O^D.charCodeAt(Q++))&255];return~O}function C(D,Y){for(var O=Y^-1,Q=D.length-15,W=0;W<Q;)O=T[D[W++]^O&255]^N[D[W++]^O>>8&255]^E[D[W++]^O>>16&255]^S[D[W++]^O>>>24]^_[D[W++]]^w[D[W++]]^v[D[W++]]^y[D[W++]]^x[D[W++]]^g[D[W++]]^f[D[W++]]^h[D[W++]]^u[D[W++]]^l[D[W++]]^i[D[W++]]^t[D[W++]];for(Q+=15;W<Q;)O=O>>>8^t[(O^D[W++])&255];return~O}function V(D,Y){for(var O=Y^-1,Q=0,W=D.length,Z=0,xe=0;Q<W;)Z=D.charCodeAt(Q++),Z<128?O=O>>>8^t[(O^Z)&255]:Z<2048?(O=O>>>8^t[(O^(192|Z>>6&31))&255],O=O>>>8^t[(O^(128|Z&63))&255]):Z>=55296&&Z<57344?(Z=(Z&1023)+64,xe=D.charCodeAt(Q++)&1023,O=O>>>8^t[(O^(240|Z>>8&7))&255],O=O>>>8^t[(O^(128|Z>>2&63))&255],O=O>>>8^t[(O^(128|xe>>6&15|(Z&3)<<4))&255],O=O>>>8^t[(O^(128|xe&63))&255]):(O=O>>>8^t[(O^(224|Z>>12&15))&255],O=O>>>8^t[(O^(128|Z>>6&63))&255],O=O>>>8^t[(O^(128|Z&63))&255]);return~O}return r.table=t,r.bstr=M,r.buf=C,r.str=V,r})(),zt=(function(){var e={};e.version="1.2.1";function t(j,U){for(var L=j.split("/"),P=U.split("/"),B=0,z=0,ce=Math.min(L.length,P.length);B<ce;++B){if(z=L[B].length-P[B].length)return z;if(L[B]!=P[B])return L[B]<P[B]?-1:1}return L.length-P.length}function n(j){if(j.charAt(j.length-1)=="/")return j.slice(0,-1).indexOf("/")===-1?j:n(j.slice(0,-1));var U=j.lastIndexOf("/");return U===-1?j:j.slice(0,U+1)}function a(j){if(j.charAt(j.length-1)=="/")return a(j.slice(0,-1));var U=j.lastIndexOf("/");return U===-1?j:j.slice(U+1)}function i(j,U){typeof U=="string"&&(U=new Date(U));var L=U.getHours();L=L<<6|U.getMinutes(),L=L<<5|U.getSeconds()>>>1,j.write_shift(2,L);var P=U.getFullYear()-1980;P=P<<4|U.getMonth()+1,P=P<<5|U.getDate(),j.write_shift(2,P)}function l(j){var U=j.read_shift(2)&65535,L=j.read_shift(2)&65535,P=new Date,B=L&31;L>>>=5;var z=L&15;L>>>=4,P.setMilliseconds(0),P.setFullYear(L+1980),P.setMonth(z-1),P.setDate(B);var ce=U&31;U>>>=5;var ve=U&63;return U>>>=6,P.setHours(U),P.setMinutes(ve),P.setSeconds(ce<<1),P}function u(j){An(j,0);for(var U={},L=0;j.l<=j.length-4;){var P=j.read_shift(2),B=j.read_shift(2),z=j.l+B,ce={};switch(P){case 21589:L=j.read_shift(1),L&1&&(ce.mtime=j.read_shift(4)),B>5&&(L&2&&(ce.atime=j.read_shift(4)),L&4&&(ce.ctime=j.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}j.l=z,U[P]=ce}return U}var h;function f(){return h||(h={})}function g(j,U){if(j[0]==80&&j[1]==75)return si(j,U);if((j[0]|32)==109&&(j[1]|32)==105)return oi(j,U);if(j.length<512)throw new Error("CFB file size "+j.length+" < 512");var L=3,P=512,B=0,z=0,ce=0,ve=0,ue=0,de=[],fe=j.slice(0,512);An(fe,0);var Ae=x(fe);switch(L=Ae[0],L){case 3:P=512;break;case 4:P=4096;break;case 0:if(Ae[1]==0)return si(j,U);default:throw new Error("Major Version: Expected 3 or 4 saw "+L)}P!==512&&(fe=j.slice(0,P),An(fe,28));var Re=j.slice(0,P);y(fe,L);var Ie=fe.read_shift(4,"i");if(L===3&&Ie!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ie);fe.l+=4,ce=fe.read_shift(4,"i"),fe.l+=4,fe.chk("00100000","Mini Stream Cutoff Size: "),ve=fe.read_shift(4,"i"),B=fe.read_shift(4,"i"),ue=fe.read_shift(4,"i"),z=fe.read_shift(4,"i");for(var Ce=-1,Le=0;Le<109&&(Ce=fe.read_shift(4,"i"),!(Ce<0));++Le)de[Le]=Ce;var He=v(j,P);S(ue,z,He,P,de);var Wt=N(He,ce,de,P);Wt[ce].name="!Directory",B>0&&ve!==xe&&(Wt[ve].name="!MiniFAT"),Wt[de[0]].name="!FAT",Wt.fat_addrs=de,Wt.ssz=P;var qt={},er=[],Ln=[],li=[];T(ce,Wt,He,er,B,qt,Ln,ve),w(Ln,li,er),er.shift();var gs={FileIndex:Ln,FullPaths:li};return U&&U.raw&&(gs.raw={header:Re,sectors:He}),gs}function x(j){if(j[j.l]==80&&j[j.l+1]==75)return[0,0];j.chk(Fe,"Header Signature: "),j.l+=16;var U=j.read_shift(2,"u");return[j.read_shift(2,"u"),U]}function y(j,U){var L=9;switch(j.l+=2,L=j.read_shift(2)){case 9:if(U!=3)throw new Error("Sector Shift: Expected 9 saw "+L);break;case 12:if(U!=4)throw new Error("Sector Shift: Expected 12 saw "+L);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+L)}j.chk("0600","Mini Sector Shift: "),j.chk("000000000000","Reserved: ")}function v(j,U){for(var L=Math.ceil(j.length/U)-1,P=[],B=1;B<L;++B)P[B-1]=j.slice(B*U,(B+1)*U);return P[L-1]=j.slice(L*U),P}function w(j,U,L){for(var P=0,B=0,z=0,ce=0,ve=0,ue=L.length,de=[],fe=[];P<ue;++P)de[P]=fe[P]=P,U[P]=L[P];for(;ve<fe.length;++ve)P=fe[ve],B=j[P].L,z=j[P].R,ce=j[P].C,de[P]===P&&(B!==-1&&de[B]!==B&&(de[P]=de[B]),z!==-1&&de[z]!==z&&(de[P]=de[z])),ce!==-1&&(de[ce]=P),B!==-1&&P!=de[P]&&(de[B]=de[P],fe.lastIndexOf(B)<ve&&fe.push(B)),z!==-1&&P!=de[P]&&(de[z]=de[P],fe.lastIndexOf(z)<ve&&fe.push(z));for(P=1;P<ue;++P)de[P]===P&&(z!==-1&&de[z]!==z?de[P]=de[z]:B!==-1&&de[B]!==B&&(de[P]=de[B]));for(P=1;P<ue;++P)if(j[P].type!==0){if(ve=P,ve!=de[ve])do ve=de[ve],U[P]=U[ve]+"/"+U[P];while(ve!==0&&de[ve]!==-1&&ve!=de[ve]);de[P]=-1}for(U[0]+="/",P=1;P<ue;++P)j[P].type!==2&&(U[P]+="/")}function _(j,U,L){for(var P=j.start,B=j.size,z=[],ce=P;L&&B>0&&ce>=0;)z.push(U.slice(ce*Z,ce*Z+Z)),B-=Z,ce=Li(L,ce*4);return z.length===0?pe(0):Ur(z).slice(0,j.size)}function S(j,U,L,P,B){var z=xe;if(j===xe){if(U!==0)throw new Error("DIFAT chain shorter than expected")}else if(j!==-1){var ce=L[j],ve=(P>>>2)-1;if(!ce)return;for(var ue=0;ue<ve&&(z=Li(ce,ue*4))!==xe;++ue)B.push(z);S(Li(ce,P-4),U-1,L,P,B)}}function E(j,U,L,P,B){var z=[],ce=[];B||(B=[]);var ve=P-1,ue=0,de=0;for(ue=U;ue>=0;){B[ue]=!0,z[z.length]=ue,ce.push(j[ue]);var fe=L[Math.floor(ue*4/P)];if(de=ue*4&ve,P<4+de)throw new Error("FAT boundary crossed: "+ue+" 4 "+P);if(!j[fe])break;ue=Li(j[fe],de)}return{nodes:z,data:g2([ce])}}function N(j,U,L,P){var B=j.length,z=[],ce=[],ve=[],ue=[],de=P-1,fe=0,Ae=0,Re=0,Ie=0;for(fe=0;fe<B;++fe)if(ve=[],Re=fe+U,Re>=B&&(Re-=B),!ce[Re]){ue=[];var Ce=[];for(Ae=Re;Ae>=0;){Ce[Ae]=!0,ce[Ae]=!0,ve[ve.length]=Ae,ue.push(j[Ae]);var Le=L[Math.floor(Ae*4/P)];if(Ie=Ae*4&de,P<4+Ie)throw new Error("FAT boundary crossed: "+Ae+" 4 "+P);if(!j[Le]||(Ae=Li(j[Le],Ie),Ce[Ae]))break}z[Re]={nodes:ve,data:g2([ue])}}return z}function T(j,U,L,P,B,z,ce,ve){for(var ue=0,de=P.length?2:0,fe=U[j].data,Ae=0,Re=0,Ie;Ae<fe.length;Ae+=128){var Ce=fe.slice(Ae,Ae+128);An(Ce,64),Re=Ce.read_shift(2),Ie=Ep(Ce,0,Re-de),P.push(Ie);var Le={name:Ie,type:Ce.read_shift(1),color:Ce.read_shift(1),L:Ce.read_shift(4,"i"),R:Ce.read_shift(4,"i"),C:Ce.read_shift(4,"i"),clsid:Ce.read_shift(16),state:Ce.read_shift(4,"i"),start:0,size:0},He=Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2);He!==0&&(Le.ct=M(Ce,Ce.l-8));var Wt=Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2);Wt!==0&&(Le.mt=M(Ce,Ce.l-8)),Le.start=Ce.read_shift(4,"i"),Le.size=Ce.read_shift(4,"i"),Le.size<0&&Le.start<0&&(Le.size=Le.type=0,Le.start=xe,Le.name=""),Le.type===5?(ue=Le.start,B>0&&ue!==xe&&(U[ue].name="!StreamData")):Le.size>=4096?(Le.storage="fat",U[Le.start]===void 0&&(U[Le.start]=E(L,Le.start,U.fat_addrs,U.ssz)),U[Le.start].name=Le.name,Le.content=U[Le.start].data.slice(0,Le.size)):(Le.storage="minifat",Le.size<0?Le.size=0:ue!==xe&&Le.start!==xe&&U[ue]&&(Le.content=_(Le,U[ue].data,(U[ve]||{}).data))),Le.content&&An(Le.content,0),z[Ie]=Le,ce.push(Le)}}function M(j,U){return new Date((On(j,U+4)/1e7*Math.pow(2,32)+On(j,U)/1e7-11644473600)*1e3)}function C(j,U){return f(),g(h.readFileSync(j),U)}function V(j,U){var L=U&&U.type;switch(L||kt&&Buffer.isBuffer(j)&&(L="buffer"),L||"base64"){case"file":return C(j,U);case"base64":return g(ha(us(j)),U);case"binary":return g(ha(j),U)}return g(j,U)}function D(j,U){var L=U||{},P=L.root||"Root Entry";if(j.FullPaths||(j.FullPaths=[]),j.FileIndex||(j.FileIndex=[]),j.FullPaths.length!==j.FileIndex.length)throw new Error("inconsistent CFB structure");j.FullPaths.length===0&&(j.FullPaths[0]=P+"/",j.FileIndex[0]={name:P,type:5}),L.CLSID&&(j.FileIndex[0].clsid=L.CLSID),Y(j)}function Y(j){var U="Sh33tJ5";if(!zt.find(j,"/"+U)){var L=pe(4);L[0]=55,L[1]=L[3]=50,L[2]=54,j.FileIndex.push({name:U,type:2,content:L,size:4,L:69,R:69,C:69}),j.FullPaths.push(j.FullPaths[0]+U),O(j)}}function O(j,U){D(j);for(var L=!1,P=!1,B=j.FullPaths.length-1;B>=0;--B){var z=j.FileIndex[B];switch(z.type){case 0:P?L=!0:(j.FileIndex.pop(),j.FullPaths.pop());break;case 1:case 2:case 5:P=!0,isNaN(z.R*z.L*z.C)&&(L=!0),z.R>-1&&z.L>-1&&z.R==z.L&&(L=!0);break;default:L=!0;break}}if(!(!L&&!U)){var ce=new Date(1987,1,19),ve=0,ue=Object.create?Object.create(null):{},de=[];for(B=0;B<j.FullPaths.length;++B)ue[j.FullPaths[B]]=!0,j.FileIndex[B].type!==0&&de.push([j.FullPaths[B],j.FileIndex[B]]);for(B=0;B<de.length;++B){var fe=n(de[B][0]);P=ue[fe],P||(de.push([fe,{name:a(fe).replace("/",""),type:1,clsid:te,ct:ce,mt:ce,content:null}]),ue[fe]=!0)}for(de.sort(function(Ie,Ce){return t(Ie[0],Ce[0])}),j.FullPaths=[],j.FileIndex=[],B=0;B<de.length;++B)j.FullPaths[B]=de[B][0],j.FileIndex[B]=de[B][1];for(B=0;B<de.length;++B){var Ae=j.FileIndex[B],Re=j.FullPaths[B];if(Ae.name=a(Re).replace("/",""),Ae.L=Ae.R=Ae.C=-(Ae.color=1),Ae.size=Ae.content?Ae.content.length:0,Ae.start=0,Ae.clsid=Ae.clsid||te,B===0)Ae.C=de.length>1?1:-1,Ae.size=0,Ae.type=5;else if(Re.slice(-1)=="/"){for(ve=B+1;ve<de.length&&n(j.FullPaths[ve])!=Re;++ve);for(Ae.C=ve>=de.length?-1:ve,ve=B+1;ve<de.length&&n(j.FullPaths[ve])!=n(Re);++ve);Ae.R=ve>=de.length?-1:ve,Ae.type=1}else n(j.FullPaths[B+1]||"")==n(Re)&&(Ae.R=B+1),Ae.type=2}}}function Q(j,U){var L=U||{};if(L.fileType=="mad")return Wf(j,L);switch(O(j),L.fileType){case"zip":return io(j,L)}var P=(function(Ie){for(var Ce=0,Le=0,He=0;He<Ie.FileIndex.length;++He){var Wt=Ie.FileIndex[He];if(Wt.content){var qt=Wt.content.length;qt>0&&(qt<4096?Ce+=qt+63>>6:Le+=qt+511>>9)}}for(var er=Ie.FullPaths.length+3>>2,Ln=Ce+7>>3,li=Ce+127>>7,gs=Ln+Le+er+li,ya=gs+127>>7,Ll=ya<=109?0:Math.ceil((ya-109)/127);gs+ya+Ll+127>>7>ya;)Ll=++ya<=109?0:Math.ceil((ya-109)/127);var nn=[1,Ll,ya,li,er,Le,Ce,0];return Ie.FileIndex[0].size=Ce<<6,nn[7]=(Ie.FileIndex[0].start=nn[0]+nn[1]+nn[2]+nn[3]+nn[4]+nn[5])+(nn[6]+7>>3),nn})(j),B=pe(P[7]<<9),z=0,ce=0;{for(z=0;z<8;++z)B.write_shift(1,ke[z]);for(z=0;z<8;++z)B.write_shift(2,0);for(B.write_shift(2,62),B.write_shift(2,3),B.write_shift(2,65534),B.write_shift(2,9),B.write_shift(2,6),z=0;z<3;++z)B.write_shift(2,0);for(B.write_shift(4,0),B.write_shift(4,P[2]),B.write_shift(4,P[0]+P[1]+P[2]+P[3]-1),B.write_shift(4,0),B.write_shift(4,4096),B.write_shift(4,P[3]?P[0]+P[1]+P[2]-1:xe),B.write_shift(4,P[3]),B.write_shift(-4,P[1]?P[0]-1:xe),B.write_shift(4,P[1]),z=0;z<109;++z)B.write_shift(-4,z<P[2]?P[1]+z:-1)}if(P[1])for(ce=0;ce<P[1];++ce){for(;z<236+ce*127;++z)B.write_shift(-4,z<P[2]?P[1]+z:-1);B.write_shift(-4,ce===P[1]-1?xe:ce+1)}var ve=function(Ie){for(ce+=Ie;z<ce-1;++z)B.write_shift(-4,z+1);Ie&&(++z,B.write_shift(-4,xe))};for(ce=z=0,ce+=P[1];z<ce;++z)B.write_shift(-4,ae.DIFSECT);for(ce+=P[2];z<ce;++z)B.write_shift(-4,ae.FATSECT);ve(P[3]),ve(P[4]);for(var ue=0,de=0,fe=j.FileIndex[0];ue<j.FileIndex.length;++ue)fe=j.FileIndex[ue],fe.content&&(de=fe.content.length,!(de<4096)&&(fe.start=ce,ve(de+511>>9)));for(ve(P[6]+7>>3);B.l&511;)B.write_shift(-4,ae.ENDOFCHAIN);for(ce=z=0,ue=0;ue<j.FileIndex.length;++ue)fe=j.FileIndex[ue],fe.content&&(de=fe.content.length,!(!de||de>=4096)&&(fe.start=ce,ve(de+63>>6)));for(;B.l&511;)B.write_shift(-4,ae.ENDOFCHAIN);for(z=0;z<P[4]<<2;++z){var Ae=j.FullPaths[z];if(!Ae||Ae.length===0){for(ue=0;ue<17;++ue)B.write_shift(4,0);for(ue=0;ue<3;++ue)B.write_shift(4,-1);for(ue=0;ue<12;++ue)B.write_shift(4,0);continue}fe=j.FileIndex[z],z===0&&(fe.start=fe.size?fe.start-1:xe);var Re=z===0&&L.root||fe.name;if(de=2*(Re.length+1),B.write_shift(64,Re,"utf16le"),B.write_shift(2,de),B.write_shift(1,fe.type),B.write_shift(1,fe.color),B.write_shift(-4,fe.L),B.write_shift(-4,fe.R),B.write_shift(-4,fe.C),fe.clsid)B.write_shift(16,fe.clsid,"hex");else for(ue=0;ue<4;++ue)B.write_shift(4,0);B.write_shift(4,fe.state||0),B.write_shift(4,0),B.write_shift(4,0),B.write_shift(4,0),B.write_shift(4,0),B.write_shift(4,fe.start),B.write_shift(4,fe.size),B.write_shift(4,0)}for(z=1;z<j.FileIndex.length;++z)if(fe=j.FileIndex[z],fe.size>=4096)if(B.l=fe.start+1<<9,kt&&Buffer.isBuffer(fe.content))fe.content.copy(B,B.l,0,fe.size),B.l+=fe.size+511&-512;else{for(ue=0;ue<fe.size;++ue)B.write_shift(1,fe.content[ue]);for(;ue&511;++ue)B.write_shift(1,0)}for(z=1;z<j.FileIndex.length;++z)if(fe=j.FileIndex[z],fe.size>0&&fe.size<4096)if(kt&&Buffer.isBuffer(fe.content))fe.content.copy(B,B.l,0,fe.size),B.l+=fe.size+63&-64;else{for(ue=0;ue<fe.size;++ue)B.write_shift(1,fe.content[ue]);for(;ue&63;++ue)B.write_shift(1,0)}if(kt)B.l=B.length;else for(;B.l<B.length;)B.write_shift(1,0);return B}function W(j,U){var L=j.FullPaths.map(function(ue){return ue.toUpperCase()}),P=L.map(function(ue){var de=ue.split("/");return de[de.length-(ue.slice(-1)=="/"?2:1)]}),B=!1;U.charCodeAt(0)===47?(B=!0,U=L[0].slice(0,-1)+U):B=U.indexOf("/")!==-1;var z=U.toUpperCase(),ce=B===!0?L.indexOf(z):P.indexOf(z);if(ce!==-1)return j.FileIndex[ce];var ve=!z.match(Eh);for(z=z.replace(Xc,""),ve&&(z=z.replace(Eh,"!")),ce=0;ce<L.length;++ce)if((ve?L[ce].replace(Eh,"!"):L[ce]).replace(Xc,"")==z||(ve?P[ce].replace(Eh,"!"):P[ce]).replace(Xc,"")==z)return j.FileIndex[ce];return null}var Z=64,xe=-2,Fe="d0cf11e0a1b11ae1",ke=[208,207,17,224,161,177,26,225],te="00000000000000000000000000000000",ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:xe,FREESECT:-1,HEADER_SIGNATURE:Fe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:te,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Te(j,U,L){f();var P=Q(j,L);h.writeFileSync(U,P)}function Oe(j){for(var U=new Array(j.length),L=0;L<j.length;++L)U[L]=String.fromCharCode(j[L]);return U.join("")}function We(j,U){var L=Q(j,U);switch(U&&U.type||"buffer"){case"file":return f(),h.writeFileSync(U.filename,L),L;case"binary":return typeof L=="string"?L:Oe(L);case"base64":return xu(typeof L=="string"?L:Oe(L));case"buffer":if(kt)return Buffer.isBuffer(L)?L:ms(L);case"array":return typeof L=="string"?ha(L):L}return L}var K;function R(j){try{var U=j.InflateRaw,L=new U;if(L._processChunk(new Uint8Array([3,0]),L._finishFlushFlag),L.bytesRead)K=j;else throw new Error("zlib does not expose bytesRead")}catch(P){console.error("cannot use native zlib: "+(P.message||P))}}function q(j,U){if(!K)return ao(j,U);var L=K.InflateRaw,P=new L,B=P._processChunk(j.slice(j.l),P._finishFlushFlag);return j.l+=P.bytesRead,B}function H(j){return K?K.deflateRawSync(j):Pt(j)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],J=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Se(j){var U=(j<<1|j<<11)&139536|(j<<5|j<<15)&558144;return(U>>16|U>>8|U)&255}for(var be=typeof Uint8Array<"u",je=be?new Uint8Array(256):[],ft=0;ft<256;++ft)je[ft]=Se(ft);function it(j,U){var L=je[j&255];return U<=8?L>>>8-U:(L=L<<8|je[j>>8&255],U<=16?L>>>16-U:(L=L<<8|je[j>>16&255],L>>>24-U))}function ar(j,U){var L=U&7,P=U>>>3;return(j[P]|(L<=6?0:j[P+1]<<8))>>>L&3}function rt(j,U){var L=U&7,P=U>>>3;return(j[P]|(L<=5?0:j[P+1]<<8))>>>L&7}function oe(j,U){var L=U&7,P=U>>>3;return(j[P]|(L<=4?0:j[P+1]<<8))>>>L&15}function Pe(j,U){var L=U&7,P=U>>>3;return(j[P]|(L<=3?0:j[P+1]<<8))>>>L&31}function Ee(j,U){var L=U&7,P=U>>>3;return(j[P]|(L<=1?0:j[P+1]<<8))>>>L&127}function Xe(j,U,L){var P=U&7,B=U>>>3,z=(1<<L)-1,ce=j[B]>>>P;return L<8-P||(ce|=j[B+1]<<8-P,L<16-P)||(ce|=j[B+2]<<16-P,L<24-P)||(ce|=j[B+3]<<24-P),ce&z}function vt(j,U,L){var P=U&7,B=U>>>3;return P<=5?j[B]|=(L&7)<<P:(j[B]|=L<<P&255,j[B+1]=(L&7)>>8-P),U+3}function jt(j,U,L){var P=U&7,B=U>>>3;return L=(L&1)<<P,j[B]|=L,U+1}function Ht(j,U,L){var P=U&7,B=U>>>3;return L<<=P,j[B]|=L&255,L>>>=8,j[B+1]=L,U+8}function Vt(j,U,L){var P=U&7,B=U>>>3;return L<<=P,j[B]|=L&255,L>>>=8,j[B+1]=L&255,j[B+2]=L>>>8,U+16}function ut(j,U){var L=j.length,P=2*L>U?2*L:U+5,B=0;if(L>=U)return j;if(kt){var z=e2(P);if(j.copy)j.copy(z);else for(;B<j.length;++B)z[B]=j[B];return z}else if(be){var ce=new Uint8Array(P);if(ce.set)ce.set(j);else for(;B<L;++B)ce[B]=j[B];return ce}return j.length=P,j}function F(j){for(var U=new Array(j),L=0;L<j;++L)U[L]=0;return U}function ne(j,U,L){var P=1,B=0,z=0,ce=0,ve=0,ue=j.length,de=be?new Uint16Array(32):F(32);for(z=0;z<32;++z)de[z]=0;for(z=ue;z<L;++z)j[z]=0;ue=j.length;var fe=be?new Uint16Array(ue):F(ue);for(z=0;z<ue;++z)de[B=j[z]]++,P<B&&(P=B),fe[z]=0;for(de[0]=0,z=1;z<=P;++z)de[z+16]=ve=ve+de[z-1]<<1;for(z=0;z<ue;++z)ve=j[z],ve!=0&&(fe[z]=de[ve+16]++);var Ae=0;for(z=0;z<ue;++z)if(Ae=j[z],Ae!=0)for(ve=it(fe[z],P)>>P-Ae,ce=(1<<P+4-Ae)-1;ce>=0;--ce)U[ve|ce<<Ae]=Ae&15|z<<4;return P}var Ge=be?new Uint16Array(512):F(512),Je=be?new Uint16Array(32):F(32);if(!be){for(var bt=0;bt<512;++bt)Ge[bt]=0;for(bt=0;bt<32;++bt)Je[bt]=0}(function(){for(var j=[],U=0;U<32;U++)j.push(5);ne(j,Je,32);var L=[];for(U=0;U<=143;U++)L.push(8);for(;U<=255;U++)L.push(9);for(;U<=279;U++)L.push(7);for(;U<=287;U++)L.push(8);ne(L,Ge,288)})();var Qe=(function(){for(var U=be?new Uint8Array(32768):[],L=0,P=0;L<J.length-1;++L)for(;P<J[L+1];++P)U[P]=L;for(;P<32768;++P)U[P]=29;var B=be?new Uint8Array(259):[];for(L=0,P=0;L<se.length-1;++L)for(;P<se[L+1];++P)B[P]=L;function z(ve,ue){for(var de=0;de<ve.length;){var fe=Math.min(65535,ve.length-de),Ae=de+fe==ve.length;for(ue.write_shift(1,+Ae),ue.write_shift(2,fe),ue.write_shift(2,~fe&65535);fe-- >0;)ue[ue.l++]=ve[de++]}return ue.l}function ce(ve,ue){for(var de=0,fe=0,Ae=be?new Uint16Array(32768):[];fe<ve.length;){var Re=Math.min(65535,ve.length-fe);if(Re<10){for(de=vt(ue,de,+(fe+Re==ve.length)),de&7&&(de+=8-(de&7)),ue.l=de/8|0,ue.write_shift(2,Re),ue.write_shift(2,~Re&65535);Re-- >0;)ue[ue.l++]=ve[fe++];de=ue.l*8;continue}de=vt(ue,de,+(fe+Re==ve.length)+2);for(var Ie=0;Re-- >0;){var Ce=ve[fe];Ie=(Ie<<5^Ce)&32767;var Le=-1,He=0;if((Le=Ae[Ie])&&(Le|=fe&-32768,Le>fe&&(Le-=32768),Le<fe))for(;ve[Le+He]==ve[fe+He]&&He<250;)++He;if(He>2){Ce=B[He],Ce<=22?de=Ht(ue,de,je[Ce+1]>>1)-1:(Ht(ue,de,3),de+=5,Ht(ue,de,je[Ce-23]>>5),de+=3);var Wt=Ce<8?0:Ce-4>>2;Wt>0&&(Vt(ue,de,He-se[Ce]),de+=Wt),Ce=U[fe-Le],de=Ht(ue,de,je[Ce]>>3),de-=3;var qt=Ce<4?0:Ce-2>>1;qt>0&&(Vt(ue,de,fe-Le-J[Ce]),de+=qt);for(var er=0;er<He;++er)Ae[Ie]=fe&32767,Ie=(Ie<<5^ve[fe])&32767,++fe;Re-=He-1}else Ce<=143?Ce=Ce+48:de=jt(ue,de,1),de=Ht(ue,de,je[Ce]),Ae[Ie]=fe&32767,++fe}de=Ht(ue,de,0)-1}return ue.l=(de+7)/8|0,ue.l}return function(ue,de){return ue.length<8?z(ue,de):ce(ue,de)}})();function Pt(j){var U=pe(50+Math.floor(j.length*1.1)),L=Qe(j,U);return U.slice(0,L)}var dr=be?new Uint16Array(32768):F(32768),pt=be?new Uint16Array(32768):F(32768),Yt=be?new Uint16Array(128):F(128),Ze=1,mt=1;function nt(j,U){var L=Pe(j,U)+257;U+=5;var P=Pe(j,U)+1;U+=5;var B=oe(j,U)+4;U+=4;for(var z=0,ce=be?new Uint8Array(19):F(19),ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=1,de=be?new Uint8Array(8):F(8),fe=be?new Uint8Array(8):F(8),Ae=ce.length,Re=0;Re<B;++Re)ce[G[Re]]=z=rt(j,U),ue<z&&(ue=z),de[z]++,U+=3;var Ie=0;for(de[0]=0,Re=1;Re<=ue;++Re)fe[Re]=Ie=Ie+de[Re-1]<<1;for(Re=0;Re<Ae;++Re)(Ie=ce[Re])!=0&&(ve[Re]=fe[Ie]++);var Ce=0;for(Re=0;Re<Ae;++Re)if(Ce=ce[Re],Ce!=0){Ie=je[ve[Re]]>>8-Ce;for(var Le=(1<<7-Ce)-1;Le>=0;--Le)Yt[Ie|Le<<Ce]=Ce&7|Re<<3}var He=[];for(ue=1;He.length<L+P;)switch(Ie=Yt[Ee(j,U)],U+=Ie&7,Ie>>>=3){case 16:for(z=3+ar(j,U),U+=2,Ie=He[He.length-1];z-- >0;)He.push(Ie);break;case 17:for(z=3+rt(j,U),U+=3;z-- >0;)He.push(0);break;case 18:for(z=11+Ee(j,U),U+=7;z-- >0;)He.push(0);break;default:He.push(Ie),ue<Ie&&(ue=Ie);break}var Wt=He.slice(0,L),qt=He.slice(L);for(Re=L;Re<286;++Re)Wt[Re]=0;for(Re=P;Re<30;++Re)qt[Re]=0;return Ze=ne(Wt,dr,286),mt=ne(qt,pt,30),U}function xr(j,U){if(j[0]==3&&!(j[1]&3))return[Yi(U),2];for(var L=0,P=0,B=e2(U||1<<18),z=0,ce=B.length>>>0,ve=0,ue=0;(P&1)==0;){if(P=rt(j,L),L+=3,P>>>1)P>>1==1?(ve=9,ue=5):(L=nt(j,L),ve=Ze,ue=mt);else{L&7&&(L+=8-(L&7));var de=j[L>>>3]|j[(L>>>3)+1]<<8;if(L+=32,de>0)for(!U&&ce<z+de&&(B=ut(B,z+de),ce=B.length);de-- >0;)B[z++]=j[L>>>3],L+=8;continue}for(;;){!U&&ce<z+32767&&(B=ut(B,z+32767),ce=B.length);var fe=Xe(j,L,ve),Ae=P>>>1==1?Ge[fe]:dr[fe];if(L+=Ae&15,Ae>>>=4,(Ae>>>8&255)===0)B[z++]=Ae;else{if(Ae==256)break;Ae-=257;var Re=Ae<8?0:Ae-4>>2;Re>5&&(Re=0);var Ie=z+se[Ae];Re>0&&(Ie+=Xe(j,L,Re),L+=Re),fe=Xe(j,L,ue),Ae=P>>>1==1?Je[fe]:pt[fe],L+=Ae&15,Ae>>>=4;var Ce=Ae<4?0:Ae-2>>1,Le=J[Ae];for(Ce>0&&(Le+=Xe(j,L,Ce),L+=Ce),!U&&ce<Ie&&(B=ut(B,Ie+100),ce=B.length);z<Ie;)B[z]=B[z-Le],++z}}}return U?[B,L+7>>>3]:[B.slice(0,z),L+7>>>3]}function ao(j,U){var L=j.slice(j.l||0),P=xr(L,U);return j.l+=P[1],P[0]}function Zt(j,U){if(j)typeof console<"u"&&console.error(U);else throw new Error(U)}function si(j,U){var L=j;An(L,0);var P=[],B=[],z={FileIndex:P,FullPaths:B};D(z,{root:U.root});for(var ce=L.length-4;(L[ce]!=80||L[ce+1]!=75||L[ce+2]!=5||L[ce+3]!=6)&&ce>=0;)--ce;L.l=ce+4,L.l+=4;var ve=L.read_shift(2);L.l+=6;var ue=L.read_shift(4);for(L.l=ue,ce=0;ce<ve;++ce){L.l+=20;var de=L.read_shift(4),fe=L.read_shift(4),Ae=L.read_shift(2),Re=L.read_shift(2),Ie=L.read_shift(2);L.l+=8;var Ce=L.read_shift(4),Le=u(L.slice(L.l+Ae,L.l+Ae+Re));L.l+=Ae+Re+Ie;var He=L.l;L.l=Ce+4,so(L,de,fe,z,Le),L.l=He}return z}function so(j,U,L,P,B){j.l+=2;var z=j.read_shift(2),ce=j.read_shift(2),ve=l(j);if(z&8257)throw new Error("Unsupported ZIP encryption");for(var ue=j.read_shift(4),de=j.read_shift(4),fe=j.read_shift(4),Ae=j.read_shift(2),Re=j.read_shift(2),Ie="",Ce=0;Ce<Ae;++Ce)Ie+=String.fromCharCode(j[j.l++]);if(Re){var Le=u(j.slice(j.l,j.l+Re));(Le[21589]||{}).mt&&(ve=Le[21589].mt),((B||{})[21589]||{}).mt&&(ve=B[21589].mt)}j.l+=Re;var He=j.slice(j.l,j.l+de);switch(ce){case 8:He=q(j,fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Wt=!1;z&8&&(ue=j.read_shift(4),ue==134695760&&(ue=j.read_shift(4),Wt=!0),de=j.read_shift(4),fe=j.read_shift(4)),de!=U&&Zt(Wt,"Bad compressed size: "+U+" != "+de),fe!=L&&Zt(Wt,"Bad uncompressed size: "+L+" != "+fe),lo(P,Ie,He,{unsafe:!0,mt:ve})}function io(j,U){var L=U||{},P=[],B=[],z=pe(1),ce=L.compression?8:0,ve=0,ue=0,de=0,fe=0,Ae=0,Re=j.FullPaths[0],Ie=Re,Ce=j.FileIndex[0],Le=[],He=0;for(ue=1;ue<j.FullPaths.length;++ue)if(Ie=j.FullPaths[ue].slice(Re.length),Ce=j.FileIndex[ue],!(!Ce.size||!Ce.content||Ie=="Sh33tJ5")){var Wt=fe,qt=pe(Ie.length);for(de=0;de<Ie.length;++de)qt.write_shift(1,Ie.charCodeAt(de)&127);qt=qt.slice(0,qt.l),Le[Ae]=YL.buf(Ce.content,0);var er=Ce.content;ce==8&&(er=H(er)),z=pe(30),z.write_shift(4,67324752),z.write_shift(2,20),z.write_shift(2,ve),z.write_shift(2,ce),Ce.mt?i(z,Ce.mt):z.write_shift(4,0),z.write_shift(-4,Le[Ae]),z.write_shift(4,er.length),z.write_shift(4,Ce.content.length),z.write_shift(2,qt.length),z.write_shift(2,0),fe+=z.length,P.push(z),fe+=qt.length,P.push(qt),fe+=er.length,P.push(er),z=pe(46),z.write_shift(4,33639248),z.write_shift(2,0),z.write_shift(2,20),z.write_shift(2,ve),z.write_shift(2,ce),z.write_shift(4,0),z.write_shift(-4,Le[Ae]),z.write_shift(4,er.length),z.write_shift(4,Ce.content.length),z.write_shift(2,qt.length),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(4,0),z.write_shift(4,Wt),He+=z.l,B.push(z),He+=qt.length,B.push(qt),++Ae}return z=pe(22),z.write_shift(4,101010256),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,Ae),z.write_shift(2,Ae),z.write_shift(4,He),z.write_shift(4,fe),z.write_shift(2,0),Ur([Ur(P),Ur(B),z])}var Fn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function oo(j,U){if(j.ctype)return j.ctype;var L=j.name||"",P=L.match(/\.([^\.]+)$/);return P&&Fn[P[1]]||U&&(P=(L=U).match(/[\.\\]([^\.\\])+$/),P&&Fn[P[1]])?Fn[P[1]]:"application/octet-stream"}function ii(j){for(var U=xu(j),L=[],P=0;P<U.length;P+=76)L.push(U.slice(P,P+76));return L.join(`\r
`)+`\r
`}function Vf(j){var U=j.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var fe=de.charCodeAt(0).toString(16).toUpperCase();return"="+(fe.length==1?"0"+fe:fe)});U=U.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),U.charAt(0)==`
`&&(U="=0D"+U.slice(1)),U=U.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var L=[],P=U.split(`\r
`),B=0;B<P.length;++B){var z=P[B];if(z.length==0){L.push("");continue}for(var ce=0;ce<z.length;){var ve=76,ue=z.slice(ce,ce+ve);ue.charAt(ve-1)=="="?ve--:ue.charAt(ve-2)=="="?ve-=2:ue.charAt(ve-3)=="="&&(ve-=3),ue=z.slice(ce,ce+ve),ce+=ve,ce<z.length&&(ue+="="),L.push(ue)}}return L.join(`\r
`)}function Uu(j){for(var U=[],L=0;L<j.length;++L){for(var P=j[L];L<=j.length&&P.charAt(P.length-1)=="=";)P=P.slice(0,P.length-1)+j[++L];U.push(P)}for(var B=0;B<U.length;++B)U[B]=U[B].replace(/[=][0-9A-Fa-f]{2}/g,function(z){return String.fromCharCode(parseInt(z.slice(1),16))});return ha(U.join(`\r
`))}function Dl(j,U,L){for(var P="",B="",z="",ce,ve=0;ve<10;++ve){var ue=U[ve];if(!ue||ue.match(/^\s*$/))break;var de=ue.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":P=de[2].trim();break;case"content-type":z=de[2].trim();break;case"content-transfer-encoding":B=de[2].trim();break}}switch(++ve,B.toLowerCase()){case"base64":ce=ha(us(U.slice(ve).join("")));break;case"quoted-printable":ce=Uu(U.slice(ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+B)}var fe=lo(j,P.slice(L.length),ce,{unsafe:!0});z&&(fe.ctype=z)}function oi(j,U){if(Oe(j.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var L=U&&U.root||"",P=(kt&&Buffer.isBuffer(j)?j.toString("binary"):Oe(j)).split(`\r
`),B=0,z="";for(B=0;B<P.length;++B)if(z=P[B],!!/^Content-Location:/i.test(z)&&(z=z.slice(z.indexOf("file")),L||(L=z.slice(0,z.lastIndexOf("/")+1)),z.slice(0,L.length)!=L))for(;L.length>0&&(L=L.slice(0,L.length-1),L=L.slice(0,L.lastIndexOf("/")+1),z.slice(0,L.length)!=L););var ce=(P[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var ve="--"+(ce[1]||""),ue=[],de=[],fe={FileIndex:ue,FullPaths:de};D(fe);var Ae,Re=0;for(B=0;B<P.length;++B){var Ie=P[B];Ie!==ve&&Ie!==ve+"--"||(Re++&&Dl(fe,P.slice(Ae,B),L),Ae=B)}return fe}function Wf(j,U){var L=U||{},P=L.boundary||"SheetJS";P="------="+P;for(var B=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+P.slice(2)+'"',"","",""],z=j.FullPaths[0],ce=z,ve=j.FileIndex[0],ue=1;ue<j.FullPaths.length;++ue)if(ce=j.FullPaths[ue].slice(z.length),ve=j.FileIndex[ue],!(!ve.size||!ve.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(He){return"_x"+He.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(He){return"_u"+He.charCodeAt(0).toString(16)+"_"});for(var de=ve.content,fe=kt&&Buffer.isBuffer(de)?de.toString("binary"):Oe(de),Ae=0,Re=Math.min(1024,fe.length),Ie=0,Ce=0;Ce<=Re;++Ce)(Ie=fe.charCodeAt(Ce))>=32&&Ie<128&&++Ae;var Le=Ae>=Re*4/5;B.push(P),B.push("Content-Location: "+(L.root||"file:///C:/SheetJS/")+ce),B.push("Content-Transfer-Encoding: "+(Le?"quoted-printable":"base64")),B.push("Content-Type: "+oo(ve,ce)),B.push(""),B.push(Le?Vf(fe):ii(fe))}return B.push(P+`--\r
`),B.join(`\r
`)}function zu(j){var U={};return D(U,j),U}function lo(j,U,L,P){var B=P&&P.unsafe;B||D(j);var z=!B&&zt.find(j,U);if(!z){var ce=j.FullPaths[0];U.slice(0,ce.length)==ce?ce=U:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+U).replace("//","/")),z={name:a(U),type:2},j.FileIndex.push(z),j.FullPaths.push(ce),B||zt.utils.cfb_gc(j)}return z.content=L,z.size=L?L.length:0,P&&(P.CLSID&&(z.clsid=P.CLSID),P.mt&&(z.mt=P.mt),P.ct&&(z.ct=P.ct)),z}function Hu(j,U){D(j);var L=zt.find(j,U);if(L){for(var P=0;P<j.FileIndex.length;++P)if(j.FileIndex[P]==L)return j.FileIndex.splice(P,1),j.FullPaths.splice(P,1),!0}return!1}function Ml(j,U,L){D(j);var P=zt.find(j,U);if(P){for(var B=0;B<j.FileIndex.length;++B)if(j.FileIndex[B]==P)return j.FileIndex[B].name=a(L),j.FullPaths[B]=L,!0}return!1}function Fl(j){O(j,!0)}return e.find=W,e.read=V,e.parse=g,e.write=We,e.writeFile=Te,e.utils={cfb_new:zu,cfb_add:lo,cfb_del:Hu,cfb_mov:Ml,cfb_gc:Fl,ReadShift:Qc,CheckField:nE,prep_blob:An,bconcat:Ur,use_zlib:R,_deflateRaw:Pt,_inflateRaw:ao,consts:ae},e})();function KL(r){return typeof r=="string"?Lf(r):Array.isArray(r)?_L(r):r}function Mu(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Lf(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?yu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var a=new Blob([KL(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,r);if(typeof saveAs<"u")return saveAs(a,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:r,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=r,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(r);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=Du(e)),u.write(e),u.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+r)}function Vr(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function l2(r,e){for(var t=[],n=Vr(r),a=0;a!==n.length;++a)t[r[n[a]][e]]==null&&(t[r[n[a]][e]]=n[a]);return t}function _p(r){for(var e=[],t=Vr(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function Bf(r){for(var e=[],t=Vr(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function XL(r){for(var e=[],t=Vr(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var uf=new Date(1899,11,30,0,0,0);function yn(r,e){var t=r.getTime(),n=uf.getTime()+(r.getTimezoneOffset()-uf.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var UN=new Date,JL=uf.getTime()+(UN.getTimezoneOffset()-uf.getTimezoneOffset())*6e4,c2=UN.getTimezoneOffset();function zN(r){var e=new Date;return e.setTime(r*24*60*60*1e3+JL),e.getTimezoneOffset()!==c2&&e.setTime(e.getTime()+(e.getTimezoneOffset()-c2)*6e4),e}var u2=new Date("2017-02-19T19:06:09.000Z"),HN=isNaN(u2.getFullYear())?new Date("2/19/17"):u2,QL=HN.getFullYear()==2017;function rn(r,e){var t=new Date(r);if(QL)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(HN.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var a=r.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return r.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Uf(r,e){if(kt&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(i){return t[i]||i})}catch{}for(var n=[],a=0;a!=r.length;++a)n.push(String.fromCharCode(r[a]));return n.join("")}function vn(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=vn(r[t]));return e}function lr(r,e){for(var t="";t.length<e;)t+=r;return t}function os(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return t=-t,i}),!isNaN(e=Number(n)))?e/t:e}var ZL=["january","february","march","april","may","june","july","august","september","october","november","december"];function pu(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return t;var l=r.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&ZL.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return n<0||n>8099?t:(a>0||i>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function lt(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return kt?n=ms(t):n=wL(t),zt.utils.cfb_add(r,e,n)}zt.utils.cfb_add(r,e,t)}else r.file(e,t)}function wp(){return zt.utils.cfb_new()}var Nr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,e7={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Sp=_p(e7),Np=/[&<>'"]/g,t7=/[\u0000-\u0008\u000b-\u001f]/g;function Ft(r){var e=r+"";return e.replace(Np,function(t){return Sp[t]}).replace(t7,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function d2(r){return Ft(r).replace(/ /g,"_x0020_")}var $N=/[\u0000-\u001f]/g;function r7(r){var e=r+"";return e.replace(Np,function(t){return Sp[t]}).replace(/\n/g,"<br/>").replace($N,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function n7(r){var e=r+"";return e.replace(Np,function(t){return Sp[t]}).replace($N,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function a7(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function s7(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Mg(r){for(var e="",t=0,n=0,a=0,i=0,l=0,u=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(a=r.charCodeAt(t++),n>191&&n<224){l=(n&31)<<6,l|=a&63,e+=String.fromCharCode(l);continue}if(i=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}l=r.charCodeAt(t++),u=((n&7)<<18|(a&63)<<12|(i&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function h2(r){var e=Yi(2*r.length),t,n,a=1,i=0,l=0,u;for(n=0;n<r.length;n+=a)a=1,(u=r.charCodeAt(n))<128?t=u:u<224?(t=(u&31)*64+(r.charCodeAt(n+1)&63),a=2):u<240?(t=(u&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),a=3):(a=4,t=(u&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(e[i++]=l&255,e[i++]=l>>>8,l=0),e[i++]=t%256,e[i++]=t>>>8;return e.slice(0,i).toString("ucs2")}function f2(r){return ms(r,"binary").toString("utf8")}var Th="foo bar baz",Jc=kt&&(f2(Th)==Mg(Th)&&f2||h2(Th)==Mg(Th)&&h2)||Mg,yu=kt?function(r){return ms(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,a=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},i7=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<r.length;++a)n=n.replace(r[a][0],r[a][1]);return n}})(),VN=/(^\s|\s$|\n)/;function zr(r,e){return"<"+r+(e.match(VN)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function vu(r){return Vr(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function De(r,e,t){return"<"+r+(t!=null?vu(t):"")+(e!=null?(e.match(VN)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function bx(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function o7(r,e){switch(typeof r){case"string":var t=De("vt:lpwstr",Ft(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return De((r|0)==r?"vt:i4":"vt:r8",Ft(String(r)));case"boolean":return De("vt:bool",r?"true":"false")}if(r instanceof Date)return De("vt:filetime",bx(r));throw new Error("Unable to serialize "+r)}var Or={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Al=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Cn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function l7(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),a=r[e+6]&15,i=5;i>=0;--i)a=a*256+r[e+i];return n==2047?a==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),t*Math.pow(2,n-52)*a)}function c7(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,l=n?-e:e;isFinite(l)?l==0?a=i=0:(a=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var u=0;u<=5;++u,i/=256)r[t+u]=i&255;r[t+6]=(a&15)<<4|i&15,r[t+7]=a>>4|n}var m2=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var a=0,i=r[0][n].length;a<i;a+=t)e.push.apply(e,r[0][n].slice(a,a+t));return e},g2=kt?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:ms(e)})):m2(r)}:m2,x2=function(r,e,t){for(var n=[],a=e;a<t;a+=2)n.push(String.fromCharCode(Uc(r,a)));return n.join("").replace(Xc,"")},Ep=kt?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(Xc,""):x2(r,e,t)}:x2,p2=function(r,e,t){for(var n=[],a=e;a<e+t;++a)n.push(("0"+r[a].toString(16)).slice(-2));return n.join("")},WN=kt?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):p2(r,e,t)}:p2,y2=function(r,e,t){for(var n=[],a=e;a<t;a++)n.push(String.fromCharCode(rl(r,a)));return n.join("")},Fu=kt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):y2(e,t,n)}:y2,qN=function(r,e){var t=On(r,e);return t>0?Fu(r,e+4,e+4+t-1):""},GN=qN,YN=function(r,e){var t=On(r,e);return t>0?Fu(r,e+4,e+4+t-1):""},KN=YN,XN=function(r,e){var t=2*On(r,e);return t>0?Fu(r,e+4,e+4+t-1):""},JN=XN,QN=function(e,t){var n=On(e,t);return n>0?Ep(e,t+4,t+4+n):""},ZN=QN,eE=function(r,e){var t=On(r,e);return t>0?Fu(r,e+4,e+4+t):""},tE=eE,rE=function(r,e){return l7(r,e)},df=rE,kp=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};kt&&(GN=function(e,t){if(!Buffer.isBuffer(e))return qN(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},KN=function(e,t){if(!Buffer.isBuffer(e))return YN(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},JN=function(e,t){if(!Buffer.isBuffer(e))return XN(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},ZN=function(e,t){if(!Buffer.isBuffer(e))return QN(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},tE=function(e,t){if(!Buffer.isBuffer(e))return eE(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},df=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):rE(e,t)},kp=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var rl=function(r,e){return r[e]},Uc=function(r,e){return r[e+1]*256+r[e]},u7=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},On=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},Li=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},d7=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function Qc(r,e){var t="",n,a,i=[],l,u,h,f;switch(e){case"dbcs":if(f=this.l,kt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(h=0;h<r;++h)t+=String.fromCharCode(Uc(this,f)),f+=2;r*=2;break;case"utf8":t=Fu(this,this.l,this.l+r);break;case"utf16le":r*=2,t=Ep(this,this.l,this.l+r);break;case"wstr":return Qc.call(this,r,"dbcs");case"lpstr-ansi":t=GN(this,this.l),r=4+On(this,this.l);break;case"lpstr-cp":t=KN(this,this.l),r=4+On(this,this.l);break;case"lpwstr":t=JN(this,this.l),r=4+2*On(this,this.l);break;case"lpp4":r=4+On(this,this.l),t=ZN(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+On(this,this.l),t=tE(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(l=rl(this,this.l+r++))!==0;)i.push(Nh(l));t=i.join("");break;case"_wstr":for(r=0,t="";(l=Uc(this,this.l+r))!==0;)i.push(Nh(l)),r+=2;r+=2,t=i.join("");break;case"dbcs-cont":for(t="",f=this.l,h=0;h<r;++h){if(this.lens&&this.lens.indexOf(f)!==-1)return l=rl(this,f),this.l=f+1,u=Qc.call(this,r-h,l?"dbcs-cont":"sbcs-cont"),i.join("")+u;i.push(Nh(Uc(this,f))),f+=2}t=i.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",f=this.l,h=0;h!=r;++h){if(this.lens&&this.lens.indexOf(f)!==-1)return l=rl(this,f),this.l=f+1,u=Qc.call(this,r-h,l?"dbcs-cont":"sbcs-cont"),i.join("")+u;i.push(Nh(rl(this,f))),f+=1}t=i.join("");break;default:switch(r){case 1:return n=rl(this,this.l),this.l++,n;case 2:return n=(e==="i"?u7:Uc)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?Li:d7)(this,this.l),this.l+=4,n):(a=On(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return r==8?a=df(this,this.l):a=df([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;r=8;case 16:t=WN(this,this.l,r);break}}return this.l+=r,t}var h7=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},f7=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},m7=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function g7(r,e,t){var n=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)m7(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(t==="hex"){for(;a<r;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var i=Math.min(this.l+r,this.length);for(a=0;a<Math.min(e.length,r);++a){var l=e.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,h7(this,e,this.l);break;case 8:if(n=8,t==="f"){c7(this,e,this.l);break}case 16:break;case-4:n=4,f7(this,e,this.l);break}return this.l+=n,this}function nE(r,e){var t=WN(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function An(r,e){r.l=e,r.read_shift=Qc,r.chk=nE,r.write_shift=g7}function Oa(r,e){r.l+=e}function pe(r){var e=Yi(r);return An(e,0),e}function pn(){var r=[],e=kt?256:2048,t=function(f){var g=pe(f);return An(g,0),g},n=t(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},i=function(f){return n&&f<n.length-n.l?n:(a(),n=t(Math.max(f+1,e)))},l=function(){return a(),Ur(r)},u=function(f){a(),n=f,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:u,end:l,_bufs:r}}function Ne(r,e,t,n){var a=+e,i;if(!isNaN(a)){n||(n=lz[a].p||(t||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var l=r.next(i);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var u=0;u!=4;++u)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&kp(t)&&r.push(t)}}function Zc(r,e,t){var n=vn(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function v2(r,e,t){var n=vn(r);return n.s=Zc(n.s,e.s,t),n.e=Zc(n.e,e.s,t),n}function eu(r,e){if(r.cRel&&r.c<0)for(r=vn(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=vn(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Lt(r);return!r.cRel&&r.cRel!=null&&(t=y7(t)),!r.rRel&&r.rRel!=null&&(t=x7(t)),t}function Fg(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Jr(r.s.c)+":"+(r.e.cRel?"":"$")+Jr(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+$r(r.s.r)+":"+(r.e.rRel?"":"$")+$r(r.e.r):eu(r.s,e.biff)+":"+eu(r.e,e.biff)}function Tp(r){return parseInt(p7(r),10)-1}function $r(r){return""+(r+1)}function x7(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function p7(r){return r.replace(/\$(\d+)$/,"$1")}function jp(r){for(var e=v7(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function Jr(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function y7(r){return r.replace(/^([A-Z])/,"$$$1")}function v7(r){return r.replace(/^\$([A-Z])/,"$1")}function b7(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Rr(r){for(var e=0,t=0,n=0;n<r.length;++n){var a=r.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function Lt(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function Mn(r){var e=r.indexOf(":");return e==-1?{s:Rr(r),e:Rr(r)}:{s:Rr(r.slice(0,e)),e:Rr(r.slice(e+1))}}function Sr(r,e){return typeof e>"u"||typeof e=="number"?Sr(r.s,r.e):(typeof r!="string"&&(r=Lt(r)),typeof e!="string"&&(e=Lt(e)),r==e?r:r+":"+e)}function Qt(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,a=0,i=r.length;for(t=0;n<i&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.s.c=--t,t=0;n<i&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;if(e.s.r=--t,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=i&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.e.c=--t,t=0;n!=i&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;return e.e.r=--t,e}function b2(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=ei(r.z,t?yn(e):e)}catch{}try{return r.w=ei((r.XF||{}).numFmtId||(t?14:0),t?yn(e):e)}catch{return""+e}}function ds(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Lu[r.v]||r.v:e==null?b2(r,r.v):b2(r,e))}function Zi(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function aE(r,e,t){var n=t||{},a=r?Array.isArray(r):n.dense,i=r||(a?[]:{}),l=0,u=0;if(i&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var h=typeof n.origin=="string"?Rr(n.origin):n.origin;l=h.r,u=h.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var g=Qt(i["!ref"]);f.s.c=g.s.c,f.s.r=g.s.r,f.e.c=Math.max(f.e.c,g.e.c),f.e.r=Math.max(f.e.r,g.e.r),l==-1&&(f.e.r=l=g.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[x].length;++y)if(!(typeof e[x][y]>"u")){var v={v:e[x][y]},w=l+x,_=u+y;if(f.s.r>w&&(f.s.r=w),f.s.c>_&&(f.s.c=_),f.e.r<w&&(f.e.r=w),f.e.c<_&&(f.e.c=_),e[x][y]&&typeof e[x][y]=="object"&&!Array.isArray(e[x][y])&&!(e[x][y]instanceof Date))v=e[x][y];else if(Array.isArray(v.v)&&(v.f=e[x][y][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||ur[14],n.cellDates?(v.t="d",v.w=ei(v.z,yn(v.v))):(v.t="n",v.v=yn(v.v),v.w=ei(v.z,v.v))):v.t="s";if(a)i[w]||(i[w]=[]),i[w][_]&&i[w][_].z&&(v.z=i[w][_].z),i[w][_]=v;else{var S=Lt({c:_,r:w});i[S]&&i[S].z&&(v.z=i[S].z),i[S]=v}}}return f.s.c<1e7&&(i["!ref"]=Sr(f)),i}function Cl(r,e){return aE(null,r,e)}function _7(r){return r.read_shift(4,"i")}function ma(r,e){return e||(e=pe(4)),e.write_shift(4,r),e}function Qr(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function Dr(r,e){var t=!1;return e==null&&(t=!0,e=pe(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function w7(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function S7(r,e){return e||(e=pe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Ap(r,e){var t=r.l,n=r.read_shift(1),a=Qr(r),i=[],l={t:a,h:a};if((n&1)!==0){for(var u=r.read_shift(4),h=0;h!=u;++h)i.push(w7(r));l.r=i}else l.r=[{ich:0,ifnt:0}];return r.l=t+e,l}function N7(r,e){var t=!1;return e==null&&(t=!0,e=pe(15+4*r.t.length)),e.write_shift(1,0),Dr(r.t,e),t?e.slice(0,e.l):e}var E7=Ap;function k7(r,e){var t=!1;return e==null&&(t=!0,e=pe(23+4*r.t.length)),e.write_shift(1,1),Dr(r.t,e),e.write_shift(4,1),S7({},e),t?e.slice(0,e.l):e}function ta(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function eo(r,e){return e==null&&(e=pe(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function to(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function ro(r,e){return e==null&&(e=pe(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var T7=Qr,sE=Dr;function Cp(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function hf(r,e){var t=!1;return e==null&&(t=!0,e=pe(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var j7=Qr,_x=Cp,Op=hf;function iE(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var a=n===0?df([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Li(e,0)>>2;return t?a/100:a}function oE(r,e){e==null&&(e=pe(4));var t=0,n=0,a=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?a:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function lE(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function A7(r,e){return e||(e=pe(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var no=lE,Ol=A7;function Rl(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function Ki(r,e){return(e||pe(8)).write_shift(8,r,"f")}function C7(r){var e={},t=r.read_shift(1),n=t>>>1,a=r.read_shift(1),i=r.read_shift(2,"i"),l=r.read_shift(1),u=r.read_shift(1),h=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var f=B7[a];f&&(e.rgb=O2(f));break;case 2:e.rgb=O2([l,u,h]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function ff(r,e){if(e||(e=pe(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function O7(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function R7(r,e){e||(e=pe(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var cE=2,jn=3,jh=11,mf=19,Ah=64,D7=65,M7=71,F7=4108,L7=4126,Br=80,_2={1:{n:"CodePage",t:cE},2:{n:"Category",t:Br},3:{n:"PresentationFormat",t:Br},4:{n:"ByteCount",t:jn},5:{n:"LineCount",t:jn},6:{n:"ParagraphCount",t:jn},7:{n:"SlideCount",t:jn},8:{n:"NoteCount",t:jn},9:{n:"HiddenCount",t:jn},10:{n:"MultimediaClipCount",t:jn},11:{n:"ScaleCrop",t:jh},12:{n:"HeadingPairs",t:F7},13:{n:"TitlesOfParts",t:L7},14:{n:"Manager",t:Br},15:{n:"Company",t:Br},16:{n:"LinksUpToDate",t:jh},17:{n:"CharacterCount",t:jn},19:{n:"SharedDoc",t:jh},22:{n:"HyperlinksChanged",t:jh},23:{n:"AppVersion",t:jn,p:"version"},24:{n:"DigSig",t:D7},26:{n:"ContentType",t:Br},27:{n:"ContentStatus",t:Br},28:{n:"Language",t:Br},29:{n:"Version",t:Br},255:{},2147483648:{n:"Locale",t:mf},2147483651:{n:"Behavior",t:mf},1919054434:{}},w2={1:{n:"CodePage",t:cE},2:{n:"Title",t:Br},3:{n:"Subject",t:Br},4:{n:"Author",t:Br},5:{n:"Keywords",t:Br},6:{n:"Comments",t:Br},7:{n:"Template",t:Br},8:{n:"LastAuthor",t:Br},9:{n:"RevNumber",t:Br},10:{n:"EditTime",t:Ah},11:{n:"LastPrinted",t:Ah},12:{n:"CreatedDate",t:Ah},13:{n:"ModifiedDate",t:Ah},14:{n:"PageCount",t:jn},15:{n:"WordCount",t:jn},16:{n:"CharCount",t:jn},17:{n:"Thumbnail",t:M7},18:{n:"Application",t:Br},19:{n:"DocSecurity",t:jn},255:{},2147483648:{n:"Locale",t:mf},2147483651:{n:"Behavior",t:mf},1919054434:{}};function P7(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var I7=P7([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),B7=vn(I7),Lu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},U7={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ch={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function uE(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function dE(r,e){var t=XL(U7),n=[],a;n[n.length]=Nr,n[n.length]=De("Types",null,{xmlns:Or.CT,"xmlns:xsd":Or.xsd,"xmlns:xsi":Or.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return De("Default",null,{Extension:h[0],ContentType:h[1]})}));var i=function(h){r[h]&&r[h].length>0&&(a=r[h][0],n[n.length]=De("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Ch[h][e.bookType]||Ch[h].xlsx}))},l=function(h){(r[h]||[]).forEach(function(f){n[n.length]=De("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:Ch[h][e.bookType]||Ch[h].xlsx})})},u=function(h){(r[h]||[]).forEach(function(f){n[n.length]=De("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:t[h][0]})})};return i("workbooks"),l("sheets"),l("charts"),u("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),l("metadata"),u("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Nt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function hE(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function cl(r){var e=[Nr,De("Relationships",null,{xmlns:Or.RELS})];return Vr(r["!id"]).forEach(function(t){e[e.length]=De("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Rt(r,e,t,n,a,i){if(a||(a={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=t,[Nt.HLINK,Nt.XPATH,Nt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),r["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][a.Id]=a,r[("/"+a.Target).replace("//","/")]=a,e}function z7(r){var e=[Nr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function S2(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function H7(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function $7(r){var e=[Nr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(S2(r[t][0],r[t][1])),e.push(H7("",r[t][0]));return e.push(S2("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function fE(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+af.version+"</meta:generator></office:meta></office:document-meta>"}var Hi=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Lg(r,e,t,n,a){a[r]!=null||e==null||e===""||(a[r]=e,e=Ft(e),n[n.length]=t?De(r,e,t):zr(r,e))}function mE(r,e){var t=e||{},n=[Nr,De("cp:coreProperties",null,{"xmlns:cp":Or.CORE_PROPS,"xmlns:dc":Or.dc,"xmlns:dcterms":Or.dcterms,"xmlns:dcmitype":Or.dcmitype,"xmlns:xsi":Or.xsi})],a={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&Lg("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:bx(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),r.ModifiedDate!=null&&Lg("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:bx(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Hi.length;++i){var l=Hi[i],u=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:r?r[l[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Lg(l[0],u,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var ul=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],gE=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function xE(r){var e=[],t=De;return r||(r={}),r.Application="SheetJS",e[e.length]=Nr,e[e.length]=De("Properties",null,{xmlns:Or.EXT_PROPS,"xmlns:vt":Or.vt}),ul.forEach(function(n){if(r[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Ft(String(r[n[1]]));break;case"bool":a=r[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=t(n[0],a))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+Ft(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function pE(r){var e=[Nr,De("Properties",null,{xmlns:Or.CUST_PROPS,"xmlns:vt":Or.vt})];if(!r)return e.join("");var t=1;return Vr(r).forEach(function(a){++t,e[e.length]=De("property",o7(r[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Ft(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var N2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function V7(r,e){var t=[];return Vr(N2).map(function(n){for(var a=0;a<Hi.length;++a)if(Hi[a][1]==n)return Hi[a];for(a=0;a<ul.length;++a)if(ul[a][1]==n)return ul[a];throw n}).forEach(function(n){if(r[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),t.push(zr(N2[n[1]]||n[1],a))}}),De("DocumentProperties",t.join(""),{xmlns:Cn.o})}function W7(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return r&&Vr(r).forEach(function(i){if(Object.prototype.hasOwnProperty.call(r,i)){for(var l=0;l<Hi.length;++l)if(i==Hi[l][1])return;for(l=0;l<ul.length;++l)if(i==ul[l][1])return;for(l=0;l<t.length;++l)if(i==t[l])return;var u=r[i],h="string";typeof u=="number"?(h="float",u=String(u)):u===!0||u===!1?(h="boolean",u=u?"1":"0"):u=String(u),a.push(De(d2(i),u,{"dt:dt":h}))}}),e&&Vr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(r&&Object.prototype.hasOwnProperty.call(r,i))){var l=e[i],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l instanceof Date?(u="dateTime.tz",l=l.toISOString()):l=String(l),a.push(De(d2(i),l,{"dt:dt":u}))}}),"<"+n+' xmlns="'+Cn.o+'">'+a.join("")+"</"+n+">"}function q7(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),a=(t-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var l=pe(8);return l.write_shift(4,n),l.write_shift(4,a),l}function E2(r,e){var t=pe(4),n=pe(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=pe(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=q7(e);break;case 31:case 80:for(n=pe(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return Ur([t,n])}var yE=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function G7(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function k2(r,e,t){var n=pe(8),a=[],i=[],l=8,u=0,h=pe(8),f=pe(8);if(h.write_shift(4,2),h.write_shift(4,1200),f.write_shift(4,1),i.push(h),a.push(f),l+=8+h.length,!e){f=pe(8),f.write_shift(4,0),a.unshift(f);var g=[pe(4)];for(g[0].write_shift(4,r.length),u=0;u<r.length;++u){var x=r[u][0];for(h=pe(8+2*(x.length+1)+(x.length%2?0:2)),h.write_shift(4,u+2),h.write_shift(4,x.length+1),h.write_shift(0,x,"dbcs");h.l!=h.length;)h.write_shift(1,0);g.push(h)}h=Ur(g),i.unshift(h),l+=8+h.length}for(u=0;u<r.length;++u)if(!(e&&!e[r[u][0]])&&!(yE.indexOf(r[u][0])>-1||gE.indexOf(r[u][0])>-1)&&r[u][1]!=null){var y=r[u][1],v=0;if(e){v=+e[r[u][0]];var w=t[v];if(w.p=="version"&&typeof y=="string"){var _=y.split(".");y=(+_[0]<<16)+(+_[1]||0)}h=E2(w.t,y)}else{var S=G7(y);S==-1&&(S=31,y=String(y)),h=E2(S,y)}i.push(h),f=pe(8),f.write_shift(4,e?v:2+u),a.push(f),l+=8+h.length}var E=8*(i.length+1);for(u=0;u<i.length;++u)a[u].write_shift(4,E),E+=i[u].length;return n.write_shift(4,l),n.write_shift(4,i.length),Ur([n].concat(a).concat(i))}function T2(r,e,t,n,a,i){var l=pe(a?68:48),u=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,zt.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,a?68:48);var h=k2(r,t,n);if(u.push(h),a){var f=k2(a,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+h.length),u.push(f)}return Ur(u)}function Y7(r,e){e||(e=pe(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function K7(r,e){return r.read_shift(e)===1}function tn(r,e){return e||(e=pe(2)),e.write_shift(2,+!!r),e}function vE(r){return r.read_shift(2,"u")}function Xn(r,e){return e||(e=pe(2)),e.write_shift(2,r),e}function bE(r,e,t){return t||(t=pe(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function _E(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var i=r.read_shift(1);i&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var l=n?r.read_shift(n,a):"";return l}function X7(r){var e=r.t||"",t=pe(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=pe(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[t,n];return Ur(a)}function J7(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var a=r.read_shift(1);return a===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function Q7(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):J7(r,n,t)}function Z7(r,e,t){if(t.biff>5)return Q7(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function wE(r,e,t){return t||(t=pe(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function j2(r,e){e||(e=pe(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function e9(r){var e=pe(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)e.write_shift(4,l[t]);if(i==28)n=n.slice(1),j2(n,e);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));var u=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(u.length+1)),t=0;t<u.length;++t)e.write_shift(2,u.charCodeAt(t));e.write_shift(2,0),i&8&&j2(a>-1?n.slice(a+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));for(var h=0;n.slice(h*3,h*3+3)=="../"||n.slice(h*3,h*3+3)=="..\\";)++h;for(e.write_shift(2,h),e.write_shift(4,n.length-3*h+1),t=0;t<n.length-3*h;++t)e.write_shift(1,n.charCodeAt(t+3*h)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function Xi(r,e,t,n){return n||(n=pe(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function t9(r,e,t){var n=t.biff>8?4:2,a=r.read_shift(n),i=r.read_shift(n,"i"),l=r.read_shift(n,"i");return[a,i,l]}function r9(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),a=r.read_shift(2);return{s:{c:n,r:e},e:{c:a,r:t}}}function SE(r,e){return e||(e=pe(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function Rp(r,e,t){var n=1536,a=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=pe(a);return i.write_shift(2,n),i.write_shift(2,e),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function n9(r,e){var t=!e||e.biff==8,n=pe(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function a9(r,e){var t=!e||e.biff>=8?2:1,n=pe(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function s9(r,e){var t=pe(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],a=0;a<r.length;++a)n[a]=X7(r[a]);var i=Ur([t].concat(n));return i.parts=[t.length].concat(n.map(function(l){return l.length})),i}function i9(){var r=pe(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function o9(r){var e=pe(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function l9(r,e){var t=r.name||"Arial",n=e&&e.biff==5,a=n?15+t.length:16+2*t.length,i=pe(a);return i.write_shift(2,r.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,t.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),i}function c9(r,e,t,n){var a=pe(10);return Xi(r,e,n,a),a.write_shift(4,t),a}function u9(r,e,t,n,a){var i=!a||a.biff==8,l=pe(8+ +i+(1+i)*t.length);return Xi(r,e,n,l),l.write_shift(2,t.length),i&&l.write_shift(1,1),l.write_shift((1+i)*t.length,t,i?"utf16le":"sbcs"),l}function d9(r,e,t,n){var a=t&&t.biff==5;n||(n=pe(a?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function h9(r,e){var t=e.biff==8||!e.biff?4:2,n=pe(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function A2(r,e,t,n){var a=t&&t.biff==5;n||(n=pe(a?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var i=0;return r.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function f9(r){var e=pe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function m9(r,e,t,n,a,i){var l=pe(8);return Xi(r,e,n,l),bE(t,i,l),l}function g9(r,e,t,n){var a=pe(14);return Xi(r,e,n,a),Ki(t,a),a}function x9(r,e,t){if(t.biff<8)return p9(r,e,t);for(var n=[],a=r.l+e,i=r.read_shift(t.biff>8?4:2);i--!==0;)n.push(t9(r,t.biff>8?12:6,t));if(r.l!=a)throw new Error("Bad ExternSheet: "+r.l+" != "+a);return n}function p9(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=_E(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function y9(r){var e=pe(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)SE(r[t],e);return e}function v9(r){var e=pe(24),t=Rr(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return Ur([e,e9(r[1])])}function b9(r){var e=r[1].Tooltip,t=pe(10+2*(e.length+1));t.write_shift(2,2048);var n=Rr(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function _9(r){return r||(r=pe(4)),r.write_shift(2,1),r.write_shift(2,1),r}function w9(r,e,t){if(!t.cellStyles)return Oa(r,e);var n=t&&t.biff>=12?4:2,a=r.read_shift(n),i=r.read_shift(n),l=r.read_shift(n),u=r.read_shift(n),h=r.read_shift(2);n==2&&(r.l+=2);var f={s:a,e:i,w:l,ixfe:u,flags:h};return(t.biff>=5||!t.biff)&&(f.level=h>>8&7),f}function S9(r,e){var t=pe(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function N9(r){for(var e=pe(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function E9(r,e,t){var n=pe(15);return Iu(n,r,e),n.write_shift(8,t,"f"),n}function k9(r,e,t){var n=pe(9);return Iu(n,r,e),n.write_shift(2,t),n}var T9=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=_p({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(u,h){var f=[],g=Yi(1);switch(h.type){case"base64":g=ha(us(u));break;case"binary":g=ha(u);break;case"buffer":case"array":g=u;break}An(g,0);var x=g.read_shift(1),y=!!(x&136),v=!1,w=!1;switch(x){case 2:break;case 3:break;case 48:v=!0,y=!0;break;case 49:v=!0,y=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var _=0,S=521;x==2&&(_=g.read_shift(2)),g.l+=3,x!=2&&(_=g.read_shift(4)),_>1048576&&(_=1e6),x!=2&&(S=g.read_shift(2));var E=g.read_shift(2),N=h.codepage||1252;x!=2&&(g.l+=16,g.read_shift(1),g[g.l]!==0&&(N=r[g[g.l]]),g.l+=1,g.l+=2),w&&(g.l+=36);for(var T=[],M={},C=Math.min(g.length,x==2?521:S-10-(v?264:0)),V=w?32:11;g.l<C&&g[g.l]!=13;)switch(M={},M.name=sf.utils.decode(N,g.slice(g.l,g.l+V)).replace(/[\u0000\r\n].*$/g,""),g.l+=V,M.type=String.fromCharCode(g.read_shift(1)),x!=2&&!w&&(M.offset=g.read_shift(4)),M.len=g.read_shift(1),x==2&&(M.offset=g.read_shift(2)),M.dec=g.read_shift(1),M.name.length&&T.push(M),x!=2&&(g.l+=w?13:14),M.type){case"B":(!v||M.len!=8)&&h.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+M.type)}if(g[g.l]!==13&&(g.l=S-1),g.read_shift(1)!==13)throw new Error("DBF Terminator not found "+g.l+" "+g[g.l]);g.l=S;var D=0,Y=0;for(f[0]=[],Y=0;Y!=T.length;++Y)f[0][Y]=T[Y].name;for(;_-- >0;){if(g[g.l]===42){g.l+=E;continue}for(++g.l,f[++D]=[],Y=0,Y=0;Y!=T.length;++Y){var O=g.slice(g.l,g.l+T[Y].len);g.l+=T[Y].len,An(O,0);var Q=sf.utils.decode(N,O);switch(T[Y].type){case"C":Q.trim().length&&(f[D][Y]=Q.replace(/\s+$/,""));break;case"D":Q.length===8?f[D][Y]=new Date(+Q.slice(0,4),+Q.slice(4,6)-1,+Q.slice(6,8)):f[D][Y]=Q;break;case"F":f[D][Y]=parseFloat(Q.trim());break;case"+":case"I":f[D][Y]=w?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(Q.trim().toUpperCase()){case"Y":case"T":f[D][Y]=!0;break;case"N":case"F":f[D][Y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Q+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));f[D][Y]="##MEMO##"+(w?parseInt(Q.trim(),10):O.read_shift(4));break;case"N":Q=Q.replace(/\u0000/g,"").trim(),Q&&Q!="."&&(f[D][Y]=+Q||0);break;case"@":f[D][Y]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":f[D][Y]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":f[D][Y]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[D][Y]=-O.read_shift(-8,"f");break;case"B":if(v&&T[Y].len==8){f[D][Y]=O.read_shift(8,"f");break}case"G":case"P":O.l+=T[Y].len;break;case"0":if(T[Y].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[Y].type)}}}if(x!=2&&g.l<g.length&&g[g.l++]!=26)throw new Error("DBF EOF Marker missing "+(g.l-1)+" of "+g.length+" "+g[g.l-1].toString(16));return h&&h.sheetRows&&(f=f.slice(0,h.sheetRows)),h.DBF=T,f}function n(u,h){var f=h||{};f.dateNF||(f.dateNF="yyyymmdd");var g=Cl(t(u,f),f);return g["!cols"]=f.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete f.DBF,g}function a(u,h){try{return Zi(n(u,h),h)}catch(f){if(h&&h.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,h){var f=h||{};if(+f.codepage>=0&&gu(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var g=pn(),x=vf(u,{header:1,raw:!0,cellDates:!0}),y=x[0],v=x.slice(1),w=u["!cols"]||[],_=0,S=0,E=0,N=1;for(_=0;_<y.length;++_){if(((w[_]||{}).DBF||{}).name){y[_]=w[_].DBF.name,++E;continue}if(y[_]!=null){if(++E,typeof y[_]=="number"&&(y[_]=y[_].toString(10)),typeof y[_]!="string")throw new Error("DBF Invalid column name "+y[_]+" |"+typeof y[_]+"|");if(y.indexOf(y[_])!==_){for(S=0;S<1024;++S)if(y.indexOf(y[_]+"_"+S)==-1){y[_]+="_"+S;break}}}}var T=Qt(u["!ref"]),M=[],C=[],V=[];for(_=0;_<=T.e.c-T.s.c;++_){var D="",Y="",O=0,Q=[];for(S=0;S<v.length;++S)v[S][_]!=null&&Q.push(v[S][_]);if(Q.length==0||y[_]==null){M[_]="?";continue}for(S=0;S<Q.length;++S){switch(typeof Q[S]){case"number":Y="B";break;case"string":Y="C";break;case"boolean":Y="L";break;case"object":Y=Q[S]instanceof Date?"D":"C";break;default:Y="C"}O=Math.max(O,String(Q[S]).length),D=D&&D!=Y?"C":Y}O>250&&(O=250),Y=((w[_]||{}).DBF||{}).type,Y=="C"&&w[_].DBF.len>O&&(O=w[_].DBF.len),D=="B"&&Y=="N"&&(D="N",V[_]=w[_].DBF.dec,O=w[_].DBF.len),C[_]=D=="C"||Y=="N"?O:i[D]||0,N+=C[_],M[_]=D}var W=g.next(32);for(W.write_shift(4,318902576),W.write_shift(4,v.length),W.write_shift(2,296+32*E),W.write_shift(2,N),_=0;_<4;++_)W.write_shift(4,0);for(W.write_shift(4,0|(+e[EN]||3)<<8),_=0,S=0;_<y.length;++_)if(y[_]!=null){var Z=g.next(32),xe=(y[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Z.write_shift(1,xe,"sbcs"),Z.write_shift(1,M[_]=="?"?"C":M[_],"sbcs"),Z.write_shift(4,S),Z.write_shift(1,C[_]||i[M[_]]||0),Z.write_shift(1,V[_]||0),Z.write_shift(1,2),Z.write_shift(4,0),Z.write_shift(1,0),Z.write_shift(4,0),Z.write_shift(4,0),S+=C[_]||i[M[_]]||0}var Fe=g.next(264);for(Fe.write_shift(4,13),_=0;_<65;++_)Fe.write_shift(4,0);for(_=0;_<v.length;++_){var ke=g.next(N);for(ke.write_shift(1,0),S=0;S<y.length;++S)if(y[S]!=null)switch(M[S]){case"L":ke.write_shift(1,v[_][S]==null?63:v[_][S]?84:70);break;case"B":ke.write_shift(8,v[_][S]||0,"f");break;case"N":var te="0";for(typeof v[_][S]=="number"&&(te=v[_][S].toFixed(V[S]||0)),E=0;E<C[S]-te.length;++E)ke.write_shift(1,32);ke.write_shift(1,te,"sbcs");break;case"D":v[_][S]?(ke.write_shift(4,("0000"+v[_][S].getFullYear()).slice(-4),"sbcs"),ke.write_shift(2,("00"+(v[_][S].getMonth()+1)).slice(-2),"sbcs"),ke.write_shift(2,("00"+v[_][S].getDate()).slice(-2),"sbcs")):ke.write_shift(8,"00000000","sbcs");break;case"C":var ae=String(v[_][S]!=null?v[_][S]:"").slice(0,C[S]);for(ke.write_shift(1,ae,"sbcs"),E=0;E<C[S]-ae.length;++E)ke.write_shift(1,32);break}}return g.next(1).write_shift(1,26),g.end()}return{to_workbook:a,to_sheet:n,from_sheet:l}})(),j9=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Vr(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(y,v){var w=r[v];return typeof w=="number"?Zw(w):w},n=function(y,v,w){var _=v.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return _==59?y:Zw(_)};r["|"]=254;function a(y,v){switch(v.type){case"base64":return i(us(y),v);case"binary":return i(y,v);case"buffer":return i(kt&&Buffer.isBuffer(y)?y.toString("binary"):Du(y),v);case"array":return i(Uf(y),v)}throw new Error("Unrecognized type "+v.type)}function i(y,v){var w=y.split(/[\n\r]+/),_=-1,S=-1,E=0,N=0,T=[],M=[],C=null,V={},D=[],Y=[],O=[],Q=0,W;for(+v.codepage>=0&&gu(+v.codepage);E!==w.length;++E){Q=0;var Z=w[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),xe=Z.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),Fe=xe[0],ke;if(Z.length>0)switch(Fe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":xe[1].charAt(0)=="P"&&M.push(Z.slice(3).replace(/;;/g,";"));break;case"C":var te=!1,ae=!1,Te=!1,Oe=!1,We=-1,K=-1;for(N=1;N<xe.length;++N)switch(xe[N].charAt(0)){case"A":break;case"X":S=parseInt(xe[N].slice(1))-1,ae=!0;break;case"Y":for(_=parseInt(xe[N].slice(1))-1,ae||(S=0),W=T.length;W<=_;++W)T[W]=[];break;case"K":ke=xe[N].slice(1),ke.charAt(0)==='"'?ke=ke.slice(1,ke.length-1):ke==="TRUE"?ke=!0:ke==="FALSE"?ke=!1:isNaN(os(ke))?isNaN(pu(ke).getDate())||(ke=rn(ke)):(ke=os(ke),C!==null&&PN(C)&&(ke=zN(ke))),te=!0;break;case"E":Oe=!0;var R=kP(xe[N].slice(1),{r:_,c:S});T[_][S]=[T[_][S],R];break;case"S":Te=!0,T[_][S]=[T[_][S],"S5S"];break;case"G":break;case"R":We=parseInt(xe[N].slice(1))-1;break;case"C":K=parseInt(xe[N].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+Z)}if(te&&(T[_][S]&&T[_][S].length==2?T[_][S][0]=ke:T[_][S]=ke,C=null),Te){if(Oe)throw new Error("SYLK shared formula cannot have own formula");var q=We>-1&&T[We][K];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");T[_][S][1]=TP(q[1],{r:_-We,c:S-K})}break;case"F":var H=0;for(N=1;N<xe.length;++N)switch(xe[N].charAt(0)){case"X":S=parseInt(xe[N].slice(1))-1,++H;break;case"Y":for(_=parseInt(xe[N].slice(1))-1,W=T.length;W<=_;++W)T[W]=[];break;case"M":Q=parseInt(xe[N].slice(1))/20;break;case"F":break;case"G":break;case"P":C=M[parseInt(xe[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=xe[N].slice(1).split(" "),W=parseInt(O[0],10);W<=parseInt(O[1],10);++W)Q=parseInt(O[2],10),Y[W-1]=Q===0?{hidden:!0}:{wch:Q},Dp(Y[W-1]);break;case"C":S=parseInt(xe[N].slice(1))-1,Y[S]||(Y[S]={});break;case"R":_=parseInt(xe[N].slice(1))-1,D[_]||(D[_]={}),Q>0?(D[_].hpt=Q,D[_].hpx=jE(Q)):Q===0&&(D[_].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+Z)}H<1&&(C=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+Z)}}return D.length>0&&(V["!rows"]=D),Y.length>0&&(V["!cols"]=Y),v&&v.sheetRows&&(T=T.slice(0,v.sheetRows)),[T,V]}function l(y,v){var w=a(y,v),_=w[0],S=w[1],E=Cl(_,v);return Vr(S).forEach(function(N){E[N]=S[N]}),E}function u(y,v){return Zi(l(y,v),v)}function h(y,v,w,_){var S="C;Y"+(w+1)+";X"+(_+1)+";K";switch(y.t){case"n":S+=y.v||0,y.f&&!y.F&&(S+=";E"+Fp(y.f,{r:w,c:_}));break;case"b":S+=y.v?"TRUE":"FALSE";break;case"e":S+=y.w||y.v;break;case"d":S+='"'+(y.w||y.v)+'"';break;case"s":S+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function f(y,v){v.forEach(function(w,_){var S="F;W"+(_+1)+" "+(_+1)+" ";w.hidden?S+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=gf(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=xf(w.wpx)),typeof w.wch=="number"&&(S+=Math.round(w.wch))),S.charAt(S.length-1)!=" "&&y.push(S)})}function g(y,v){v.forEach(function(w,_){var S="F;";w.hidden?S+="M0;":w.hpt?S+="M"+20*w.hpt+";":w.hpx&&(S+="M"+20*pf(w.hpx)+";"),S.length>2&&y.push(S+"R"+(_+1))})}function x(y,v){var w=["ID;PWXL;N;E"],_=[],S=Qt(y["!ref"]),E,N=Array.isArray(y),T=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),y["!cols"]&&f(w,y["!cols"]),y["!rows"]&&g(w,y["!rows"]),w.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var M=S.s.r;M<=S.e.r;++M)for(var C=S.s.c;C<=S.e.c;++C){var V=Lt({r:M,c:C});E=N?(y[M]||[])[C]:y[V],!(!E||E.v==null&&(!E.f||E.F))&&_.push(h(E,y,M,C))}return w.join(T)+T+_.join(T)+T+"E"+T}return{to_workbook:u,to_sheet:l,from_sheet:x}})(),A9=(function(){function r(i,l){switch(l.type){case"base64":return e(us(i),l);case"binary":return e(i,l);case"buffer":return e(kt&&Buffer.isBuffer(i)?i.toString("binary"):Du(i),l);case"array":return e(Uf(i),l)}throw new Error("Unrecognized type "+l.type)}function e(i,l){for(var u=i.split(`
`),h=-1,f=-1,g=0,x=[];g!==u.length;++g){if(u[g].trim()==="BOT"){x[++h]=[],f=0;continue}if(!(h<0)){var y=u[g].trim().split(","),v=y[0],w=y[1];++g;for(var _=u[g]||"";(_.match(/["]/g)||[]).length&1&&g<u.length-1;)_+=`
`+u[++g];switch(_=_.trim(),+v){case-1:if(_==="BOT"){x[++h]=[],f=0;continue}else if(_!=="EOD")throw new Error("Unrecognized DIF special command "+_);break;case 0:_==="TRUE"?x[h][f]=!0:_==="FALSE"?x[h][f]=!1:isNaN(os(w))?isNaN(pu(w).getDate())?x[h][f]=w:x[h][f]=rn(w):x[h][f]=os(w),++f;break;case 1:_=_.slice(1,_.length-1),_=_.replace(/""/g,'"'),_&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),x[h][f++]=_!==""?_:null;break}if(_==="EOD")break}}return l&&l.sheetRows&&(x=x.slice(0,l.sheetRows)),x}function t(i,l){return Cl(r(i,l),l)}function n(i,l){return Zi(t(i,l),l)}var a=(function(){var i=function(h,f,g,x,y){h.push(f),h.push(g+","+x),h.push('"'+y.replace(/"/g,'""')+'"')},l=function(h,f,g,x){h.push(f+","+g),h.push(f==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(h){var f=[],g=Qt(h["!ref"]),x,y=Array.isArray(h);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,g.e.r-g.s.r+1,""),i(f,"TUPLES",0,g.e.c-g.s.c+1,""),i(f,"DATA",0,0,"");for(var v=g.s.r;v<=g.e.r;++v){l(f,-1,0,"BOT");for(var w=g.s.c;w<=g.e.c;++w){var _=Lt({r:v,c:w});if(x=y?(h[v]||[])[w]:h[_],!x){l(f,1,0,"");continue}switch(x.t){case"n":var S=x.w;!S&&x.v!=null&&(S=x.v),S==null?x.f&&!x.F?l(f,1,0,"="+x.f):l(f,1,0,""):l(f,0,S,"V");break;case"b":l(f,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=ei(x.z||ur[14],yn(rn(x.v)))),l(f,0,x.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var E=`\r
`,N=f.join(E);return N}})();return{to_workbook:n,to_sheet:t,from_sheet:a}})(),NE=(function(){function r(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(x,y){for(var v=x.split(`
`),w=-1,_=-1,S=0,E=[];S!==v.length;++S){var N=v[S].trim().split(":");if(N[0]==="cell"){var T=Rr(N[1]);if(E.length<=T.r)for(w=E.length;w<=T.r;++w)E[w]||(E[w]=[]);switch(w=T.r,_=T.c,N[2]){case"t":E[w][_]=r(N[3]);break;case"v":E[w][_]=+N[3];break;case"vtf":var M=N[N.length-1];case"vtc":switch(N[3]){case"nl":E[w][_]=!!+N[4];break;default:E[w][_]=+N[4];break}N[2]=="vtf"&&(E[w][_]=[E[w][_],M])}}}return y&&y.sheetRows&&(E=E.slice(0,y.sheetRows)),E}function n(x,y){return Cl(t(x,y),y)}function a(x,y){return Zi(n(x,y),y)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function f(x){if(!x||!x["!ref"])return"";for(var y=[],v=[],w,_="",S=Mn(x["!ref"]),E=Array.isArray(x),N=S.s.r;N<=S.e.r;++N)for(var T=S.s.c;T<=S.e.c;++T)if(_=Lt({r:N,c:T}),w=E?(x[N]||[])[T]:x[_],!(!w||w.v==null||w.t==="z")){switch(v=["cell",_,"t"],w.t){case"s":case"str":v.push(e(w.v));break;case"n":w.f?(v[2]="vtf",v[3]="n",v[4]=w.v,v[5]=e(w.f)):(v[2]="v",v[3]=w.v);break;case"b":v[2]="vt"+(w.f?"f":"c"),v[3]="nl",v[4]=w.v?"1":"0",v[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var M=yn(rn(w.v));v[2]="vtc",v[3]="nd",v[4]=""+M,v[5]=w.w||ei(w.z||ur[14],M);break;case"e":continue}y.push(v.join(":"))}return y.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function g(x){return[i,l,u,l,f(x),h].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:g}})(),C9=(function(){function r(g,x,y,v,w){w.raw?x[y][v]=g:g===""||(g==="TRUE"?x[y][v]=!0:g==="FALSE"?x[y][v]=!1:isNaN(os(g))?isNaN(pu(g).getDate())?x[y][v]=g:x[y][v]=rn(g):x[y][v]=os(g))}function e(g,x){var y=x||{},v=[];if(!g||g.length===0)return v;for(var w=g.split(/[\r\n]/),_=w.length-1;_>=0&&w[_].length===0;)--_;for(var S=10,E=0,N=0;N<=_;++N)E=w[N].indexOf(" "),E==-1?E=w[N].length:E++,S=Math.max(S,E);for(N=0;N<=_;++N){v[N]=[];var T=0;for(r(w[N].slice(0,S).trim(),v,N,T,y),T=1;T<=(w[N].length-S)/10+1;++T)r(w[N].slice(S+(T-1)*10,S+T*10).trim(),v,N,T,y)}return y.sheetRows&&(v=v.slice(0,y.sheetRows)),v}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(g){for(var x={},y=!1,v=0,w=0;v<g.length;++v)(w=g.charCodeAt(v))==34?y=!y:!y&&w in t&&(x[w]=(x[w]||0)+1);w=[];for(v in x)Object.prototype.hasOwnProperty.call(x,v)&&w.push([x[v],v]);if(!w.length){x=n;for(v in x)Object.prototype.hasOwnProperty.call(x,v)&&w.push([x[v],v])}return w.sort(function(_,S){return _[0]-S[0]||n[_[1]]-n[S[1]]}),t[w.pop()[1]]||44}function i(g,x){var y=x||{},v="",w=y.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};g.slice(0,4)=="sep="?g.charCodeAt(5)==13&&g.charCodeAt(6)==10?(v=g.charAt(4),g=g.slice(7)):g.charCodeAt(5)==13||g.charCodeAt(5)==10?(v=g.charAt(4),g=g.slice(6)):v=a(g.slice(0,1024)):y&&y.FS?v=y.FS:v=a(g.slice(0,1024));var S=0,E=0,N=0,T=0,M=0,C=v.charCodeAt(0),V=!1,D=0,Y=g.charCodeAt(0);g=g.replace(/\r\n/mg,`
`);var O=y.dateNF!=null?qL(y.dateNF):null;function Q(){var W=g.slice(T,M),Z={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)Z.t="z";else if(y.raw)Z.t="s",Z.v=W;else if(W.trim().length===0)Z.t="s",Z.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(Z.t="s",Z.v=W.slice(2,-1).replace(/""/g,'"')):jP(W)?(Z.t="n",Z.f=W.slice(1)):(Z.t="s",Z.v=W);else if(W=="TRUE")Z.t="b",Z.v=!0;else if(W=="FALSE")Z.t="b",Z.v=!1;else if(!isNaN(N=os(W)))Z.t="n",y.cellText!==!1&&(Z.w=W),Z.v=N;else if(!isNaN(pu(W).getDate())||O&&W.match(O)){Z.z=y.dateNF||ur[14];var xe=0;O&&W.match(O)&&(W=GL(W,y.dateNF,W.match(O)||[]),xe=1),y.cellDates?(Z.t="d",Z.v=rn(W,xe)):(Z.t="n",Z.v=yn(rn(W,xe))),y.cellText!==!1&&(Z.w=ei(Z.z,Z.v instanceof Date?yn(Z.v):Z.v)),y.cellNF||delete Z.z}else Z.t="s",Z.v=W;if(Z.t=="z"||(y.dense?(w[S]||(w[S]=[]),w[S][E]=Z):w[Lt({c:E,r:S})]=Z),T=M+1,Y=g.charCodeAt(T),_.e.c<E&&(_.e.c=E),_.e.r<S&&(_.e.r=S),D==C)++E;else if(E=0,++S,y.sheetRows&&y.sheetRows<=S)return!0}e:for(;M<g.length;++M)switch(D=g.charCodeAt(M)){case 34:Y===34&&(V=!V);break;case C:case 10:case 13:if(!V&&Q())break e;break}return M-T>0&&Q(),w["!ref"]=Sr(_),w}function l(g,x){return!(x&&x.PRN)||x.FS||g.slice(0,4)=="sep="||g.indexOf("	")>=0||g.indexOf(",")>=0||g.indexOf(";")>=0?i(g,x):Cl(e(g,x),x)}function u(g,x){var y="",v=x.type=="string"?[0,0,0,0]:Hz(g,x);switch(x.type){case"base64":y=us(g);break;case"binary":y=g;break;case"buffer":x.codepage==65001?y=g.toString("utf8"):x.codepage&&typeof sf<"u"||(y=kt&&Buffer.isBuffer(g)?g.toString("binary"):Du(g));break;case"array":y=Uf(g);break;case"string":y=g;break;default:throw new Error("Unrecognized type "+x.type)}return v[0]==239&&v[1]==187&&v[2]==191?y=Jc(y.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?y=Jc(y):x.type=="binary"&&typeof sf<"u",y.slice(0,19)=="socialcalc:version:"?NE.to_sheet(x.type=="string"?y:Jc(y),x):l(y,x)}function h(g,x){return Zi(u(g,x),x)}function f(g){for(var x=[],y=Qt(g["!ref"]),v,w=Array.isArray(g),_=y.s.r;_<=y.e.r;++_){for(var S=[],E=y.s.c;E<=y.e.c;++E){var N=Lt({r:_,c:E});if(v=w?(g[_]||[])[E]:g[N],!v||v.v==null){S.push("          ");continue}for(var T=(v.w||(ds(v),v.w)||"").slice(0,10);T.length<10;)T+=" ";S.push(T+(E===0?" ":""))}x.push(S.join(""))}return x.join(`
`)}return{to_workbook:h,to_sheet:u,from_sheet:f}})(),C2=(function(){function r(R,q,H){if(R){An(R,R.l||0);for(var G=H.Enum||We;R.l<R.length;){var se=R.read_shift(2),J=G[se]||G[65535],Se=R.read_shift(2),be=R.l+Se,je=J.f&&J.f(R,Se,H);if(R.l=be,q(je,J,se))return}}}function e(R,q){switch(q.type){case"base64":return t(ha(us(R)),q);case"binary":return t(ha(R),q);case"buffer":case"array":return t(R,q)}throw"Unsupported type "+q.type}function t(R,q){if(!R)return R;var H=q||{},G=H.dense?[]:{},se="Sheet1",J="",Se=0,be={},je=[],ft=[],it={s:{r:0,c:0},e:{r:0,c:0}},ar=H.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)H.Enum=We,r(R,function(Ee,Xe,vt){switch(vt){case 0:H.vers=Ee,Ee>=4096&&(H.qpro=!0);break;case 6:it=Ee;break;case 204:Ee&&(J=Ee);break;case 222:J=Ee;break;case 15:case 51:H.qpro||(Ee[1].v=Ee[1].v.slice(1));case 13:case 14:case 16:vt==14&&(Ee[2]&112)==112&&(Ee[2]&15)>1&&(Ee[2]&15)<15&&(Ee[1].z=H.dateNF||ur[14],H.cellDates&&(Ee[1].t="d",Ee[1].v=zN(Ee[1].v))),H.qpro&&Ee[3]>Se&&(G["!ref"]=Sr(it),be[se]=G,je.push(se),G=H.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},Se=Ee[3],se=J||"Sheet"+(Se+1),J="");var jt=H.dense?(G[Ee[0].r]||[])[Ee[0].c]:G[Lt(Ee[0])];if(jt){jt.t=Ee[1].t,jt.v=Ee[1].v,Ee[1].z!=null&&(jt.z=Ee[1].z),Ee[1].f!=null&&(jt.f=Ee[1].f);break}H.dense?(G[Ee[0].r]||(G[Ee[0].r]=[]),G[Ee[0].r][Ee[0].c]=Ee[1]):G[Lt(Ee[0])]=Ee[1];break}},H);else if(R[2]==26||R[2]==14)H.Enum=K,R[2]==14&&(H.qpro=!0,R.l=0),r(R,function(Ee,Xe,vt){switch(vt){case 204:se=Ee;break;case 22:Ee[1].v=Ee[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ee[3]>Se&&(G["!ref"]=Sr(it),be[se]=G,je.push(se),G=H.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},Se=Ee[3],se="Sheet"+(Se+1)),ar>0&&Ee[0].r>=ar)break;H.dense?(G[Ee[0].r]||(G[Ee[0].r]=[]),G[Ee[0].r][Ee[0].c]=Ee[1]):G[Lt(Ee[0])]=Ee[1],it.e.c<Ee[0].c&&(it.e.c=Ee[0].c),it.e.r<Ee[0].r&&(it.e.r=Ee[0].r);break;case 27:Ee[14e3]&&(ft[Ee[14e3][0]]=Ee[14e3][1]);break;case 1537:ft[Ee[0]]=Ee[1],Ee[0]==Se&&(se=Ee[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(G["!ref"]=Sr(it),be[J||se]=G,je.push(J||se),!ft.length)return{SheetNames:je,Sheets:be};for(var rt={},oe=[],Pe=0;Pe<ft.length;++Pe)be[je[Pe]]?(oe.push(ft[Pe]||je[Pe]),rt[ft[Pe]]=be[ft[Pe]]||be[je[Pe]]):(oe.push(ft[Pe]),rt[ft[Pe]]={"!ref":"A1"});return{SheetNames:oe,Sheets:rt}}function n(R,q){var H=q||{};if(+H.codepage>=0&&gu(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var G=pn(),se=Qt(R["!ref"]),J=Array.isArray(R),Se=[];Me(G,0,i(1030)),Me(G,6,h(se));for(var be=Math.min(se.e.r,8191),je=se.s.r;je<=be;++je)for(var ft=$r(je),it=se.s.c;it<=se.e.c;++it){je===se.s.r&&(Se[it]=Jr(it));var ar=Se[it]+ft,rt=J?(R[je]||[])[it]:R[ar];if(!(!rt||rt.t=="z"))if(rt.t=="n")(rt.v|0)==rt.v&&rt.v>=-32768&&rt.v<=32767?Me(G,13,v(je,it,rt.v)):Me(G,14,_(je,it,rt.v));else{var oe=ds(rt);Me(G,15,x(je,it,oe.slice(0,239)))}}return Me(G,1),G.end()}function a(R,q){var H=q||{};if(+H.codepage>=0&&gu(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var G=pn();Me(G,0,l(R));for(var se=0,J=0;se<R.SheetNames.length;++se)(R.Sheets[R.SheetNames[se]]||{})["!ref"]&&Me(G,27,Oe(R.SheetNames[se],J++));var Se=0;for(se=0;se<R.SheetNames.length;++se){var be=R.Sheets[R.SheetNames[se]];if(!(!be||!be["!ref"])){for(var je=Qt(be["!ref"]),ft=Array.isArray(be),it=[],ar=Math.min(je.e.r,8191),rt=je.s.r;rt<=ar;++rt)for(var oe=$r(rt),Pe=je.s.c;Pe<=je.e.c;++Pe){rt===je.s.r&&(it[Pe]=Jr(Pe));var Ee=it[Pe]+oe,Xe=ft?(be[rt]||[])[Pe]:be[Ee];if(!(!Xe||Xe.t=="z"))if(Xe.t=="n")Me(G,23,Q(rt,Pe,Se,Xe.v));else{var vt=ds(Xe);Me(G,22,D(rt,Pe,Se,vt.slice(0,239)))}}++Se}}return Me(G,1),G.end()}function i(R){var q=pe(2);return q.write_shift(2,R),q}function l(R){var q=pe(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var H=0,G=0,se=0,J=0;J<R.SheetNames.length;++J){var Se=R.SheetNames[J],be=R.Sheets[Se];if(!(!be||!be["!ref"])){++se;var je=Mn(be["!ref"]);H<je.e.r&&(H=je.e.r),G<je.e.c&&(G=je.e.c)}}return H>8191&&(H=8191),q.write_shift(2,H),q.write_shift(1,se),q.write_shift(1,G),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function u(R,q,H){var G={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&H.qpro?(G.s.c=R.read_shift(1),R.l++,G.s.r=R.read_shift(2),G.e.c=R.read_shift(1),R.l++,G.e.r=R.read_shift(2),G):(G.s.c=R.read_shift(2),G.s.r=R.read_shift(2),q==12&&H.qpro&&(R.l+=2),G.e.c=R.read_shift(2),G.e.r=R.read_shift(2),q==12&&H.qpro&&(R.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function h(R){var q=pe(8);return q.write_shift(2,R.s.c),q.write_shift(2,R.s.r),q.write_shift(2,R.e.c),q.write_shift(2,R.e.r),q}function f(R,q,H){var G=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(G[0].c=R.read_shift(1),G[3]=R.read_shift(1),G[0].r=R.read_shift(2),R.l+=2):(G[2]=R.read_shift(1),G[0].c=R.read_shift(2),G[0].r=R.read_shift(2)),G}function g(R,q,H){var G=R.l+q,se=f(R,q,H);if(se[1].t="s",H.vers==20768){R.l++;var J=R.read_shift(1);return se[1].v=R.read_shift(J,"utf8"),se}return H.qpro&&R.l++,se[1].v=R.read_shift(G-R.l,"cstr"),se}function x(R,q,H){var G=pe(7+H.length);G.write_shift(1,255),G.write_shift(2,q),G.write_shift(2,R),G.write_shift(1,39);for(var se=0;se<G.length;++se){var J=H.charCodeAt(se);G.write_shift(1,J>=128?95:J)}return G.write_shift(1,0),G}function y(R,q,H){var G=f(R,q,H);return G[1].v=R.read_shift(2,"i"),G}function v(R,q,H){var G=pe(7);return G.write_shift(1,255),G.write_shift(2,q),G.write_shift(2,R),G.write_shift(2,H,"i"),G}function w(R,q,H){var G=f(R,q,H);return G[1].v=R.read_shift(8,"f"),G}function _(R,q,H){var G=pe(13);return G.write_shift(1,255),G.write_shift(2,q),G.write_shift(2,R),G.write_shift(8,H,"f"),G}function S(R,q,H){var G=R.l+q,se=f(R,q,H);if(se[1].v=R.read_shift(8,"f"),H.qpro)R.l=G;else{var J=R.read_shift(2);M(R.slice(R.l,R.l+J),se),R.l+=J}return se}function E(R,q,H){var G=q&32768;return q&=-32769,q=(G?R:0)+(q>=8192?q-16384:q),(G?"":"$")+(H?Jr(q):$r(q))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function M(R,q){An(R,0);for(var H=[],G=0,se="",J="",Se="",be="";R.l<R.length;){var je=R[R.l++];switch(je){case 0:H.push(R.read_shift(8,"f"));break;case 1:J=E(q[0].c,R.read_shift(2),!0),se=E(q[0].r,R.read_shift(2),!1),H.push(J+se);break;case 2:{var ft=E(q[0].c,R.read_shift(2),!0),it=E(q[0].r,R.read_shift(2),!1);J=E(q[0].c,R.read_shift(2),!0),se=E(q[0].r,R.read_shift(2),!1),H.push(ft+it+":"+J+se)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(R.read_shift(2));break;case 6:{for(var ar="";je=R[R.l++];)ar+=String.fromCharCode(je);H.push('"'+ar.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:be=H.pop(),Se=H.pop(),H.push(["AND","OR"][je-20]+"("+Se+","+be+")");break;default:if(je<32&&T[je])be=H.pop(),Se=H.pop(),H.push(Se+T[je]+be);else if(N[je]){if(G=N[je][1],G==69&&(G=R[R.l++]),G>H.length){console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+H.join("|")+"|");return}var rt=H.slice(-G);H.length-=G,H.push(N[je][0]+"("+rt.join(",")+")")}else return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16))}}H.length==1?q[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function C(R){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=R.read_shift(2),q[3]=R[R.l++],q[0].c=R[R.l++],q}function V(R,q){var H=C(R);return H[1].t="s",H[1].v=R.read_shift(q-4,"cstr"),H}function D(R,q,H,G){var se=pe(6+G.length);se.write_shift(2,R),se.write_shift(1,H),se.write_shift(1,q),se.write_shift(1,39);for(var J=0;J<G.length;++J){var Se=G.charCodeAt(J);se.write_shift(1,Se>=128?95:Se)}return se.write_shift(1,0),se}function Y(R,q){var H=C(R);H[1].v=R.read_shift(2);var G=H[1].v>>1;if(H[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return H[1].v=G,H}function O(R,q){var H=C(R),G=R.read_shift(4),se=R.read_shift(4),J=R.read_shift(2);if(J==65535)return G===0&&se===3221225472?(H[1].t="e",H[1].v=15):G===0&&se===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var Se=J&32768;return J=(J&32767)-16446,H[1].v=(1-Se*2)*(se*Math.pow(2,J+32)+G*Math.pow(2,J)),H}function Q(R,q,H,G){var se=pe(14);if(se.write_shift(2,R),se.write_shift(1,H),se.write_shift(1,q),G==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var J=0,Se=0,be=0,je=0;return G<0&&(J=1,G=-G),Se=Math.log2(G)|0,G/=Math.pow(2,Se-31),je=G>>>0,(je&2147483648)==0&&(G/=2,++Se,je=G>>>0),G-=je,je|=2147483648,je>>>=0,G*=Math.pow(2,32),be=G>>>0,se.write_shift(4,be),se.write_shift(4,je),Se+=16383+(J?32768:0),se.write_shift(2,Se),se}function W(R,q){var H=O(R);return R.l+=q-14,H}function Z(R,q){var H=C(R),G=R.read_shift(4);return H[1].v=G>>6,H}function xe(R,q){var H=C(R),G=R.read_shift(8,"f");return H[1].v=G,H}function Fe(R,q){var H=xe(R);return R.l+=q-10,H}function ke(R,q){return R[R.l+q-1]==0?R.read_shift(q,"cstr"):""}function te(R,q){var H=R[R.l++];H>q-1&&(H=q-1);for(var G="";G.length<H;)G+=String.fromCharCode(R[R.l++]);return G}function ae(R,q,H){if(!(!H.qpro||q<21)){var G=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var se=R.read_shift(q-21,"cstr");return[G,se]}}function Te(R,q){for(var H={},G=R.l+q;R.l<G;){var se=R.read_shift(2);if(se==14e3){for(H[se]=[0,""],H[se][0]=R.read_shift(2);R[R.l];)H[se][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return H}function Oe(R,q){var H=pe(5+R.length);H.write_shift(2,14e3),H.write_shift(2,q);for(var G=0;G<R.length;++G){var se=R.charCodeAt(G);H[H.l++]=se>127?95:se}return H[H.l++]=0,H}var We={0:{n:"BOF",f:vE},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:g},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ke},222:{n:"SHEETNAMELP",f:te},65535:{n:""}},K={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:V},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:Y},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Z},38:{n:"??"},39:{n:"NUMBER27",f:xe},40:{n:"FORMULA28",f:Fe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ke},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})(),O9=/^\s|\s$|[\t\n\r]/;function EE(r,e){if(!e.bookSST)return"";var t=[Nr];t[t.length]=De("sst",null,{xmlns:Al[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var a=r[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(O9)&&(i+=' xml:space="preserve"'),i+=">"+Ft(a.t)+"</t>"),i+="</si>",t[t.length]=i}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function R9(r){return[r.read_shift(4),r.read_shift(4)]}function D9(r,e){return e||(e=pe(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var M9=N7;function F9(r){var e=pn();Ne(e,159,D9(r));for(var t=0;t<r.length;++t)Ne(e,19,M9(r[t]));return Ne(e,160),e.end()}function L9(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function kE(r){var e=0,t,n=L9(r),a=n.length+1,i,l,u,h,f;for(t=Yi(a),t[0]=n.length,i=1;i!=a;++i)t[i]=n[i-1];for(i=a-1;i>=0;--i)l=t[i],u=(e&16384)===0?0:1,h=e<<1&32767,f=u|h,e=f^l;return e^52811}var P9=(function(){function r(a,i){switch(i.type){case"base64":return e(us(a),i);case"binary":return e(a,i);case"buffer":return e(kt&&Buffer.isBuffer(a)?a.toString("binary"):Du(a),i);case"array":return e(Uf(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var l=i||{},u=l.dense?[]:{},h=a.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(g,x){Array.isArray(u)&&(u[x]=[]);for(var y=/\\\w+\b/g,v=0,w,_=-1;w=y.exec(g);){switch(w[0]){case"\\cell":var S=g.slice(v,y.lastIndex-w[0].length);if(S[0]==" "&&(S=S.slice(1)),++_,S.length){var E={v:S,t:"s"};Array.isArray(u)?u[x][_]=E:u[Lt({r:x,c:_})]=E}break}v=y.lastIndex}_>f.e.c&&(f.e.c=_)}),u["!ref"]=Sr(f),u}function t(a,i){return Zi(r(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],l=Qt(a["!ref"]),u,h=Array.isArray(a),f=l.s.r;f<=l.e.r;++f){i.push("\\trowd\\trautofit1");for(var g=l.s.c;g<=l.e.c;++g)i.push("\\cellx"+(g+1));for(i.push("\\pard\\intbl"),g=l.s.c;g<=l.e.c;++g){var x=Lt({r:f,c:g});u=h?(a[f]||[])[g]:a[x],!(!u||u.v==null&&(!u.f||u.F))&&(i.push(" "+(u.w||(ds(u),u.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function O2(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var I9=6,ls=I9;function gf(r){return Math.floor((r+Math.round(128/ls)/256)*ls)}function xf(r){return Math.floor((r-5)/ls*100+.5)/100}function wx(r){return Math.round((r*ls+5)/ls*256)/256}function Dp(r){r.width?(r.wpx=gf(r.width),r.wch=xf(r.wpx),r.MDW=ls):r.wpx?(r.wch=xf(r.wpx),r.width=wx(r.wch),r.MDW=ls):typeof r.wch=="number"&&(r.width=wx(r.wch),r.wpx=gf(r.width),r.MDW=ls),r.customWidth&&delete r.customWidth}var B9=96,TE=B9;function pf(r){return r*96/TE}function jE(r){return r*TE/96}function U9(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=De("numFmt",null,{numFmtId:n,formatCode:Ft(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=De("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function z9(r){var e=[];return e[e.length]=De("cellXfs",null),r.forEach(function(t){e[e.length]=De("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=De("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function AE(r,e){var t=[Nr,De("styleSheet",null,{xmlns:Al[0],"xmlns:vt":Or.vt})],n;return r.SSF&&(n=U9(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=z9(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function H9(r,e){var t=r.read_shift(2),n=Qr(r);return[t,n]}function $9(r,e,t){t||(t=pe(6+4*e.length)),t.write_shift(2,r),Dr(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function V9(r,e,t){var n={};n.sz=r.read_shift(2)/20;var a=O7(r);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=r.read_shift(2);switch(i===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=r.read_shift(1);l!=0&&(n.underline=l);var u=r.read_shift(1);u>0&&(n.family=u);var h=r.read_shift(1);switch(h>0&&(n.charset=h),r.l++,n.color=C7(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Qr(r),n}function W9(r,e){e||(e=pe(153)),e.write_shift(2,r.sz*20),R7(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),ff(r.color,e);var n=0;return n=2,e.write_shift(1,n),Dr(r.name,e),e.length>e.l?e.slice(0,e.l):e}var q9=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Pg,G9=Oa;function R2(r,e){e||(e=pe(84)),Pg||(Pg=_p(q9));var t=Pg[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(ff({auto:1},e),ff({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Y9(r,e){var t=r.l+e,n=r.read_shift(2),a=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:a}}function CE(r,e,t){t||(t=pe(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Dc(r,e){return e||(e=pe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var K9=Oa;function X9(r,e){return e||(e=pe(51)),e.write_shift(1,0),Dc(null,e),Dc(null,e),Dc(null,e),Dc(null,e),Dc(null,e),e.length>e.l?e.slice(0,e.l):e}function J9(r,e){return e||(e=pe(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),hf(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Q9(r,e,t){var n=pe(2052);return n.write_shift(4,r),hf(e,n),hf(t,n),n.length>n.l?n.slice(0,n.l):n}function Z9(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++t}),t!=0&&(Ne(r,615,ma(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Ne(r,44,$9(a,e[a]))}),Ne(r,616))}}function eP(r){var e=1;Ne(r,611,ma(e)),Ne(r,43,W9({sz:12,color:{theme:1},name:"Calibri",family:2})),Ne(r,612)}function tP(r){var e=2;Ne(r,603,ma(e)),Ne(r,45,R2({patternType:"none"})),Ne(r,45,R2({patternType:"gray125"})),Ne(r,604)}function rP(r){var e=1;Ne(r,613,ma(e)),Ne(r,46,X9()),Ne(r,614)}function nP(r){var e=1;Ne(r,626,ma(e)),Ne(r,47,CE({numFmtId:0},65535)),Ne(r,627)}function aP(r,e){Ne(r,617,ma(e.length)),e.forEach(function(t){Ne(r,47,CE(t,0))}),Ne(r,618)}function sP(r){var e=1;Ne(r,619,ma(e)),Ne(r,48,J9({xfId:0,name:"Normal"})),Ne(r,620)}function iP(r){var e=0;Ne(r,505,ma(e)),Ne(r,506)}function oP(r){var e=0;Ne(r,508,Q9(e,"TableStyleMedium9","PivotStyleMedium4")),Ne(r,509)}function lP(r,e){var t=pn();return Ne(t,278),Z9(t,r.SSF),eP(t),tP(t),rP(t),nP(t),aP(t,e.cellXfs),sP(t),iP(t),oP(t),Ne(t,279),t.end()}function OE(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[Nr];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function cP(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Qr(r)}}function uP(r){var e=pe(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),Dr(r.name,e),e.slice(0,e.l)}function dP(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function hP(r){var e=pe(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function fP(r,e){var t=pe(8+2*e.length);return t.write_shift(4,r),Dr(e,t),t.slice(0,t.l)}function mP(r){return r.l+=4,r.read_shift(4)!=0}function gP(r,e){var t=pe(8);return t.write_shift(4,r),t.write_shift(4,1),t}function xP(){var r=pn();return Ne(r,332),Ne(r,334,ma(1)),Ne(r,335,uP({name:"XLDAPR",version:12e4,flags:3496657072})),Ne(r,336),Ne(r,339,fP(1,"XLDAPR")),Ne(r,52),Ne(r,35,ma(514)),Ne(r,4096,ma(0)),Ne(r,4097,Xn(1)),Ne(r,36),Ne(r,53),Ne(r,340),Ne(r,337,gP(1)),Ne(r,51,hP([[1,0]])),Ne(r,338),Ne(r,333),r.end()}function RE(){var r=[Nr];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function pP(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Lt(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var al=1024;function DE(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),a=[De("xml",null,{"xmlns:v":Cn.v,"xmlns:o":Cn.o,"xmlns:x":Cn.x,"xmlns:mv":Cn.mv}).replace(/\/>/,">"),De("o:shapelayout",De("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),De("v:shapetype",[De("v:stroke",null,{joinstyle:"miter"}),De("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];al<r*1e3;)al+=1e3;return e.forEach(function(i){var l=Rr(i[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var h=u.type=="gradient"?De("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=De("v:fill",h,u),g={on:"t",obscured:"t"};++al,a=a.concat(["<v:shape"+vu({id:"_x0000_s"+al,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,De("v:shadow",null,g),De("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",zr("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),zr("x:AutoFill","False"),zr("x:Row",String(l.r)),zr("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function ME(r){var e=[Nr,De("comments",null,{xmlns:Al[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(a){var i=Ft(a.a);t.indexOf(i)==-1&&(t.push(i),e.push("<author>"+i+"</author>")),a.T&&a.ID&&t.indexOf("tc="+a.ID)==-1&&(t.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(h){h.a&&(a=t.indexOf(Ft(h.a))),i.push(h.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)e.push(zr("t",Ft(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,u=1;u<i.length;++u)l+=`Reply:
    `+i[u]+`
`;e.push(zr("t",Ft(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function yP(r,e,t){var n=[Nr,De("ThreadedComments",null,{xmlns:Or.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(a){var i="";(a[1]||[]).forEach(function(l,u){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var h={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};u==0?i=h.id:h.parentId=i,l.ID=h.id,l.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),n.push(De("threadedComment",zr("text",l.t||""),h))})}),n.push("</ThreadedComments>"),n.join("")}function vP(r){var e=[Nr,De("personList",null,{xmlns:Or.TCMNT,"xmlns:x":Al[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(De("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function bP(r){var e={};e.iauthor=r.read_shift(4);var t=no(r);return e.rfx=t.s,e.ref=Lt(t.s),r.l+=16,e}function _P(r,e){return e==null&&(e=pe(36)),e.write_shift(4,r[1].iauthor),Ol(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var wP=Qr;function SP(r){return Dr(r.slice(0,54))}function NP(r){var e=pn(),t=[];return Ne(e,628),Ne(e,630),r.forEach(function(n){n[1].forEach(function(a){t.indexOf(a.a)>-1||(t.push(a.a.slice(0,54)),Ne(e,632,SP(a.a)))})}),Ne(e,631),Ne(e,633),r.forEach(function(n){n[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var i={s:Rr(n[0]),e:Rr(n[0])};Ne(e,635,_P([i,a])),a.t&&a.t.length>0&&Ne(e,637,k7(a)),Ne(e,636),delete a.iauthor})}),Ne(e,634),Ne(e,629),e.end()}function EP(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var a=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&zt.utils.cfb_add(r,a,e.FileIndex[n].content)}})}var FE=["xlsb","xlsm","xlam","biff8","xla"],kP=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,a,i,l){var u=!1,h=!1;i.length==0?h=!0:i.charAt(0)=="["&&(h=!0,i=i.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,g=l.length>0?parseInt(l,10)|0:0;return u?g+=e.c:--g,h?f+=e.r:--f,a+(u?"":"$")+Jr(g)+(h?"":"$")+$r(f)}return function(a,i){return e=i,a.replace(r,t)}})(),Mp=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Fp=(function(){return function(e,t){return e.replace(Mp,function(n,a,i,l,u,h){var f=jp(l)-(i?0:t.c),g=Tp(h)-(u?0:t.r),x=g==0?"":u?g+1:"["+g+"]",y=f==0?"":i?f+1:"["+f+"]";return a+"R"+x+"C"+y})}})();function TP(r,e){return r.replace(Mp,function(t,n,a,i,l,u){return n+(a=="$"?a+i:Jr(jp(i)+e.c))+(l=="$"?l+u:$r(Tp(u)+e.r))})}function jP(r){return r.length!=1}function _r(r){r.l+=1}function ti(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function LE(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return PE(r);t.biff==12&&(n=4)}var a=r.read_shift(n),i=r.read_shift(n),l=ti(r),u=ti(r);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:u[0],cRel:u[1],rRel:u[2]}}}function PE(r){var e=ti(r),t=ti(r),n=r.read_shift(1),a=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function AP(r,e,t){if(t.biff<8)return PE(r);var n=r.read_shift(t.biff==12?4:2),a=r.read_shift(t.biff==12?4:2),i=ti(r),l=ti(r);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function IE(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return CP(r);var n=r.read_shift(t&&t.biff==12?4:2),a=ti(r);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function CP(r){var e=ti(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function OP(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function RP(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return DP(r);var a=r.read_shift(n>=12?4:2),i=r.read_shift(2),l=(i&16384)>>14,u=(i&32768)>>15;if(i&=16383,u==1)for(;a>524287;)a-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:l,rRel:u}}function DP(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:n}}function MP(r,e,t){var n=(r[r.l++]&96)>>5,a=LE(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,a]}function FP(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2,"i"),i=8;if(t)switch(t.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}var l=LE(r,i,t);return[n,a,l]}function LP(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function PP(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),i=8;if(t)switch(t.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}return r.l+=i,[n,a]}function IP(r,e,t){var n=(r[r.l++]&96)>>5,a=AP(r,e-1,t);return[n,a]}function BP(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function D2(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function UP(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(r.read_shift(t&&t.biff==2?1:2));return a}function zP(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function HP(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function $P(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function VP(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function BE(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function WP(r){return r.read_shift(2),BE(r)}function qP(r){return r.read_shift(2),BE(r)}function GP(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=IE(r,0,t);return[n,a]}function YP(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=RP(r,0,t);return[n,a]}function KP(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var i=IE(r,0,t);return[n,a,i]}function XP(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(t&&t.biff<=3?1:2);return[XI[a],HE[a],n]}function JP(r,e,t){var n=r[r.l++],a=r.read_shift(1),i=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:QP(r);return[a,(i[0]===0?HE:KI)[i[1]]]}function QP(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function ZP(r,e,t){r.l+=t&&t.biff==2?3:4}function eI(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function tI(r){return r.l++,Lu[r.read_shift(1)]}function rI(r){return r.l++,r.read_shift(2)}function nI(r){return r.l++,r.read_shift(1)!==0}function aI(r){return r.l++,Rl(r)}function sI(r,e,t){return r.l++,_E(r,e-1,t)}function iI(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=K7(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Lu[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Rl(r);break;case 2:t[1]=Z7(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function oI(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((t.biff==12?no:r9)(r));return a}function lI(r,e,t){var n=0,a=0;t.biff==12?(n=r.read_shift(4),a=r.read_shift(4)):(a=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--a==0&&(a=256));for(var i=0,l=[];i!=n&&(l[i]=[]);++i)for(var u=0;u!=a;++u)l[i][u]=iI(r,t.biff);return l}function cI(r,e,t){var n=r.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,i=r.read_shift(a);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,i]}function uI(r,e,t){if(t.biff==5)return dI(r);var n=r.read_shift(1)>>>5&3,a=r.read_shift(2),i=r.read_shift(4);return[n,a,i]}function dI(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function hI(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function fI(r,e,t){var n=r.read_shift(1)>>>5&3,a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function mI(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function gI(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),i=4;if(t)switch(t.biff){case 5:i=15;break;case 12:i=6;break}return r.l+=i,[n,a]}var xI=Oa,pI=Oa,yI=Oa;function Pu(r,e,t){return r.l+=2,[OP(r)]}function Lp(r){return r.l+=6,[]}var vI=Pu,bI=Lp,_I=Lp,wI=Pu;function UE(r){return r.l+=2,[vE(r),r.read_shift(2)&1]}var SI=Pu,NI=UE,EI=Lp,kI=Pu,TI=Pu,jI=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function AI(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),a=r.read_shift(2),i=r.read_shift(2),l=jI[t>>2&31];return{ixti:e,coltype:t&3,rt:l,idx:n,c:a,C:i}}function CI(r){return r.l+=2,[r.read_shift(4)]}function OI(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function RI(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function DI(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function MI(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function FI(r){return r.l+=4,[0,0]}var M2={1:{n:"PtgExp",f:eI},2:{n:"PtgTbl",f:yI},3:{n:"PtgAdd",f:_r},4:{n:"PtgSub",f:_r},5:{n:"PtgMul",f:_r},6:{n:"PtgDiv",f:_r},7:{n:"PtgPower",f:_r},8:{n:"PtgConcat",f:_r},9:{n:"PtgLt",f:_r},10:{n:"PtgLe",f:_r},11:{n:"PtgEq",f:_r},12:{n:"PtgGe",f:_r},13:{n:"PtgGt",f:_r},14:{n:"PtgNe",f:_r},15:{n:"PtgIsect",f:_r},16:{n:"PtgUnion",f:_r},17:{n:"PtgRange",f:_r},18:{n:"PtgUplus",f:_r},19:{n:"PtgUminus",f:_r},20:{n:"PtgPercent",f:_r},21:{n:"PtgParen",f:_r},22:{n:"PtgMissArg",f:_r},23:{n:"PtgStr",f:sI},26:{n:"PtgSheet",f:OI},27:{n:"PtgEndSheet",f:RI},28:{n:"PtgErr",f:tI},29:{n:"PtgBool",f:nI},30:{n:"PtgInt",f:rI},31:{n:"PtgNum",f:aI},32:{n:"PtgArray",f:BP},33:{n:"PtgFunc",f:XP},34:{n:"PtgFuncVar",f:JP},35:{n:"PtgName",f:cI},36:{n:"PtgRef",f:GP},37:{n:"PtgArea",f:MP},38:{n:"PtgMemArea",f:hI},39:{n:"PtgMemErr",f:xI},40:{n:"PtgMemNoMem",f:pI},41:{n:"PtgMemFunc",f:fI},42:{n:"PtgRefErr",f:mI},43:{n:"PtgAreaErr",f:LP},44:{n:"PtgRefN",f:YP},45:{n:"PtgAreaN",f:IP},46:{n:"PtgMemAreaN",f:DI},47:{n:"PtgMemNoMemN",f:MI},57:{n:"PtgNameX",f:uI},58:{n:"PtgRef3d",f:KP},59:{n:"PtgArea3d",f:FP},60:{n:"PtgRefErr3d",f:gI},61:{n:"PtgAreaErr3d",f:PP},255:{}},LI={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},PI={1:{n:"PtgElfLel",f:UE},2:{n:"PtgElfRw",f:kI},3:{n:"PtgElfCol",f:vI},6:{n:"PtgElfRwV",f:TI},7:{n:"PtgElfColV",f:wI},10:{n:"PtgElfRadical",f:SI},11:{n:"PtgElfRadicalS",f:EI},13:{n:"PtgElfColS",f:bI},15:{n:"PtgElfColSV",f:_I},16:{n:"PtgElfRadicalLel",f:NI},25:{n:"PtgList",f:AI},29:{n:"PtgSxName",f:CI},255:{}},II={0:{n:"PtgAttrNoop",f:FI},1:{n:"PtgAttrSemi",f:VP},2:{n:"PtgAttrIf",f:HP},4:{n:"PtgAttrChoose",f:UP},8:{n:"PtgAttrGoto",f:zP},16:{n:"PtgAttrSum",f:ZP},32:{n:"PtgAttrBaxcel",f:D2},33:{n:"PtgAttrBaxcel",f:D2},64:{n:"PtgAttrSpace",f:WP},65:{n:"PtgAttrSpaceSemi",f:qP},128:{n:"PtgAttrIfError",f:$P},255:{}};function BI(r,e,t,n){if(n.biff<8)return Oa(r,e);for(var a=r.l+e,i=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=lI(r,0,n),i.push(t[l][1]);break;case"PtgMemArea":t[l][2]=oI(r,t[l][1],n),i.push(t[l][2]);break;case"PtgExp":n&&n.biff==12&&(t[l][1][1]=r.read_shift(4),i.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return e=a-r.l,e!==0&&i.push(Oa(r,e)),i}function UI(r,e,t){for(var n=r.l+e,a,i,l=[];n!=r.l;)e=n-r.l,i=r[r.l],a=M2[i]||M2[LI[i]],(i===24||i===25)&&(a=(i===24?PI:II)[r[r.l+1]]),!a||!a.f?Oa(r,e):l.push([a.n,a.f(r,e,t)]);return l}function zI(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],a=[],i=0;i<n.length;++i){var l=n[i];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var HI={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function $I(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function zE(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(t.biff>8)switch(r[n[0]][0]){case 357:return a=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return r[n[0]][0][3]?(a=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function F2(r,e,t){var n=zE(r,e,t);return n=="#REF"?n:$I(n,t)}function yl(r,e,t,n,a){var i=a&&a.biff||8,l={s:{c:0,r:0}},u=[],h,f,g,x=0,y=0,v,w="";if(!r[0]||!r[0][0])return"";for(var _=-1,S="",E=0,N=r[0].length;E<N;++E){var T=r[0][E];switch(T[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=u.pop(),f=u.pop(),_>=0){switch(r[0][_][1][0]){case 0:S=lr(" ",r[0][_][1][1]);break;case 1:S=lr("\r",r[0][_][1][1]);break;default:if(S="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][_][1][0])}f=f+S,_=-1}u.push(f+HI[T[0]]+h);break;case"PtgIsect":h=u.pop(),f=u.pop(),u.push(f+" "+h);break;case"PtgUnion":h=u.pop(),f=u.pop(),u.push(f+","+h);break;case"PtgRange":h=u.pop(),f=u.pop(),u.push(f+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":g=Zc(T[1][1],l,a),u.push(eu(g,i));break;case"PtgRefN":g=t?Zc(T[1][1],t,a):T[1][1],u.push(eu(g,i));break;case"PtgRef3d":x=T[1][1],g=Zc(T[1][2],l,a),w=F2(n,x,a),u.push(w+"!"+eu(g,i));break;case"PtgFunc":case"PtgFuncVar":var M=T[1][0],C=T[1][1];M||(M=0),M&=127;var V=M==0?[]:u.slice(-M);u.length-=M,C==="User"&&(C=V.shift()),u.push(C+"("+V.join(",")+")");break;case"PtgBool":u.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(T[1]);break;case"PtgNum":u.push(String(T[1]));break;case"PtgStr":u.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(T[1]);break;case"PtgAreaN":v=v2(T[1][1],t?{s:t}:l,a),u.push(Fg(v,a));break;case"PtgArea":v=v2(T[1][1],l,a),u.push(Fg(v,a));break;case"PtgArea3d":x=T[1][1],v=T[1][2],w=F2(n,x,a),u.push(w+"!"+Fg(v,a));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=T[1][2];var D=(n.names||[])[y-1]||(n[0]||[])[y],Y=D?D.Name:"SH33TJSNAME"+String(y);Y&&Y.slice(0,6)=="_xlfn."&&!a.xlfn&&(Y=Y.slice(6)),u.push(Y);break;case"PtgNameX":var O=T[1][1];y=T[1][2];var Q;if(a.biff<=5)O<0&&(O=-O),n[O]&&(Q=n[O][y]);else{var W="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][y]&&n[O][y].itab>0&&(W=n.SheetNames[n[O][y].itab-1]+"!"):W=n.SheetNames[y-1]+"!"),n[O]&&n[O][y])W+=n[O][y].Name;else if(n[0]&&n[0][y])W+=n[0][y].Name;else{var Z=(zE(n,O,a)||"").split(";;");Z[y-1]?W=Z[y-1]:W+="SH33TJSERRX"}u.push(W);break}Q||(Q={Name:"SH33TJSERRY"}),u.push(Q.Name);break;case"PtgParen":var xe="(",Fe=")";if(_>=0){switch(S="",r[0][_][1][0]){case 2:xe=lr(" ",r[0][_][1][1])+xe;break;case 3:xe=lr("\r",r[0][_][1][1])+xe;break;case 4:Fe=lr(" ",r[0][_][1][1])+Fe;break;case 5:Fe=lr("\r",r[0][_][1][1])+Fe;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][_][1][0])}_=-1}u.push(xe+u.pop()+Fe);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":g={c:T[1][1],r:T[1][0]};var ke={c:t.c,r:t.r};if(n.sharedf[Lt(g)]){var te=n.sharedf[Lt(g)];u.push(yl(te,l,ke,n,a))}else{var ae=!1;for(h=0;h!=n.arrayf.length;++h)if(f=n.arrayf[h],!(g.c<f[0].s.c||g.c>f[0].e.c)&&!(g.r<f[0].s.r||g.r>f[0].e.r)){u.push(yl(f[1],l,ke,n,a)),ae=!0;break}ae||u.push(T[1])}break;case"PtgArray":u.push("{"+zI(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var Te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&_>=0&&Te.indexOf(r[0][E][0])==-1){T=r[0][_];var Oe=!0;switch(T[1][0]){case 4:Oe=!1;case 0:S=lr(" ",T[1][1]);break;case 5:Oe=!1;case 1:S=lr("\r",T[1][1]);break;default:if(S="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}u.push((Oe?S:"")+u.pop()+(Oe?"":S)),_=-1}}if(u.length>1&&a.WTF)throw new Error("bad formula stack");return u[0]}function VI(r){if(r==null){var e=pe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return Ki(r);return Ki(0)}function WI(r,e,t,n,a){var i=Xi(e,t,a),l=VI(r.v),u=pe(6),h=33;u.write_shift(2,h),u.write_shift(4,0);for(var f=pe(r.bf.length),g=0;g<r.bf.length;++g)f[g]=r.bf[g];var x=Ur([i,l,u,f]);return x}function zf(r,e,t){var n=r.read_shift(4),a=UI(r,n,t),i=r.read_shift(4),l=i>0?BI(r,i,a,t):null;return[a,l]}var qI=zf,Hf=zf,GI=zf,YI=zf,KI={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},HE={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},XI={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function JI(r){var e="of:="+r.replace(Mp,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function QI(r){return r.replace(/\./,"!")}var tu=typeof Map<"u";function Pp(r,e,t){var n=0,a=r.length;if(t){if(tu?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var i=tu?t.get(e):t[e];n<i.length;++n)if(r[i[n]].t===e)return r.Count++,i[n]}}else for(;n<a;++n)if(r[n].t===e)return r.Count++,n;return r[a]={t:e},r.Count++,r.Unique++,t&&(tu?(t.has(e)||t.set(e,[]),t.get(e).push(a)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(a))),a}function $f(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(ls=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=xf(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=wx(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function $E(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function ai(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],a=60,i=r.length;if(n==null&&t.ssf){for(;a<392;++a)if(t.ssf[a]==null){IN(e.z,a),t.ssf[a]=e.z,t.revssf[e.z]=n=a;break}}for(a=0;a!=i;++a)if(r[a].numFmtId===n)return a;return r[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function ZI(r,e,t){if(r&&r["!ref"]){var n=Qt(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function eB(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+Sr(r[t])+'"/>';return e+"</mergeCells>"}function tB(r,e,t,n,a){var i=!1,l={},u=null;if(n.bookType!=="xlsx"&&e.vbaraw){var h=e.SheetNames[t];try{e.Workbook&&(h=e.Workbook.Sheets[t].CodeName||h)}catch{}i=!0,l.codeName=yu(Ft(h))}if(r&&r["!outline"]){var f={summaryBelow:1,summaryRight:1};r["!outline"].above&&(f.summaryBelow=0),r["!outline"].left&&(f.summaryRight=0),u=(u||"")+De("outlinePr",null,f)}!i&&!u||(a[a.length]=De("sheetPr",u,l))}var rB=["objects","scenarios","selectLockedCells","selectUnlockedCells"],nB=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function aB(r){var e={sheet:1};return rB.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),nB.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=kE(r.password).toString(16).toUpperCase()),De("sheetProtection",null,e)}function sB(r){return $E(r),De("pageMargins",null,r)}function iB(r,e){for(var t=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(t[t.length]=De("col",null,$f(a,n)));return t[t.length]="</cols>",t.join("")}function oB(r,e,t,n){var a=typeof r.ref=="string"?r.ref:Sr(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var i=t.Workbook.Names,l=Mn(a);l.s.r==l.e.r&&(l.e.r=Mn(e["!ref"]).e.r,a=Sr(l));for(var u=0;u<i.length;++u){var h=i[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+t.SheetNames[n]+"'!"+a;break}}return u==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+a}),De("autoFilter",null,{ref:a})}function lB(r,e,t,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),De("sheetViews",De("sheetView",null,a),{})}function cB(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var a="",i=r.t,l=r.v;if(r.t!=="z")switch(r.t){case"b":a=r.v?"1":"0";break;case"n":a=""+r.v;break;case"e":a=Lu[r.v];break;case"d":n&&n.cellDates?a=rn(r.v,-1).toISOString():(r=vn(r),r.t="n",a=""+(r.v=yn(rn(r.v)))),typeof r.z>"u"&&(r.z=ur[14]);break;default:a=r.v;break}var u=zr("v",Ft(a)),h={r:e},f=ai(n.cellXfs,r,n);switch(f!==0&&(h.s=f),r.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){u=zr("v",""+Pp(n.Strings,r.v,n.revStrings)),h.t="s";break}h.t="str";break}if(r.t!=i&&(r.t=i,r.v=l),typeof r.f=="string"&&r.f){var g=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;u=De("f",Ft(r.f),g)+(r.v!=null?u:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(h.cm=1),De("c",u,h)}function uB(r,e,t,n){var a=[],i=[],l=Qt(r["!ref"]),u="",h,f="",g=[],x=0,y=0,v=r["!rows"],w=Array.isArray(r),_={r:f},S,E=-1;for(y=l.s.c;y<=l.e.c;++y)g[y]=Jr(y);for(x=l.s.r;x<=l.e.r;++x){for(i=[],f=$r(x),y=l.s.c;y<=l.e.c;++y){h=g[y]+f;var N=w?(r[x]||[])[y]:r[h];N!==void 0&&(u=cB(N,h,r,e))!=null&&i.push(u)}(i.length>0||v&&v[x])&&(_={r:f},v&&v[x]&&(S=v[x],S.hidden&&(_.hidden=1),E=-1,S.hpx?E=pf(S.hpx):S.hpt&&(E=S.hpt),E>-1&&(_.ht=E,_.customHeight=1),S.level&&(_.outlineLevel=S.level)),a[a.length]=De("row",i.join(""),_))}if(v)for(;x<v.length;++x)v&&v[x]&&(_={r:x+1},S=v[x],S.hidden&&(_.hidden=1),E=-1,S.hpx?E=pf(S.hpx):S.hpt&&(E=S.hpt),E>-1&&(_.ht=E,_.customHeight=1),S.level&&(_.outlineLevel=S.level),a[a.length]=De("row","",_));return a.join("")}function VE(r,e,t,n){var a=[Nr,De("worksheet",null,{xmlns:Al[0],"xmlns:r":Or.r})],i=t.SheetNames[r],l=0,u="",h=t.Sheets[i];h==null&&(h={});var f=h["!ref"]||"A1",g=Qt(f);if(g.e.c>16383||g.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575),f=Sr(g)}n||(n={}),h["!comments"]=[];var x=[];tB(h,t,r,e,a),a[a.length]=De("dimension",null,{ref:f}),a[a.length]=lB(h,e,r,t),e.sheetFormat&&(a[a.length]=De("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(a[a.length]=iB(h,h["!cols"])),a[l=a.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(u=uB(h,e),u.length>0&&(a[a.length]=u)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),h["!protect"]&&(a[a.length]=aB(h["!protect"])),h["!autofilter"]!=null&&(a[a.length]=oB(h["!autofilter"],h,t,r)),h["!merges"]!=null&&h["!merges"].length>0&&(a[a.length]=eB(h["!merges"]));var y=-1,v,w=-1;return h["!links"].length>0&&(a[a.length]="<hyperlinks>",h["!links"].forEach(function(_){_[1].Target&&(v={ref:_[0]},_[1].Target.charAt(0)!="#"&&(w=Rt(n,-1,Ft(_[1].Target).replace(/#.*$/,""),Nt.HLINK),v["r:id"]="rId"+w),(y=_[1].Target.indexOf("#"))>-1&&(v.location=Ft(_[1].Target.slice(y+1))),_[1].Tooltip&&(v.tooltip=Ft(_[1].Tooltip)),a[a.length]=De("hyperlink",null,v))}),a[a.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(a[a.length]=sB(h["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=zr("ignoredErrors",De("ignoredError",null,{numberStoredAsText:1,sqref:f}))),x.length>0&&(w=Rt(n,-1,"../drawings/drawing"+(r+1)+".xml",Nt.DRAW),a[a.length]=De("drawing",null,{"r:id":"rId"+w}),h["!drawing"]=x),h["!comments"].length>0&&(w=Rt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Nt.VML),a[a.length]=De("legacyDrawing",null,{"r:id":"rId"+w}),h["!legacy"]=w),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function dB(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var a=r.read_shift(2);r.l+=1;var i=r.read_shift(1);return r.l=n,i&7&&(t.level=i&7),i&16&&(t.hidden=!0),i&32&&(t.hpt=a/20),t}function hB(r,e,t){var n=pe(145),a=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var i=320;a.hpx?i=pf(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var u=0,h=n.l;n.l+=4;for(var f={r,c:0},g=0;g<16;++g)if(!(e.s.c>g+1<<10||e.e.c<g<<10)){for(var x=-1,y=-1,v=g<<10;v<g+1<<10;++v){f.c=v;var w=Array.isArray(t)?(t[f.r]||[])[f.c]:t[Lt(f)];w&&(x<0&&(x=v),y=v)}x<0||(++u,n.write_shift(4,x),n.write_shift(4,y))}var _=n.l;return n.l=h,n.write_shift(4,u),n.l=_,n.length>n.l?n.slice(0,n.l):n}function fB(r,e,t,n){var a=hB(n,t,e);(a.length>17||(e["!rows"]||[])[n])&&Ne(r,0,a)}var mB=no,gB=Ol;function xB(){}function pB(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=T7(r),t}function yB(r,e,t){t==null&&(t=pe(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var a=1;a<3;++a)t.write_shift(1,0);return ff({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),sE(r,t),t.slice(0,t.l)}function vB(r){var e=ta(r);return[e]}function bB(r,e,t){return t==null&&(t=pe(8)),eo(e,t)}function _B(r){var e=to(r);return[e]}function wB(r,e,t){return t==null&&(t=pe(4)),ro(e,t)}function SB(r){var e=ta(r),t=r.read_shift(1);return[e,t,"b"]}function NB(r,e,t){return t==null&&(t=pe(9)),eo(e,t),t.write_shift(1,r.v?1:0),t}function EB(r){var e=to(r),t=r.read_shift(1);return[e,t,"b"]}function kB(r,e,t){return t==null&&(t=pe(5)),ro(e,t),t.write_shift(1,r.v?1:0),t}function TB(r){var e=ta(r),t=r.read_shift(1);return[e,t,"e"]}function jB(r,e,t){return t==null&&(t=pe(9)),eo(e,t),t.write_shift(1,r.v),t}function AB(r){var e=to(r),t=r.read_shift(1);return[e,t,"e"]}function CB(r,e,t){return t==null&&(t=pe(8)),ro(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function OB(r){var e=ta(r),t=r.read_shift(4);return[e,t,"s"]}function RB(r,e,t){return t==null&&(t=pe(12)),eo(e,t),t.write_shift(4,e.v),t}function DB(r){var e=to(r),t=r.read_shift(4);return[e,t,"s"]}function MB(r,e,t){return t==null&&(t=pe(8)),ro(e,t),t.write_shift(4,e.v),t}function FB(r){var e=ta(r),t=Rl(r);return[e,t,"n"]}function LB(r,e,t){return t==null&&(t=pe(16)),eo(e,t),Ki(r.v,t),t}function PB(r){var e=to(r),t=Rl(r);return[e,t,"n"]}function IB(r,e,t){return t==null&&(t=pe(12)),ro(e,t),Ki(r.v,t),t}function BB(r){var e=ta(r),t=iE(r);return[e,t,"n"]}function UB(r,e,t){return t==null&&(t=pe(12)),eo(e,t),oE(r.v,t),t}function zB(r){var e=to(r),t=iE(r);return[e,t,"n"]}function HB(r,e,t){return t==null&&(t=pe(8)),ro(e,t),oE(r.v,t),t}function $B(r){var e=ta(r),t=Ap(r);return[e,t,"is"]}function VB(r){var e=ta(r),t=Qr(r);return[e,t,"str"]}function WB(r,e,t){return t==null&&(t=pe(12+4*r.v.length)),eo(e,t),Dr(r.v,t),t.length>t.l?t.slice(0,t.l):t}function qB(r){var e=to(r),t=Qr(r);return[e,t,"str"]}function GB(r,e,t){return t==null&&(t=pe(8+4*r.v.length)),ro(e,t),Dr(r.v,t),t.length>t.l?t.slice(0,t.l):t}function YB(r,e,t){var n=r.l+e,a=ta(r);a.r=t["!row"];var i=r.read_shift(1),l=[a,i,"b"];if(t.cellFormula){r.l+=2;var u=Hf(r,n-r.l,t);l[3]=yl(u,null,a,t.supbooks,t)}else r.l=n;return l}function KB(r,e,t){var n=r.l+e,a=ta(r);a.r=t["!row"];var i=r.read_shift(1),l=[a,i,"e"];if(t.cellFormula){r.l+=2;var u=Hf(r,n-r.l,t);l[3]=yl(u,null,a,t.supbooks,t)}else r.l=n;return l}function XB(r,e,t){var n=r.l+e,a=ta(r);a.r=t["!row"];var i=Rl(r),l=[a,i,"n"];if(t.cellFormula){r.l+=2;var u=Hf(r,n-r.l,t);l[3]=yl(u,null,a,t.supbooks,t)}else r.l=n;return l}function JB(r,e,t){var n=r.l+e,a=ta(r);a.r=t["!row"];var i=Qr(r),l=[a,i,"str"];if(t.cellFormula){r.l+=2;var u=Hf(r,n-r.l,t);l[3]=yl(u,null,a,t.supbooks,t)}else r.l=n;return l}var QB=no,ZB=Ol;function eU(r,e){return e==null&&(e=pe(4)),e.write_shift(4,r),e}function tU(r,e){var t=r.l+e,n=no(r),a=Cp(r),i=Qr(r),l=Qr(r),u=Qr(r);r.l=t;var h={rfx:n,relId:a,loc:i,display:u};return l&&(h.Tooltip=l),h}function rU(r,e){var t=pe(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));Ol({s:Rr(r[0]),e:Rr(r[0])},t),Op("rId"+e,t);var n=r[1].Target.indexOf("#"),a=n==-1?"":r[1].Target.slice(n+1);return Dr(a||"",t),Dr(r[1].Tooltip||"",t),Dr("",t),t.slice(0,t.l)}function nU(){}function aU(r,e,t){var n=r.l+e,a=lE(r),i=r.read_shift(1),l=[a];if(l[2]=i,t.cellFormula){var u=qI(r,n-r.l,t);l[1]=u}else r.l=n;return l}function sU(r,e,t){var n=r.l+e,a=no(r),i=[a];if(t.cellFormula){var l=YI(r,n-r.l,t);i[1]=l,r.l=n}else r.l=n;return i}function iU(r,e,t){t==null&&(t=pe(18));var n=$f(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),t.write_shift(2,a),t}var WE=["left","right","top","bottom","header","footer"];function oU(r){var e={};return WE.forEach(function(t){e[t]=Rl(r)}),e}function lU(r,e){return e==null&&(e=pe(48)),$E(r),WE.forEach(function(t){Ki(r[t],e)}),e}function cU(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function uU(r,e,t){t==null&&(t=pe(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function dU(r){var e=pe(24);return e.write_shift(4,4),e.write_shift(4,1),Ol(r,e),e}function hU(r,e){return e==null&&(e=pe(66)),e.write_shift(2,r.password?kE(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function fU(){}function mU(){}function gU(r,e,t,n,a,i,l){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=vn(e),e.z=e.z||ur[14],e.v=yn(rn(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var h={r:t,c:n};switch(h.s=ai(a.cellXfs,e,a),e.l&&i["!links"].push([Lt(h),e.l]),e.c&&i["!comments"].push([Lt(h),e.c]),e.t){case"s":case"str":return a.bookSST?(u=Pp(a.Strings,e.v,a.revStrings),h.t="s",h.v=u,l?Ne(r,18,MB(e,h)):Ne(r,7,RB(e,h))):(h.t="str",l?Ne(r,17,GB(e,h)):Ne(r,6,WB(e,h))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?Ne(r,13,HB(e,h)):Ne(r,2,UB(e,h)):l?Ne(r,16,IB(e,h)):Ne(r,5,LB(e,h)),!0;case"b":return h.t="b",l?Ne(r,15,kB(e,h)):Ne(r,4,NB(e,h)),!0;case"e":return h.t="e",l?Ne(r,14,CB(e,h)):Ne(r,3,jB(e,h)),!0}return l?Ne(r,12,wB(e,h)):Ne(r,1,bB(e,h)),!0}function xU(r,e,t,n){var a=Qt(e["!ref"]||"A1"),i,l="",u=[];Ne(r,145);var h=Array.isArray(e),f=a.e.r;e["!rows"]&&(f=Math.max(a.e.r,e["!rows"].length-1));for(var g=a.s.r;g<=f;++g){l=$r(g),fB(r,e,a,g);var x=!1;if(g<=a.e.r)for(var y=a.s.c;y<=a.e.c;++y){g===a.s.r&&(u[y]=Jr(y)),i=u[y]+l;var v=h?(e[g]||[])[y]:e[i];if(!v){x=!1;continue}x=gU(r,v,g,y,n,e,x)}}Ne(r,146)}function pU(r,e){!e||!e["!merges"]||(Ne(r,177,eU(e["!merges"].length)),e["!merges"].forEach(function(t){Ne(r,176,ZB(t))}),Ne(r,178))}function yU(r,e){!e||!e["!cols"]||(Ne(r,390),e["!cols"].forEach(function(t,n){t&&Ne(r,60,iU(n,t))}),Ne(r,391))}function vU(r,e){!e||!e["!ref"]||(Ne(r,648),Ne(r,649,dU(Qt(e["!ref"]))),Ne(r,650))}function bU(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var a=Rt(t,-1,n[1].Target.replace(/#.*$/,""),Nt.HLINK);Ne(r,494,rU(n,a))}}),delete e["!links"]}function _U(r,e,t,n){if(e["!comments"].length>0){var a=Rt(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Nt.VML);Ne(r,551,Op("rId"+a)),e["!legacy"]=a}}function wU(r,e,t,n){if(e["!autofilter"]){var a=e["!autofilter"],i=typeof a.ref=="string"?a.ref:Sr(a.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,u=Mn(i);u.s.r==u.e.r&&(u.e.r=Mn(e["!ref"]).e.r,i=Sr(u));for(var h=0;h<l.length;++h){var f=l[h];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+t.SheetNames[n]+"'!"+i;break}}h==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+i}),Ne(r,161,Ol(Qt(i))),Ne(r,162)}}function SU(r,e,t){Ne(r,133),Ne(r,137,uU(e,t)),Ne(r,138),Ne(r,134)}function NU(r,e){e["!protect"]&&Ne(r,535,hU(e["!protect"]))}function EU(r,e,t,n){var a=pn(),i=t.SheetNames[r],l=t.Sheets[i]||{},u=i;try{t&&t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}var h=Qt(l["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ne(a,129),(t.vbaraw||l["!outline"])&&Ne(a,147,yB(u,l["!outline"])),Ne(a,148,gB(h)),SU(a,l,t.Workbook),yU(a,l),xU(a,l,r,e),NU(a,l),wU(a,l,t,r),pU(a,l),bU(a,l,n),l["!margins"]&&Ne(a,476,lU(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&vU(a,l),_U(a,l,r,n),Ne(a,130),a.end()}function kU(r,e){r.l+=10;var t=Qr(r);return{name:t}}var TU=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function jU(r){return!r.Workbook||!r.Workbook.WBProps?"false":s7(r.Workbook.WBProps.date1904)?"true":"false"}var AU="][*?/\\".split("");function qE(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return AU.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function CU(r,e,t){r.forEach(function(n,a){qE(n);for(var i=0;i<a;++i)if(n==r[i])throw new Error("Duplicate Sheet Name: "+n);if(t){var l=e&&e[a]&&e[a].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function OU(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];CU(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)ZI(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function GE(r){var e=[Nr];e[e.length]=De("workbook",null,{xmlns:Al[0],"xmlns:r":Or.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(TU.forEach(function(u){r.Workbook.WBProps[u[0]]!=null&&r.Workbook.WBProps[u[0]]!=u[1]&&(n[u[0]]=r.Workbook.WBProps[u[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=De("workbookPr",null,n);var a=r.Workbook&&r.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=r.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==r.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=r.SheetNames.length;++i){var l={name:Ft(r.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=De("sheet",null,l)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(u){var h={name:u.Name};u.Comment&&(h.comment=u.Comment),u.Sheet!=null&&(h.localSheetId=""+u.Sheet),u.Hidden&&(h.hidden="1"),u.Ref&&(e[e.length]=De("definedName",Ft(u.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function RU(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=_x(r),t.name=Qr(r),t}function DU(r,e){return e||(e=pe(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),Op(r.strRelID,e),Dr(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function MU(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var a=e>8?Qr(r):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function FU(r,e){e||(e=pe(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),sE(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function LU(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var a=r.read_shift(4),i=j7(r),l=GI(r,0,t),u=Cp(r);r.l=n;var h={Name:i,Ptg:l};return a<268435455&&(h.Sheet=a),u&&(h.Comment=u),h}function PU(r,e){Ne(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,a={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Ne(r,156,DU(a))}Ne(r,144)}function IU(r,e){e||(e=pe(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Dr("SheetJS",e),Dr(af.version,e),Dr(af.version,e),Dr("7262",e),e.length>e.l?e.slice(0,e.l):e}function BU(r,e){e||(e=pe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function UU(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,a=-1,i=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&a==-1?a=n:t[n].Hidden==1&&i==-1&&(i=n);i>a||(Ne(r,135),Ne(r,158,BU(a)),Ne(r,136))}}function zU(r,e){var t=pn();return Ne(t,131),Ne(t,128,IU()),Ne(t,153,FU(r.Workbook&&r.Workbook.WBProps||null)),UU(t,r),PU(t,r),Ne(t,132),t.end()}function HU(r,e,t){return(e.slice(-4)===".bin"?zU:GE)(r)}function $U(r,e,t,n,a){return(e.slice(-4)===".bin"?EU:VE)(r,t,n,a)}function VU(r,e,t){return(e.slice(-4)===".bin"?lP:AE)(r,t)}function WU(r,e,t){return(e.slice(-4)===".bin"?F9:EE)(r,t)}function qU(r,e,t){return(e.slice(-4)===".bin"?NP:ME)(r)}function GU(r){return(r.slice(-4)===".bin"?xP:RE)()}function YU(r,e){var t=[];return r.Props&&t.push(V7(r.Props,e)),r.Custprops&&t.push(W7(r.Props,r.Custprops)),t.join("")}function KU(){return""}function XU(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var i=[];i.push(De("NumberFormat",null,{"ss:Format":Ft(ur[n.numFmtId])}));var l={"ss:ID":"s"+(21+a)};t.push(De("Style",i.join(""),l))}),De("Styles",t.join(""))}function YE(r){return De("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+Fp(r.Ref,{r:0,c:0})})}function JU(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||t.push(YE(a)))}return De("Names",t.join(""))}function QU(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],l=0;l<a.length;++l){var u=a[l];u.Sheet==t&&(u.Name.match(/^_xlfn\./)||i.push(YE(u)))}return i.join("")}function ZU(r,e,t,n){if(!r)return"";var a=[];if(r["!margins"]&&(a.push("<PageSetup>"),r["!margins"].header&&a.push(De("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&a.push(De("Footer",null,{"x:Margin":r["!margins"].footer})),a.push(De("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)a.push(De("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<t&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==t&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),r["!protect"]&&(a.push(zr("ProtectContents","True")),r["!protect"].objects&&a.push(zr("ProtectObjects","True")),r["!protect"].scenarios&&a.push(zr("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?a.push(zr("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&a.push(zr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){r["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":De("WorksheetOptions",a.join(""),{xmlns:Cn.x})}function ez(r){return r.map(function(e){var t=a7(e.t||""),n=De("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return De("Comment",n,{"ss:Author":e.a})}).join("")}function tz(r,e,t,n,a,i,l){if(!r||r.v==null&&r.f==null)return"";var u={};if(r.f&&(u["ss:Formula"]="="+Ft(Fp(r.f,l))),r.F&&r.F.slice(0,e.length)==e){var h=Rr(r.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(h.r==l.r?"":"["+(h.r-l.r)+"]")+"C"+(h.c==l.c?"":"["+(h.c-l.c)+"]")}if(r.l&&r.l.Target&&(u["ss:HRef"]=Ft(r.l.Target),r.l.Tooltip&&(u["x:HRefScreenTip"]=Ft(r.l.Tooltip))),t["!merges"])for(var f=t["!merges"],g=0;g!=f.length;++g)f[g].s.c!=l.c||f[g].s.r!=l.r||(f[g].e.c>f[g].s.c&&(u["ss:MergeAcross"]=f[g].e.c-f[g].s.c),f[g].e.r>f[g].s.r&&(u["ss:MergeDown"]=f[g].e.r-f[g].s.r));var x="",y="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":x="Number",y=String(r.v);break;case"b":x="Boolean",y=r.v?"1":"0";break;case"e":x="Error",y=Lu[r.v];break;case"d":x="DateTime",y=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||ur[14]);break;case"s":x="String",y=n7(r.v||"");break}var v=ai(n.cellXfs,r,n);u["ss:StyleID"]="s"+(21+v),u["ss:Index"]=l.c+1;var w=r.v!=null?y:"",_=r.t=="z"?"":'<Data ss:Type="'+x+'">'+w+"</Data>";return(r.c||[]).length>0&&(_+=ez(r.c)),De("Cell",_,u)}function rz(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=jE(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function nz(r,e,t,n){if(!r["!ref"])return"";var a=Qt(r["!ref"]),i=r["!merges"]||[],l=0,u=[];r["!cols"]&&r["!cols"].forEach(function(S,E){Dp(S);var N=!!S.width,T=$f(E,S),M={"ss:Index":E+1};N&&(M["ss:Width"]=gf(T.width)),S.hidden&&(M["ss:Hidden"]="1"),u.push(De("Column",null,M))});for(var h=Array.isArray(r),f=a.s.r;f<=a.e.r;++f){for(var g=[rz(f,(r["!rows"]||[])[f])],x=a.s.c;x<=a.e.c;++x){var y=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>x)&&!(i[l].s.r>f)&&!(i[l].e.c<x)&&!(i[l].e.r<f)){(i[l].s.c!=x||i[l].s.r!=f)&&(y=!0);break}if(!y){var v={r:f,c:x},w=Lt(v),_=h?(r[f]||[])[x]:r[w];g.push(tz(_,w,r,e,t,n,v))}}g.push("</Row>"),g.length>2&&u.push(g.join(""))}return u.join("")}function az(r,e,t){var n=[],a=t.SheetNames[r],i=t.Sheets[a],l=i?QU(i,e,r,t):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=i?nz(i,e,r,t):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(ZU(i,e,r,t)),n.join("")}function sz(r,e){e||(e={}),r.SSF||(r.SSF=vn(ur)),r.SSF&&(If(),Pf(r.SSF),e.revssf=Bf(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],ai(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(YU(r,e)),t.push(KU()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(De("Worksheet",az(n,e,r),{"ss:Name":Ft(r.SheetNames[n])}));return t[2]=XU(r,e),t[3]=JU(r),Nr+De("Workbook",t.join(""),{xmlns:Cn.ss,"xmlns:o":Cn.o,"xmlns:x":Cn.x,"xmlns:ss":Cn.ss,"xmlns:dt":Cn.dt,"xmlns:html":Cn.html})}var Ig={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function iz(r,e){var t=[],n=[],a=[],i=0,l,u=l2(_2,"n"),h=l2(w2,"n");if(r.Props)for(l=Vr(r.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(u,l[i])?t:Object.prototype.hasOwnProperty.call(h,l[i])?n:a).push([l[i],r.Props[l[i]]]);if(r.Custprops)for(l=Vr(r.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(r.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(u,l[i])?t:Object.prototype.hasOwnProperty.call(h,l[i])?n:a).push([l[i],r.Custprops[l[i]]]);var f=[];for(i=0;i<a.length;++i)yE.indexOf(a[i][0])>-1||gE.indexOf(a[i][0])>-1||a[i][1]!=null&&f.push(a[i]);n.length&&zt.utils.cfb_add(e,"/SummaryInformation",T2(n,Ig.SI,h,w2)),(t.length||f.length)&&zt.utils.cfb_add(e,"/DocumentSummaryInformation",T2(t,Ig.DSI,u,_2,f.length?f:null,Ig.UDI))}function oz(r,e){var t=e||{},n=zt.utils.cfb_new({root:"R"}),a="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":a="/Workbook",t.biff=8;break;case"biff5":a="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return zt.utils.cfb_add(n,a,KE(r,t)),t.biff==8&&(r.Props||r.Custprops)&&iz(r,n),t.biff==8&&r.vbaraw&&EP(n,zt.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var lz={0:{f:dB},1:{f:vB},2:{f:BB},3:{f:TB},4:{f:SB},5:{f:FB},6:{f:VB},7:{f:OB},8:{f:JB},9:{f:XB},10:{f:YB},11:{f:KB},12:{f:_B},13:{f:zB},14:{f:AB},15:{f:EB},16:{f:PB},17:{f:qB},18:{f:DB},19:{f:Ap},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:LU},40:{},42:{},43:{f:V9},44:{f:H9},45:{f:G9},46:{f:K9},47:{f:Y9},48:{},49:{f:_7},50:{},51:{f:dP},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:w9},62:{f:$B},63:{f:pP},64:{f:fU},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Oa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:cU},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:pB},148:{f:mB,p:16},151:{f:nU},152:{},153:{f:MU},154:{},155:{},156:{f:RU},157:{},158:{},159:{T:1,f:R9},160:{T:-1},161:{T:1,f:no},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:QB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:cP},336:{T:-1},337:{f:mP,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:_x},357:{},358:{},359:{},360:{T:1},361:{},362:{f:x9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:aU},427:{f:sU},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:oU},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:xB},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:tU},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:_x},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:wP},633:{T:1},634:{T:-1},635:{T:1,f:bP},636:{T:-1},637:{f:E7},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:kU},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:mU},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Me(r,e,t,n){var a=e;if(!isNaN(a)){var i=n||(t||[]).length||0,l=r.next(4);l.write_shift(2,a),l.write_shift(2,i),i>0&&kp(t)&&r.push(t)}}function cz(r,e,t,n){var a=(t||[]).length||0;if(a<=8224)return Me(r,e,t,a);var i=e;if(!isNaN(i)){for(var l=t.parts||[],u=0,h=0,f=0;f+(l[u]||8224)<=8224;)f+=l[u]||8224,u++;var g=r.next(4);for(g.write_shift(2,i),g.write_shift(2,f),r.push(t.slice(h,h+f)),h+=f;h<a;){for(g=r.next(4),g.write_shift(2,60),f=0;f+(l[u]||8224)<=8224;)f+=l[u]||8224,u++;g.write_shift(2,f),r.push(t.slice(h,h+f)),h+=f}}}function Iu(r,e,t){return r||(r=pe(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function uz(r,e,t,n){var a=pe(9);return Iu(a,r,e),bE(t,n||"b",a),a}function dz(r,e,t){var n=pe(8+2*t.length);return Iu(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function hz(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?yn(rn(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Me(r,2,k9(t,n,a)):Me(r,3,E9(t,n,a));return;case"b":case"e":Me(r,5,uz(t,n,e.v,e.t));return;case"s":case"str":Me(r,4,dz(t,n,(e.v||"").slice(0,255)));return}Me(r,1,Iu(null,t,n))}function fz(r,e,t,n){var a=Array.isArray(e),i=Qt(e["!ref"]||"A1"),l,u="",h=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=Sr(i)}for(var f=i.s.r;f<=i.e.r;++f){u=$r(f);for(var g=i.s.c;g<=i.e.c;++g){f===i.s.r&&(h[g]=Jr(g)),l=h[g]+u;var x=a?(e[f]||[])[g]:e[l];x&&hz(r,x,f,g)}}}function mz(r,e){for(var t=e||{},n=pn(),a=0,i=0;i<r.SheetNames.length;++i)r.SheetNames[i]==t.sheet&&(a=i);if(a==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Me(n,t.biff==4?1033:t.biff==3?521:9,Rp(r,16,t)),fz(n,r.Sheets[r.SheetNames[a]],a,t),Me(n,10),n.end()}function gz(r,e,t){Me(r,49,l9({sz:12,name:"Arial"},t))}function xz(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Me(r,1054,d9(a,e[a],t))})}function pz(r,e){var t=pe(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Me(r,2151,t),t=pe(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),SE(Qt(e["!ref"]||"A1"),t),t.write_shift(4,4),Me(r,2152,t)}function yz(r,e){for(var t=0;t<16;++t)Me(r,224,A2({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Me(r,224,A2(n,0,e))})}function vz(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];Me(r,440,v9(n)),n[1].Tooltip&&Me(r,2048,b9(n))}delete e["!links"]}function bz(r,e){if(e){var t=0;e.forEach(function(n,a){++t<=256&&n&&Me(r,125,S9($f(a,n),a))})}}function _z(r,e,t,n,a){var i=16+ai(a.cellXfs,e,a);if(e.v==null&&!e.bf){Me(r,513,Xi(t,n,i));return}if(e.bf)Me(r,6,WI(e,t,n,a,i));else switch(e.t){case"d":case"n":var l=e.t=="d"?yn(rn(e.v)):e.v;Me(r,515,g9(t,n,l,i));break;case"b":case"e":Me(r,517,m9(t,n,e.v,i,a,e.t));break;case"s":case"str":if(a.bookSST){var u=Pp(a.Strings,e.v,a.revStrings);Me(r,253,c9(t,n,u,i))}else Me(r,516,u9(t,n,(e.v||"").slice(0,255),i,a));break;default:Me(r,513,Xi(t,n,i))}}function wz(r,e,t){var n=pn(),a=t.SheetNames[r],i=t.Sheets[a]||{},l=(t||{}).Workbook||{},u=(l.Sheets||[])[r]||{},h=Array.isArray(i),f=e.biff==8,g,x="",y=[],v=Qt(i["!ref"]||"A1"),w=f?65536:16384;if(v.e.c>255||v.e.r>=w){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,w-1)}Me(n,2057,Rp(t,16,e)),Me(n,13,Xn(1)),Me(n,12,Xn(100)),Me(n,15,tn(!0)),Me(n,17,tn(!1)),Me(n,16,Ki(.001)),Me(n,95,tn(!0)),Me(n,42,tn(!1)),Me(n,43,tn(!1)),Me(n,130,Xn(1)),Me(n,128,f9()),Me(n,131,tn(!1)),Me(n,132,tn(!1)),f&&bz(n,i["!cols"]),Me(n,512,h9(v,e)),f&&(i["!links"]=[]);for(var _=v.s.r;_<=v.e.r;++_){x=$r(_);for(var S=v.s.c;S<=v.e.c;++S){_===v.s.r&&(y[S]=Jr(S)),g=y[S]+x;var E=h?(i[_]||[])[S]:i[g];E&&(_z(n,E,_,S,e),f&&E.l&&i["!links"].push([g,E.l]))}}var N=u.CodeName||u.name||a;return f&&Me(n,574,o9((l.Views||[])[0])),f&&(i["!merges"]||[]).length&&Me(n,229,y9(i["!merges"])),f&&vz(n,i),Me(n,442,wE(N)),f&&pz(n,i),Me(n,10),n.end()}function Sz(r,e,t){var n=pn(),a=(r||{}).Workbook||{},i=a.Sheets||[],l=a.WBProps||{},u=t.biff==8,h=t.biff==5;if(Me(n,2057,Rp(r,5,t)),t.bookType=="xla"&&Me(n,135),Me(n,225,u?Xn(1200):null),Me(n,193,Y7(2)),h&&Me(n,191),h&&Me(n,192),Me(n,226),Me(n,92,n9("SheetJS",t)),Me(n,66,Xn(u?1200:1252)),u&&Me(n,353,Xn(0)),u&&Me(n,448),Me(n,317,N9(r.SheetNames.length)),u&&r.vbaraw&&Me(n,211),u&&r.vbaraw){var f=l.CodeName||"ThisWorkbook";Me(n,442,wE(f))}Me(n,156,Xn(17)),Me(n,25,tn(!1)),Me(n,18,tn(!1)),Me(n,19,Xn(0)),u&&Me(n,431,tn(!1)),u&&Me(n,444,Xn(0)),Me(n,61,i9()),Me(n,64,tn(!1)),Me(n,141,Xn(0)),Me(n,34,tn(jU(r)=="true")),Me(n,14,tn(!0)),u&&Me(n,439,tn(!1)),Me(n,218,Xn(0)),gz(n,r,t),xz(n,r.SSF,t),yz(n,t),u&&Me(n,352,tn(!1));var g=n.end(),x=pn();u&&Me(x,140,_9()),u&&t.Strings&&cz(x,252,s9(t.Strings)),Me(x,10);var y=x.end(),v=pn(),w=0,_=0;for(_=0;_<r.SheetNames.length;++_)w+=(u?12:11)+(u?2:1)*r.SheetNames[_].length;var S=g.length+w+y.length;for(_=0;_<r.SheetNames.length;++_){var E=i[_]||{};Me(v,133,a9({pos:S,hs:E.Hidden||0,dt:0,name:r.SheetNames[_]},t)),S+=e[_].length}var N=v.end();if(w!=N.length)throw new Error("BS8 "+w+" != "+N.length);var T=[];return g.length&&T.push(g),N.length&&T.push(N),y.length&&T.push(y),Ur(T)}function Nz(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=vn(ur)),r&&r.SSF&&(If(),Pf(r.SSF),t.revssf=Bf(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ip(t),t.cellXfs=[],ai(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var a=0;a<r.SheetNames.length;++a)n[n.length]=wz(a,t,r);return n.unshift(Sz(r,n,t)),Ur(n)}function KE(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var a=Mn(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return Nz(r,e);case 4:case 3:case 2:return mz(r,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Ez(r,e,t,n){for(var a=r["!merges"]||[],i=[],l=e.s.c;l<=e.e.c;++l){for(var u=0,h=0,f=0;f<a.length;++f)if(!(a[f].s.r>t||a[f].s.c>l)&&!(a[f].e.r<t||a[f].e.c<l)){if(a[f].s.r<t||a[f].s.c<l){u=-1;break}u=a[f].e.r-a[f].s.r+1,h=a[f].e.c-a[f].s.c+1;break}if(!(u<0)){var g=Lt({r:t,c:l}),x=n.dense?(r[t]||[])[l]:r[g],y=x&&x.v!=null&&(x.h||r7(x.w||(ds(x),x.w)||""))||"",v={};u>1&&(v.rowspan=u),h>1&&(v.colspan=h),n.editable?y='<span contenteditable="true">'+y+"</span>":x&&(v["data-t"]=x&&x.t||"z",x.v!=null&&(v["data-v"]=x.v),x.z!=null&&(v["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+x.l.Target+'">'+y+"</a>")),v.id=(n.id||"sjs")+"-"+g,i.push(De("td",y,v))}}var w="<tr>";return w+i.join("")+"</tr>"}var kz='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Tz="</body></html>";function jz(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function XE(r,e){var t=e||{},n=t.header!=null?t.header:kz,a=t.footer!=null?t.footer:Tz,i=[n],l=Mn(r["!ref"]);t.dense=Array.isArray(r),i.push(jz(r,l,t));for(var u=l.s.r;u<=l.e.r;++u)i.push(Ez(r,l,u,t));return i.push("</table>"+a),i.join("")}function JE(r,e,t){var n=t||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Rr(n.origin):n.origin;a=l.r,i=l.c}var u=e.getElementsByTagName("tr"),h=Math.min(n.sheetRows||1e7,u.length),f={s:{r:0,c:0},e:{r:a,c:i}};if(r["!ref"]){var g=Mn(r["!ref"]);f.s.r=Math.min(f.s.r,g.s.r),f.s.c=Math.min(f.s.c,g.s.c),f.e.r=Math.max(f.e.r,g.e.r),f.e.c=Math.max(f.e.c,g.e.c),a==-1&&(f.e.r=a=g.e.r+1)}var x=[],y=0,v=r["!rows"]||(r["!rows"]=[]),w=0,_=0,S=0,E=0,N=0,T=0;for(r["!cols"]||(r["!cols"]=[]);w<u.length&&_<h;++w){var M=u[w];if(L2(M)){if(n.display)continue;v[_]={hidden:!0}}var C=M.children;for(S=E=0;S<C.length;++S){var V=C[S];if(!(n.display&&L2(V))){var D=V.hasAttribute("data-v")?V.getAttribute("data-v"):V.hasAttribute("v")?V.getAttribute("v"):i7(V.innerHTML),Y=V.getAttribute("data-z")||V.getAttribute("z");for(y=0;y<x.length;++y){var O=x[y];O.s.c==E+i&&O.s.r<_+a&&_+a<=O.e.r&&(E=O.e.c+1-i,y=-1)}T=+V.getAttribute("colspan")||1,((N=+V.getAttribute("rowspan")||1)>1||T>1)&&x.push({s:{r:_+a,c:E+i},e:{r:_+a+(N||1)-1,c:E+i+(T||1)-1}});var Q={t:"s",v:D},W=V.getAttribute("data-t")||V.getAttribute("t")||"";D!=null&&(D.length==0?Q.t=W||"z":n.raw||D.trim().length==0||W=="s"||(D==="TRUE"?Q={t:"b",v:!0}:D==="FALSE"?Q={t:"b",v:!1}:isNaN(os(D))?isNaN(pu(D).getDate())||(Q={t:"d",v:rn(D)},n.cellDates||(Q={t:"n",v:yn(Q.v)}),Q.z=n.dateNF||ur[14]):Q={t:"n",v:os(D)})),Q.z===void 0&&Y!=null&&(Q.z=Y);var Z="",xe=V.getElementsByTagName("A");if(xe&&xe.length)for(var Fe=0;Fe<xe.length&&!(xe[Fe].hasAttribute("href")&&(Z=xe[Fe].getAttribute("href"),Z.charAt(0)!="#"));++Fe);Z&&Z.charAt(0)!="#"&&(Q.l={Target:Z}),n.dense?(r[_+a]||(r[_+a]=[]),r[_+a][E+i]=Q):r[Lt({c:E+i,r:_+a})]=Q,f.e.c<E+i&&(f.e.c=E+i),E+=T}}++_}return x.length&&(r["!merges"]=(r["!merges"]||[]).concat(x)),f.e.r=Math.max(f.e.r,_-1+a),r["!ref"]=Sr(f),_>=h&&(r["!fullref"]=Sr((f.e.r=u.length-w+_-1+a,f))),r}function QE(r,e){var t=e||{},n=t.dense?[]:{};return JE(n,r,e)}function Az(r,e){return Zi(QE(r,e),e)}function L2(r){var e="",t=Cz(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function Cz(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Oz=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+vu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Nr+e}})(),P2=(function(){var r=function(i){return Ft(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(i,l,u){var h=[];h.push('      <table:table table:name="'+Ft(l.SheetNames[u])+`" table:style-name="ta1">
`);var f=0,g=0,x=Mn(i["!ref"]||"A1"),y=i["!merges"]||[],v=0,w=Array.isArray(i);if(i["!cols"])for(g=0;g<=x.e.c;++g)h.push("        <table:table-column"+(i["!cols"][g]?' table:style-name="co'+i["!cols"][g].ods+'"':"")+`></table:table-column>
`);var _="",S=i["!rows"]||[];for(f=0;f<x.s.r;++f)_=S[f]?' table:style-name="ro'+S[f].ods+'"':"",h.push("        <table:table-row"+_+`></table:table-row>
`);for(;f<=x.e.r;++f){for(_=S[f]?' table:style-name="ro'+S[f].ods+'"':"",h.push("        <table:table-row"+_+`>
`),g=0;g<x.s.c;++g)h.push(e);for(;g<=x.e.c;++g){var E=!1,N={},T="";for(v=0;v!=y.length;++v)if(!(y[v].s.c>g)&&!(y[v].s.r>f)&&!(y[v].e.c<g)&&!(y[v].e.r<f)){(y[v].s.c!=g||y[v].s.r!=f)&&(E=!0),N["table:number-columns-spanned"]=y[v].e.c-y[v].s.c+1,N["table:number-rows-spanned"]=y[v].e.r-y[v].s.r+1;break}if(E){h.push(t);continue}var M=Lt({r:f,c:g}),C=w?(i[f]||[])[g]:i[M];if(C&&C.f&&(N["table:formula"]=Ft(JI(C.f)),C.F&&C.F.slice(0,M.length)==M)){var V=Mn(C.F);N["table:number-matrix-columns-spanned"]=V.e.c-V.s.c+1,N["table:number-matrix-rows-spanned"]=V.e.r-V.s.r+1}if(!C){h.push(e);continue}switch(C.t){case"b":T=C.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=C.v?"true":"false";break;case"n":T=C.w||String(C.v||0),N["office:value-type"]="float",N["office:value"]=C.v||0;break;case"s":case"str":T=C.v==null?"":C.v,N["office:value-type"]="string";break;case"d":T=C.w||rn(C.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=rn(C.v).toISOString(),N["table:style-name"]="ce1";break;default:h.push(e);continue}var D=r(T);if(C.l&&C.l.Target){var Y=C.l.Target;Y=Y.charAt(0)=="#"?"#"+QI(Y.slice(1)):Y,Y.charAt(0)!="#"&&!Y.match(/^\w+:/)&&(Y="../"+Y),D=De("text:a",D,{"xlink:href":Y.replace(/&/g,"&amp;")})}h.push("          "+De("table:table-cell",De("text:p",D,{}),N)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},a=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var u=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var g=0;g<f["!cols"].length;++g)if(f["!cols"][g]){var x=f["!cols"][g];if(x.width==null&&x.wpx==null&&x.wch==null)continue;Dp(x),x.ods=u;var y=f["!cols"][g].wpx+"px";i.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),i.push(`  </style:style>
`),++u}}});var h=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var g=0;g<f["!rows"].length;++g)if(f["!rows"][g]){f["!rows"][g].ods=h;var x=f["!rows"][g].hpx+"px";i.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),i.push(`  </style:style>
`),++h}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,u){var h=[Nr],f=vu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),g=vu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(h.push("<office:document"+f+g+`>
`),h.push(fE().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+f+`>
`),a(h,l),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var x=0;x!=l.SheetNames.length;++x)h.push(n(l.Sheets[l.SheetNames[x]],l,x));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),u.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function ZE(r,e){if(e.bookType=="fods")return P2(r,e);var t=wp(),n="",a=[],i=[];return n="mimetype",lt(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",lt(t,n,P2(r,e)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",lt(t,n,Oz(r,e)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",lt(t,n,Nr+fE()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",lt(t,n,$7(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",lt(t,n,z7(a)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function yf(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Rz(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):ha(yu(r))}function Dz(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function ri(r){var e=r.reduce(function(a,i){return a+i.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(a){t.set(a,n),n+=a.length}),t}function Mz(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,a=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)r[e+i]=a&255;r[e+15]|=t>=0?0:128}function bu(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Ot(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function dl(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Tr(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],a=bu(r,t),i=a&7;a=Math.floor(a/8);var l=0,u;if(a==0)break;switch(i){case 0:{for(var h=t[0];r[t[0]++]>=128;);u=r.slice(h,t[0])}break;case 5:l=4,u=r.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,u=r.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=bu(r,t),u=r.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var f={data:u,type:i};e[a]==null?e[a]=[f]:e[a].push(f)}return e}function Ir(r){var e=[];return r.forEach(function(t,n){t.forEach(function(a){a.data&&(e.push(Ot(n*8+a.type)),a.type==2&&e.push(Ot(a.data.length)),e.push(a.data))})}),ri(e)}function sa(r){for(var e,t=[],n=[0];n[0]<r.length;){var a=bu(r,n),i=Tr(r.slice(n[0],n[0]+a));n[0]+=a;var l={id:dl(i[1][0].data),messages:[]};i[2].forEach(function(u){var h=Tr(u.data),f=dl(h[3][0].data);l.messages.push({meta:h,data:r.slice(n[0],n[0]+f)}),n[0]+=f}),(e=i[3])!=null&&e[0]&&(l.merge=dl(i[3][0].data)>>>0>0),t.push(l)}return t}function Qo(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:Ot(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:Ot(+!!t.merge),type:0}]);var a=[];t.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:Ot(l.data.length)}],n[2].push({data:Ir(l.meta),type:2})});var i=Ir(n);e.push(Ot(i.length)),e.push(i),a.forEach(function(l){return e.push(l)})}),ri(e)}function Fz(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=bu(e,t),a=[];t[0]<e.length;){var i=e[t[0]]&3;if(i==0){var l=e[t[0]++]>>2;if(l<60)++l;else{var u=l-59;l=e[t[0]],u>1&&(l|=e[t[0]+1]<<8),u>2&&(l|=e[t[0]+2]<<16),u>3&&(l|=e[t[0]+3]<<24),l>>>=0,l++,t[0]+=u}a.push(e.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var h=0,f=0;if(i==1?(f=(e[t[0]]>>2&7)+4,h=(e[t[0]++]&224)<<3,h|=e[t[0]++]):(f=(e[t[0]++]>>2)+1,i==2?(h=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(h=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[ri(a)],h==0)throw new Error("Invalid offset 0");if(h>a[0].length)throw new Error("Invalid offset beyond length");if(f>=h)for(a.push(a[0].slice(-h)),f-=h;f>=a[a.length-1].length;)a.push(a[a.length-1]),f-=a[a.length-1].length;a.push(a[0].slice(-h,-h+f))}}var g=ri(a);if(g.length!=n)throw new Error("Unexpected length: ".concat(g.length," != ").concat(n));return g}function ia(r){for(var e=[],t=0;t<r.length;){var n=r[t++],a=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(Fz(n,r.slice(t,t+a))),t+=a}if(t!==r.length)throw new Error("data is not a valid framed stream!");return ri(e)}function Zo(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),a=new Uint8Array(4);e.push(a);var i=Ot(n),l=i.length;e.push(i),n<=60?(l++,e.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),l+=n,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,t+=n}return ri(e)}function Bg(r,e){var t=new Uint8Array(32),n=yf(t),a=12,i=0;switch(t[0]=5,r.t){case"n":t[1]=2,Mz(t,a,r.v),i|=1,a+=16;break;case"b":t[1]=6,n.setFloat64(a,r.v?1:0,!0),i|=2,a+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(a,e.indexOf(r.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,i,!0),t.slice(0,a)}function Ug(r,e){var t=new Uint8Array(32),n=yf(t),a=12,i=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(a,r.v,!0),i|=32,a+=8;break;case"b":t[2]=6,n.setFloat64(a,r.v?1:0,!0),i|=32,a+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(a,e.indexOf(r.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,i,!0),t.slice(0,a)}function Us(r){var e=Tr(r);return bu(e[1][0].data)}function Lz(r,e,t){var n,a,i,l;if(!((n=r[6])!=null&&n[0])||!((a=r[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var u=((l=(i=r[8])==null?void 0:i[0])==null?void 0:l.data)&&dl(r[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var h=0,f=yf(r[7][0].data),g=0,x=[],y=yf(r[4][0].data),v=0,w=[],_=0;_<e.length;++_){if(e[_]==null){f.setUint16(_*2,65535,!0),y.setUint16(_*2,65535);continue}f.setUint16(_*2,g,!0),y.setUint16(_*2,v,!0);var S,E;switch(typeof e[_]){case"string":S=Bg({t:"s",v:e[_]},t),E=Ug({t:"s",v:e[_]},t);break;case"number":S=Bg({t:"n",v:e[_]},t),E=Ug({t:"n",v:e[_]},t);break;case"boolean":S=Bg({t:"b",v:e[_]},t),E=Ug({t:"b",v:e[_]},t);break;default:throw new Error("Unsupported value "+e[_])}x.push(S),g+=S.length,w.push(E),v+=E.length,++h}for(r[2][0].data=Ot(h);_<r[7][0].data.length/2;++_)f.setUint16(_*2,65535,!0),y.setUint16(_*2,65535,!0);return r[6][0].data=ri(x),r[3][0].data=ri(w),h}function Pz(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Mn(t["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Sr(n)));var i=vf(t,{range:n,header:1}),l=["~Sh33tJ5~"];i.forEach(function(q){return q.forEach(function(H){typeof H=="string"&&l.push(H)})});var u={},h=[],f=zt.read(e.numbers,{type:"base64"});f.FileIndex.map(function(q,H){return[q,f.FullPaths[H]]}).forEach(function(q){var H=q[0],G=q[1];if(H.type==2&&H.name.match(/\.iwa/)){var se=H.content,J=ia(se),Se=sa(J);Se.forEach(function(be){h.push(be.id),u[be.id]={deps:[],location:G,type:dl(be.messages[0].meta[1][0].data)}})}}),h.sort(function(q,H){return q-H});var g=h.filter(function(q){return q>1}).map(function(q){return[q,Ot(q)]});f.FileIndex.map(function(q,H){return[q,f.FullPaths[H]]}).forEach(function(q){var H=q[0];if(q[1],!!H.name.match(/\.iwa/)){var G=sa(ia(H.content));G.forEach(function(se){se.messages.forEach(function(J){g.forEach(function(Se){se.messages.some(function(be){return dl(be.meta[1][0].data)!=11006&&Dz(be.data,Se[1])})&&u[Se[0]].deps.push(se.id)})})})}});for(var x=zt.find(f,u[1].location),y=sa(ia(x.content)),v,w=0;w<y.length;++w){var _=y[w];_.id==1&&(v=_)}var S=Us(Tr(v.messages[0].data)[1][0].data);for(x=zt.find(f,u[S].location),y=sa(ia(x.content)),w=0;w<y.length;++w)_=y[w],_.id==S&&(v=_);for(S=Us(Tr(v.messages[0].data)[2][0].data),x=zt.find(f,u[S].location),y=sa(ia(x.content)),w=0;w<y.length;++w)_=y[w],_.id==S&&(v=_);for(S=Us(Tr(v.messages[0].data)[2][0].data),x=zt.find(f,u[S].location),y=sa(ia(x.content)),w=0;w<y.length;++w)_=y[w],_.id==S&&(v=_);var E=Tr(v.messages[0].data);{E[6][0].data=Ot(n.e.r+1),E[7][0].data=Ot(n.e.c+1);var N=Us(E[46][0].data),T=zt.find(f,u[N].location),M=sa(ia(T.content));{for(var C=0;C<M.length&&M[C].id!=N;++C);if(M[C].id!=N)throw"Bad ColumnRowUIDMapArchive";var V=Tr(M[C].messages[0].data);V[1]=[],V[2]=[],V[3]=[];for(var D=0;D<=n.e.c;++D){var Y=[];Y[1]=Y[2]=[{type:0,data:Ot(D+420690)}],V[1].push({type:2,data:Ir(Y)}),V[2].push({type:0,data:Ot(D)}),V[3].push({type:0,data:Ot(D)})}V[4]=[],V[5]=[],V[6]=[];for(var O=0;O<=n.e.r;++O)Y=[],Y[1]=Y[2]=[{type:0,data:Ot(O+726270)}],V[4].push({type:2,data:Ir(Y)}),V[5].push({type:0,data:Ot(O)}),V[6].push({type:0,data:Ot(O)});M[C].messages[0].data=Ir(V)}T.content=Zo(Qo(M)),T.size=T.content.length,delete E[46];var Q=Tr(E[4][0].data);{Q[7][0].data=Ot(n.e.r+1);var W=Tr(Q[1][0].data),Z=Us(W[2][0].data);T=zt.find(f,u[Z].location),M=sa(ia(T.content));{if(M[0].id!=Z)throw"Bad HeaderStorageBucket";var xe=Tr(M[0].messages[0].data);for(O=0;O<i.length;++O){var Fe=Tr(xe[2][0].data);Fe[1][0].data=Ot(O),Fe[4][0].data=Ot(i[O].length),xe[2][O]={type:xe[2][0].type,data:Ir(Fe)}}M[0].messages[0].data=Ir(xe)}T.content=Zo(Qo(M)),T.size=T.content.length;var ke=Us(Q[2][0].data);T=zt.find(f,u[ke].location),M=sa(ia(T.content));{if(M[0].id!=ke)throw"Bad HeaderStorageBucket";for(xe=Tr(M[0].messages[0].data),D=0;D<=n.e.c;++D)Fe=Tr(xe[2][0].data),Fe[1][0].data=Ot(D),Fe[4][0].data=Ot(n.e.r+1),xe[2][D]={type:xe[2][0].type,data:Ir(Fe)};M[0].messages[0].data=Ir(xe)}T.content=Zo(Qo(M)),T.size=T.content.length;var te=Us(Q[4][0].data);(function(){for(var q=zt.find(f,u[te].location),H=sa(ia(q.content)),G,se=0;se<H.length;++se){var J=H[se];J.id==te&&(G=J)}var Se=Tr(G.messages[0].data);{Se[3]=[];var be=[];l.forEach(function(it,ar){be[1]=[{type:0,data:Ot(ar)}],be[2]=[{type:0,data:Ot(1)}],be[3]=[{type:2,data:Rz(it)}],Se[3].push({type:2,data:Ir(be)})})}G.messages[0].data=Ir(Se);var je=Qo(H),ft=Zo(je);q.content=ft,q.size=q.content.length})();var ae=Tr(Q[3][0].data);{var Te=ae[1][0];delete ae[2];var Oe=Tr(Te.data);{var We=Us(Oe[2][0].data);(function(){for(var q=zt.find(f,u[We].location),H=sa(ia(q.content)),G,se=0;se<H.length;++se){var J=H[se];J.id==We&&(G=J)}var Se=Tr(G.messages[0].data);{delete Se[6],delete ae[7];var be=new Uint8Array(Se[5][0].data);Se[5]=[];for(var je=0,ft=0;ft<=n.e.r;++ft){var it=Tr(be);je+=Lz(it,i[ft],l),it[1][0].data=Ot(ft),Se[5].push({data:Ir(it),type:2})}Se[1]=[{type:0,data:Ot(n.e.c+1)}],Se[2]=[{type:0,data:Ot(n.e.r+1)}],Se[3]=[{type:0,data:Ot(je)}],Se[4]=[{type:0,data:Ot(n.e.r+1)}]}G.messages[0].data=Ir(Se);var ar=Qo(H),rt=Zo(ar);q.content=rt,q.size=q.content.length})()}Te.data=Ir(Oe)}Q[3][0].data=Ir(ae)}E[4][0].data=Ir(Q)}v.messages[0].data=Ir(E);var K=Qo(y),R=Zo(K);return x.content=R,x.size=x.content.length,f}function Iz(r){return function(t){for(var n=0;n!=r.length;++n){var a=r[n];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function Ip(r){Iz([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function Bz(r,e){return e.bookType=="ods"?ZE(r,e):e.bookType=="numbers"?Pz(r,e):e.bookType=="xlsb"?Uz(r,e):zz(r,e)}function Uz(r,e){al=1024,r&&!r.SSF&&(r.SSF=vn(ur)),r&&r.SSF&&(If(),Pf(r.SSF),e.revssf=Bf(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,tu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=FE.indexOf(e.bookType)>-1,a=uE();Ip(e=e||{});var i=wp(),l="",u=0;if(e.cellXfs=[],ai(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),l="docProps/core.xml",lt(i,l,mE(r.Props,e)),a.coreprops.push(l),Rt(e.rels,2,l,Nt.CORE_PROPS),l="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var h=[],f=0;f<r.SheetNames.length;++f)(r.Workbook.Sheets[f]||{}).Hidden!=2&&h.push(r.SheetNames[f]);r.Props.SheetNames=h}for(r.Props.Worksheets=r.Props.SheetNames.length,lt(i,l,xE(r.Props)),a.extprops.push(l),Rt(e.rels,3,l,Nt.EXT_PROPS),r.Custprops!==r.Props&&Vr(r.Custprops||{}).length>0&&(l="docProps/custom.xml",lt(i,l,pE(r.Custprops)),a.custprops.push(l),Rt(e.rels,4,l,Nt.CUST_PROPS)),u=1;u<=r.SheetNames.length;++u){var g={"!id":{}},x=r.Sheets[r.SheetNames[u-1]],y=(x||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,lt(i,l,$U(u-1,l,e,r,g)),a.sheets.push(l),Rt(e.wbrels,-1,"worksheets/sheet"+u+"."+t,Nt.WS[0])}if(x){var v=x["!comments"],w=!1,_="";v&&v.length>0&&(_="xl/comments"+u+"."+t,lt(i,_,qU(v,_)),a.comments.push(_),Rt(g,-1,"../comments"+u+"."+t,Nt.CMNT),w=!0),x["!legacy"]&&w&&lt(i,"xl/drawings/vmlDrawing"+u+".vml",DE(u,x["!comments"])),delete x["!comments"],delete x["!legacy"]}g["!id"].rId1&&lt(i,hE(l),cl(g))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,lt(i,l,WU(e.Strings,l,e)),a.strs.push(l),Rt(e.wbrels,-1,"sharedStrings."+t,Nt.SST)),l="xl/workbook."+t,lt(i,l,HU(r,l)),a.workbooks.push(l),Rt(e.rels,1,l,Nt.WB),l="xl/theme/theme1.xml",lt(i,l,OE(r.Themes,e)),a.themes.push(l),Rt(e.wbrels,-1,"theme/theme1.xml",Nt.THEME),l="xl/styles."+t,lt(i,l,VU(r,l,e)),a.styles.push(l),Rt(e.wbrels,-1,"styles."+t,Nt.STY),r.vbaraw&&n&&(l="xl/vbaProject.bin",lt(i,l,r.vbaraw),a.vba.push(l),Rt(e.wbrels,-1,"vbaProject.bin",Nt.VBA)),l="xl/metadata."+t,lt(i,l,GU(l)),a.metadata.push(l),Rt(e.wbrels,-1,"metadata."+t,Nt.XLMETA),lt(i,"[Content_Types].xml",dE(a,e)),lt(i,"_rels/.rels",cl(e.rels)),lt(i,"xl/_rels/workbook."+t+".rels",cl(e.wbrels)),delete e.revssf,delete e.ssf,i}function zz(r,e){al=1024,r&&!r.SSF&&(r.SSF=vn(ur)),r&&r.SSF&&(If(),Pf(r.SSF),e.revssf=Bf(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,tu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=FE.indexOf(e.bookType)>-1,a=uE();Ip(e=e||{});var i=wp(),l="",u=0;if(e.cellXfs=[],ai(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),l="docProps/core.xml",lt(i,l,mE(r.Props,e)),a.coreprops.push(l),Rt(e.rels,2,l,Nt.CORE_PROPS),l="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var h=[],f=0;f<r.SheetNames.length;++f)(r.Workbook.Sheets[f]||{}).Hidden!=2&&h.push(r.SheetNames[f]);r.Props.SheetNames=h}r.Props.Worksheets=r.Props.SheetNames.length,lt(i,l,xE(r.Props)),a.extprops.push(l),Rt(e.rels,3,l,Nt.EXT_PROPS),r.Custprops!==r.Props&&Vr(r.Custprops||{}).length>0&&(l="docProps/custom.xml",lt(i,l,pE(r.Custprops)),a.custprops.push(l),Rt(e.rels,4,l,Nt.CUST_PROPS));var g=["SheetJ5"];for(e.tcid=0,u=1;u<=r.SheetNames.length;++u){var x={"!id":{}},y=r.Sheets[r.SheetNames[u-1]],v=(y||{})["!type"]||"sheet";switch(v){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,lt(i,l,VE(u-1,e,r,x)),a.sheets.push(l),Rt(e.wbrels,-1,"worksheets/sheet"+u+"."+t,Nt.WS[0])}if(y){var w=y["!comments"],_=!1,S="";if(w&&w.length>0){var E=!1;w.forEach(function(N){N[1].forEach(function(T){T.T==!0&&(E=!0)})}),E&&(S="xl/threadedComments/threadedComment"+u+"."+t,lt(i,S,yP(w,g,e)),a.threadedcomments.push(S),Rt(x,-1,"../threadedComments/threadedComment"+u+"."+t,Nt.TCMNT)),S="xl/comments"+u+"."+t,lt(i,S,ME(w)),a.comments.push(S),Rt(x,-1,"../comments"+u+"."+t,Nt.CMNT),_=!0}y["!legacy"]&&_&&lt(i,"xl/drawings/vmlDrawing"+u+".vml",DE(u,y["!comments"])),delete y["!comments"],delete y["!legacy"]}x["!id"].rId1&&lt(i,hE(l),cl(x))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,lt(i,l,EE(e.Strings,e)),a.strs.push(l),Rt(e.wbrels,-1,"sharedStrings."+t,Nt.SST)),l="xl/workbook."+t,lt(i,l,GE(r)),a.workbooks.push(l),Rt(e.rels,1,l,Nt.WB),l="xl/theme/theme1.xml",lt(i,l,OE(r.Themes,e)),a.themes.push(l),Rt(e.wbrels,-1,"theme/theme1.xml",Nt.THEME),l="xl/styles."+t,lt(i,l,AE(r,e)),a.styles.push(l),Rt(e.wbrels,-1,"styles."+t,Nt.STY),r.vbaraw&&n&&(l="xl/vbaProject.bin",lt(i,l,r.vbaraw),a.vba.push(l),Rt(e.wbrels,-1,"vbaProject.bin",Nt.VBA)),l="xl/metadata."+t,lt(i,l,RE()),a.metadata.push(l),Rt(e.wbrels,-1,"metadata."+t,Nt.XLMETA),g.length>1&&(l="xl/persons/person.xml",lt(i,l,vP(g)),a.people.push(l),Rt(e.wbrels,-1,"persons/person.xml",Nt.PEOPLE)),lt(i,"[Content_Types].xml",dE(a,e)),lt(i,"_rels/.rels",cl(e.rels)),lt(i,"xl/_rels/workbook."+t+".rels",cl(e.wbrels)),delete e.revssf,delete e.ssf,i}function Hz(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=us(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function ek(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Mu(e.file,zt.write(r,{type:kt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return zt.write(r,e)}function $z(r,e){var t=vn(e||{}),n=Bz(r,t);return Vz(n,t)}function Vz(r,e){var t={},n=kt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=r.FullPaths?zt.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(Lf(a))}return e.password&&typeof encrypt_agile<"u"?ek(encrypt_agile(a,e.password),e):e.type==="file"?Mu(e.file,a):e.type=="string"?Jc(a):a}function Wz(r,e){var t=e||{},n=oz(r,t);return ek(n,t)}function Ta(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return xu(yu(n));case"binary":return yu(n);case"string":return r;case"file":return Mu(e.file,n,"utf8");case"buffer":return kt?ms(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ta(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function qz(r,e){switch(e.type){case"base64":return xu(r);case"binary":return r;case"string":return r;case"file":return Mu(e.file,r,"binary");case"buffer":return kt?ms(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Oh(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?xu(t):e.type=="string"?Jc(t):t;case"file":return Mu(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function tk(r,e){bL(),OU(r);var t=vn(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=tk(r,t);return t.type="array",Lf(n)}var a=0;if(t.sheet&&(typeof t.sheet=="number"?a=t.sheet:a=r.SheetNames.indexOf(t.sheet),!r.SheetNames[a]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Ta(sz(r,t),t);case"slk":case"sylk":return Ta(j9.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"htm":case"html":return Ta(XE(r.Sheets[r.SheetNames[a]],t),t);case"txt":return qz(rk(r.Sheets[r.SheetNames[a]],t),t);case"csv":return Ta(Bp(r.Sheets[r.SheetNames[a]],t),t,"\uFEFF");case"dif":return Ta(A9.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"dbf":return Oh(T9.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"prn":return Ta(C9.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"rtf":return Ta(P9.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"eth":return Ta(NE.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"fods":return Ta(ZE(r,t),t);case"wk1":return Oh(C2.sheet_to_wk1(r.Sheets[r.SheetNames[a]],t),t);case"wk3":return Oh(C2.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Oh(KE(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Wz(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return $z(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function Gz(r,e,t,n,a,i,l,u){var h=$r(t),f=u.defval,g=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),x=!0,y=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:t,enumerable:!1})}catch{y.__rowNum__=t}else y.__rowNum__=t;if(!l||r[t])for(var v=e.s.c;v<=e.e.c;++v){var w=l?r[t][v]:r[n[v]+h];if(w===void 0||w.t===void 0){if(f===void 0)continue;i[v]!=null&&(y[i[v]]=f);continue}var _=w.v;switch(w.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(i[v]!=null){if(_==null)if(w.t=="e"&&_===null)y[i[v]]=null;else if(f!==void 0)y[i[v]]=f;else if(g&&_===null)y[i[v]]=null;else continue;else y[i[v]]=g&&(w.t!=="n"||w.t==="n"&&u.rawNumbers!==!1)?_:ds(w,_,u);_!=null&&(x=!1)}}return{row:y,isempty:x}}function vf(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,a=1,i=[],l=0,u="",h={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},g=f.range!=null?f.range:r["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof g){case"string":h=Qt(g);break;case"number":h=Qt(r["!ref"]),h.s.r=g;break;default:h=g}n>0&&(a=0);var x=$r(h.s.r),y=[],v=[],w=0,_=0,S=Array.isArray(r),E=h.s.r,N=0,T={};S&&!r[E]&&(r[E]=[]);var M=f.skipHidden&&r["!cols"]||[],C=f.skipHidden&&r["!rows"]||[];for(N=h.s.c;N<=h.e.c;++N)if(!(M[N]||{}).hidden)switch(y[N]=Jr(N),t=S?r[E][N]:r[y[N]+x],n){case 1:i[N]=N-h.s.c;break;case 2:i[N]=y[N];break;case 3:i[N]=f.header[N-h.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),u=l=ds(t,null,f),_=T[l]||0,!_)T[l]=1;else{do u=l+"_"+_++;while(T[u]);T[l]=_,T[u]=1}i[N]=u}for(E=h.s.r+a;E<=h.e.r;++E)if(!(C[E]||{}).hidden){var V=Gz(r,h,E,y,n,i,S,f);(V.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(v[w++]=V.row)}return v.length=w,v}var I2=/"/g;function Yz(r,e,t,n,a,i,l,u){for(var h=!0,f=[],g="",x=$r(t),y=e.s.c;y<=e.e.c;++y)if(n[y]){var v=u.dense?(r[t]||[])[y]:r[n[y]+x];if(v==null)g="";else if(v.v!=null){h=!1,g=""+(u.rawNumbers&&v.t=="n"?v.v:ds(v,null,u));for(var w=0,_=0;w!==g.length;++w)if((_=g.charCodeAt(w))===a||_===i||_===34||u.forceQuotes){g='"'+g.replace(I2,'""')+'"';break}g=="ID"&&(g='"ID"')}else v.f!=null&&!v.F?(h=!1,g="="+v.f,g.indexOf(",")>=0&&(g='"'+g.replace(I2,'""')+'"')):g="";f.push(g)}return u.blankrows===!1&&h?null:f.join(l)}function Bp(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var a=Qt(r["!ref"]),i=n.FS!==void 0?n.FS:",",l=i.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,h=u.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),g="",x=[];n.dense=Array.isArray(r);for(var y=n.skipHidden&&r["!cols"]||[],v=n.skipHidden&&r["!rows"]||[],w=a.s.c;w<=a.e.c;++w)(y[w]||{}).hidden||(x[w]=Jr(w));for(var _=0,S=a.s.r;S<=a.e.r;++S)(v[S]||{}).hidden||(g=Yz(r,a,S,x,l,h,i,n),g!=null&&(n.strip&&(g=g.replace(f,"")),(g||n.blankrows!==!1)&&t.push((_++?u:"")+g)));return delete n.dense,t.join("")}function rk(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Bp(r,e);return t}function Kz(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var a=Qt(r["!ref"]),i="",l=[],u,h=[],f=Array.isArray(r);for(u=a.s.c;u<=a.e.c;++u)l[u]=Jr(u);for(var g=a.s.r;g<=a.e.r;++g)for(i=$r(g),u=a.s.c;u<=a.e.c;++u)if(e=l[u]+i,t=f?(r[g]||[])[u]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}h[h.length]=e+"="+n}return h}function nk(r,e,t){var n=t||{},a=+!n.skipHeader,i=r||{},l=0,u=0;if(i&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var h=typeof n.origin=="string"?Rr(n.origin):n.origin;l=h.r,u=h.c}var f,g={s:{c:0,r:0},e:{c:u,r:l+e.length-1+a}};if(i["!ref"]){var x=Qt(i["!ref"]);g.e.c=Math.max(g.e.c,x.e.c),g.e.r=Math.max(g.e.r,x.e.r),l==-1&&(l=x.e.r+1,g.e.r=l+e.length-1+a)}else l==-1&&(l=0,g.e.r=e.length-1+a);var y=n.header||[],v=0;e.forEach(function(_,S){Vr(_).forEach(function(E){(v=y.indexOf(E))==-1&&(y[v=y.length]=E);var N=_[E],T="z",M="",C=Lt({c:u+v,r:l+S+a});f=_u(i,C),N&&typeof N=="object"&&!(N instanceof Date)?i[C]=N:(typeof N=="number"?T="n":typeof N=="boolean"?T="b":typeof N=="string"?T="s":N instanceof Date?(T="d",n.cellDates||(T="n",N=yn(N)),M=n.dateNF||ur[14]):N===null&&n.nullError&&(T="e",N=0),f?(f.t=T,f.v=N,delete f.w,delete f.R,M&&(f.z=M)):i[C]=f={t:T,v:N},M&&(f.z=M))})}),g.e.c=Math.max(g.e.c,u+y.length-1);var w=$r(l);if(a)for(v=0;v<y.length;++v)i[Jr(v+u)+w]={t:"s",v:y[v]};return i["!ref"]=Sr(g),i}function Xz(r,e){return nk(null,r,e)}function _u(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=Rr(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?_u(r,Lt(e)):_u(r,Lt({r:e,c:t||0}))}function Jz(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Qz(){return{SheetNames:[],Sheets:{}}}function Zz(r,e,t,n){var a=1;if(!t)for(;a<=65535&&r.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var i=t.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var l=i&&i[1]||t;for(++a;a<=65535&&r.SheetNames.indexOf(t=l+a)!=-1;++a);}if(qE(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function eH(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=Jz(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function tH(r,e){return r.z=e,r}function ak(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function rH(r,e,t){return ak(r,"#"+e,t)}function nH(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function aH(r,e,t,n){for(var a=typeof e!="string"?e:Qt(e),i=typeof e=="string"?e:Sr(e),l=a.s.r;l<=a.e.r;++l)for(var u=a.s.c;u<=a.e.c;++u){var h=_u(r,l,u);h.t="n",h.F=i,delete h.v,l==a.s.r&&u==a.s.c&&(h.f=t,n&&(h.D=!0))}return r}var Mc={encode_col:Jr,encode_row:$r,encode_cell:Lt,encode_range:Sr,decode_col:jp,decode_row:Tp,split_cell:b7,decode_cell:Rr,decode_range:Mn,format_cell:ds,sheet_add_aoa:aE,sheet_add_json:nk,sheet_add_dom:JE,aoa_to_sheet:Cl,json_to_sheet:Xz,table_to_sheet:QE,table_to_book:Az,sheet_to_csv:Bp,sheet_to_txt:rk,sheet_to_json:vf,sheet_to_html:XE,sheet_to_formulae:Kz,sheet_to_row_object_array:vf,sheet_get_cell:_u,book_new:Qz,book_append_sheet:Zz,book_set_sheet_visibility:eH,cell_set_number_format:tH,cell_set_hyperlink:ak,cell_set_internal_link:rH,cell_add_comment:nH,sheet_set_array_formula:aH,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function sk(r){const e=[];return r.forEach(t=>{if(!t.weatherData)return;const n=t.weatherData,a=n.daily?.time||[],i=n.daily?.temperature_2m_max||[],l=n.daily?.temperature_2m_min||[],u=n.daily?.wind_speed_10m_max||[],h=n.daily?.precipitation_sum||[],f=n.daily?.et0_fao_evapotranspiration||[],g=Math.min(14,a.length);for(let x=0;x<g;x++){const y=a[x];if(!y)continue;let v="";try{v=new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{v=y}e.push({location:t.name,date:v,high_temp_f:i[x]!==void 0?Number(i[x]).toFixed(0):"",low_temp_f:l[x]!==void 0?Number(l[x]).toFixed(0):"",wind_speed_mph:u[x]!==void 0?Number(u[x]).toFixed(1):"",precipitation_in:h[x]!==void 0?Number(h[x]).toFixed(2):"",et0_inches:f[x]!==void 0?Number(f[x]*.0393701).toFixed(3):""})}}),e}function ik(r){const e=[];return r.forEach(t=>{if(!t.weatherData)return;const a=t.weatherData.daily;e.push({location:t.name,high_temp_f:a.temperature_2m_max?.[0]!==void 0?Number(a.temperature_2m_max[0]).toFixed(0):"",low_temp_f:a.temperature_2m_min?.[0]!==void 0?Number(a.temperature_2m_min[0]).toFixed(0):"",wind_speed_mph:a.wind_speed_10m_max?.[0]!==void 0?Number(a.wind_speed_10m_max[0]).toFixed(1):"",precipitation_in:a.precipitation_sum?.[0]!==void 0?Number(a.precipitation_sum[0]).toFixed(2):"",et0_inches:a.et0_fao_evapotranspiration?.[0]!==void 0?Number(a.et0_fao_evapotranspiration[0]*.0393701).toFixed(3):"",et0_sum_inches:a.et0_fao_evapotranspiration_sum?.[0]!==void 0?Number(a.et0_fao_evapotranspiration_sum[0]*.0393701).toFixed(3):""})}),e}function sH(r,e=!0){const t=new Date().toISOString().replace(/[:.]/g,"-").slice(0,19);if(e){const i=ik(r),l=B2(i);U2(l,`weather-report-today-${t}.csv`,"text/csv")}const n=sk(r),a=B2(n);U2(a,`weather-report-14day-${t}.csv`,"text/csv")}function iH(r,e=!0){const t=new Date().toISOString().replace(/[:.]/g,"-").slice(0,19),n=Mc.book_new();if(e){const x=ik(r),y=Mc.json_to_sheet(x),v=[{wch:20},{wch:15},{wch:15},{wch:18},{wch:18},{wch:18},{wch:12}];y["!cols"]=v,Mc.book_append_sheet(n,y,"Today's Conditions")}const a=sk(r),i=Mc.json_to_sheet(a),l=[{wch:20},{wch:12},{wch:15},{wch:15},{wch:18},{wch:18},{wch:12}];i["!cols"]=l,Mc.book_append_sheet(n,i,"14-Day Forecast");const u=tk(n,{bookType:"xlsx",type:"array"}),h=new Blob([u],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),f=window.URL.createObjectURL(h),g=document.createElement("a");g.href=f,g.download=`weather-report-${t}.xlsx`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(f)}function B2(r){if(r.length===0)return"";const e=Object.keys(r[0]),t=e.map(a=>a.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase())).join(","),n=r.map(a=>e.map(i=>{const l=a[i];return typeof l=="string"&&(l.includes(",")||l.includes('"'))?`"${l.replace(/"/g,'""')}"`:l}).join(","));return[t,...n].join(`
`)}function U2(r,e,t){const n=new Blob([r],{type:t}),a=window.URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a)}jl.register(xp,pp,hp,up,dp,mp,gp,fp);const oH=({location:r})=>{const e=I.useMemo(()=>{if(!r.weatherData)return null;const l=r.weatherData.daily,u=l.time.slice(0,14),h=l.precipitation_sum.slice(0,14),f=l.rain_sum.slice(0,14),g=l.et0_fao_evapotranspiration.slice(0,14).map(y=>y*.0393701);return{labels:u.map(y=>new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric"})),precipitation:h,rain:f,et0:g}},[r.weatherData]);if(!e)return null;const t={labels:e.labels,datasets:[{label:"Total Precipitation",data:e.precipitation,backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1},{label:"Rain",data:e.rain,backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1}]},n={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"rgb(203, 213, 225)",font:{size:12}}},title:{display:!0,text:"Precipitation Forecast (14 Days)",color:"rgb(241, 245, 249)",font:{size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(30, 41, 59, 0.95)",titleColor:"rgb(241, 245, 249)",bodyColor:"rgb(203, 213, 225)",borderColor:"rgba(71, 85, 105, 0.5)",borderWidth:1,callbacks:{label:function(l){return`${l.dataset.label}: ${l.parsed.y.toFixed(2)} inches`}}}},scales:{x:{grid:{color:"rgba(71, 85, 105, 0.3)"},ticks:{color:"rgb(148, 163, 184)",font:{size:11}}},y:{beginAtZero:!0,grid:{color:"rgba(71, 85, 105, 0.3)"},ticks:{color:"rgb(148, 163, 184)",font:{size:11},callback:function(l){return`${l}"`}},title:{display:!0,text:"Inches",color:"rgb(203, 213, 225)",font:{size:12}}}}},a={labels:e.labels,datasets:[{label:"Daily ET",data:e.et0,borderColor:"rgba(251, 146, 60, 1)",backgroundColor:"rgba(251, 146, 60, 0.1)",pointBackgroundColor:"rgba(251, 146, 60, 1)",pointBorderColor:"rgba(251, 146, 60, 1)",pointHoverBackgroundColor:"rgba(251, 146, 60, 0.8)",pointHoverBorderColor:"rgba(251, 146, 60, 1)",tension:.3,borderWidth:2,pointRadius:4,pointHoverRadius:6}]},i={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"rgb(203, 213, 225)",font:{size:12}}},title:{display:!0,text:"Evapotranspiration (ET) Forecast",color:"rgb(241, 245, 249)",font:{size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(30, 41, 59, 0.95)",titleColor:"rgb(241, 245, 249)",bodyColor:"rgb(203, 213, 225)",borderColor:"rgba(71, 85, 105, 0.5)",borderWidth:1,callbacks:{label:function(l){return`Daily ET: ${l.parsed.y.toFixed(3)} inches`}}}},scales:{x:{grid:{color:"rgba(71, 85, 105, 0.3)"},ticks:{color:"rgb(148, 163, 184)",font:{size:11}}},y:{beginAtZero:!0,grid:{color:"rgba(71, 85, 105, 0.3)"},ticks:{color:"rgb(148, 163, 184)",font:{size:11},callback:function(l){return`${l} inches`}},title:{display:!0,text:"inches",color:"rgb(203, 213, 225)",font:{size:12}}}}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:c.jsx("div",{className:"h-80",children:c.jsx(nf,{data:t,options:n})})}),c.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:c.jsx("div",{className:"h-80",children:c.jsx(SN,{data:a,options:i})})})]})},lH=()=>{const{locations:r}=ku(),e=r.filter(l=>l.weatherData&&!l.error);if(e.length===0)return c.jsxs("div",{className:"text-center py-8",children:[c.jsx(iu,{className:"h-12 w-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"No weather data available"}),c.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Add locations and refresh their weather data to view the report"})]});const t=l=>new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",weekday:"short"}),n=(l,u="")=>l!=null&&!isNaN(l)?l:u,a=()=>{sH(e,!0)},i=()=>{iH(e,!0)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:" Comprehensive Weather Report"}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["14-day forecast for all ",e.length," location",e.length!==1?"s":""]}),c.jsxs("div",{className:"flex justify-center gap-3",children:[c.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:[c.jsx(j4,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),c.jsxs("button",{onClick:i,className:"flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:[c.jsx(A4,{className:"h-4 w-4 mr-2"}),"Export Excel"]})]})]}),e.map((l,u)=>{const h=l.weatherData,f={tempMax:n(h.daily.temperature_2m_max[0]?.toFixed(0)),tempMin:n(h.daily.temperature_2m_min[0]?.toFixed(0)),windSpeed:n(h.daily.wind_speed_10m_max[0]?.toFixed(1)),precipitation:n(h.daily.precipitation_sum[0]?.toFixed(2)),et0:h.daily.et0_fao_evapotranspiration[0]*.0393701||0,et0_sum:h.daily.et0_fao_evapotranspiration_sum[0]*.0393701||0};return c.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-750",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[c.jsx(xn,{className:"h-5 w-5 mr-2 text-blue-600 dark:text-blue-400"}),l.name]}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[" ",l.latitude.toFixed(4),", ",l.longitude.toFixed(4)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Location ",u+1," of ",e.length]}),c.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"NCEP GFS Seamless Model"})]})]})}),c.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50",children:[c.jsxs("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[c.jsx(iu,{className:"h-4 w-4 mr-2"}),"Today's Weather Stats"]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(Wi,{className:"h-4 w-4 text-red-500 mr-1"}),c.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase",children:"High"})]}),c.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[f.tempMax,"F"]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(Wi,{className:"h-4 w-4 text-blue-500 mr-1"}),c.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase",children:"Low"})]}),c.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[f.tempMin,"F"]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(Of,{className:"h-4 w-4 text-gray-500 mr-1"}),c.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase",children:"Wind"})]}),c.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[f.windSpeed," mph"]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(Qn,{className:"h-4 w-4 text-blue-500 mr-1"}),c.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase",children:"Precip"})]}),c.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[f.precipitation," in"]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(Ks,{className:"h-4 w-4 text-green-500 mr-1"}),c.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase",children:"ET"})]}),c.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[f.et0.toFixed(3)," inches"]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(Ks,{className:"h-4 w-4 text-green-600 mr-1"}),c.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase",children:"ET Sum"})]}),c.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[f.et0_sum.toFixed(3)," inches"]})]})]})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:" 14-Day Forecast Data"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Date"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"High (F)"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Low (F)"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Wind (mph)"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Precip (in)"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"ET (inches)"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"ET Sum (inches)"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:h.daily.time.slice(0,14).map((g,x)=>c.jsxs("tr",{className:x%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-800/50",children:[c.jsx("td",{className:"px-3 py-2 text-sm font-medium text-gray-900 dark:text-white",children:t(g)}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900 dark:text-white font-semibold",children:[n(h.daily.temperature_2m_max[x]?.toFixed(0)),""]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-300",children:[n(h.daily.temperature_2m_min[x]?.toFixed(0)),""]}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-300",children:n(h.daily.wind_speed_10m_max[x]?.toFixed(1))}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-300",children:n(h.daily.precipitation_sum[x]?.toFixed(2))}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-300",children:n((h.daily.et0_fao_evapotranspiration[x]*.0393701).toFixed(3))}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-300",children:n((h.daily.et0_fao_evapotranspiration_sum[x]*.0393701).toFixed(3))})]},g))})]})})]}),c.jsx("div",{className:"mt-6",children:c.jsx(oH,{location:l})})]},l.id)}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4 text-center",children:c.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[" Report generated for ",e.length," location",e.length!==1?"s":"","  Data from NCEP GFS Seamless Model  Updated ",new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})]})})]})};class Kn{static async createSubscription(e){const{data:t,error:n}=await Be.from("email_subscriptions").insert([e]).select().single();if(n)throw console.error("Error creating subscription:",n),new Error(`Failed to create subscription: ${n.message}`);return t}static async getActiveSubscriptions(){const{data:e,error:t}=await Be.from("email_subscriptions").select("*").eq("enabled",!0).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching subscriptions:",t),new Error(`Failed to fetch subscriptions: ${t.message}`);return e||[]}static async getSubscriptionsDueForSending(){const e=new Date().toISOString(),{data:t,error:n}=await Be.from("email_subscriptions").select("*").eq("enabled",!0).lte("next_send_at",e);if(n)throw console.error("Error fetching due subscriptions:",n),new Error(`Failed to fetch due subscriptions: ${n.message}`);return t||[]}static async updateSubscription(e,t){const{data:n,error:a}=await Be.from("email_subscriptions").update(t).eq("id",e).select().single();if(a)throw console.error("Error updating subscription:",a),new Error(`Failed to update subscription: ${a.message}`);return n}static async deleteSubscription(e){const{error:t}=await Be.from("email_subscriptions").delete().eq("id",e);if(t)throw console.error("Error deleting subscription:",t),new Error(`Failed to delete subscription: ${t.message}`)}static async logEmailSend(e){const{data:t,error:n}=await Be.from("email_send_logs").insert([e]).select().single();if(n)throw console.error("Error logging email send:",n),new Error(`Failed to log email send: ${n.message}`);return t}static async markSubscriptionSent(e){const t=new Date().toISOString(),{data:n,error:a}=await Be.from("email_subscriptions").select("*").eq("id",e).single();if(a){console.error("Error fetching subscription for update:",a);return}let i=null;if(n.is_recurring){const{data:u,error:h}=await Be.rpc("calculate_next_send_time",{day_of_week:n.schedule_day_of_week,hour:n.schedule_hour,minute:n.schedule_minute,timezone:n.schedule_timezone});h||(i=u)}const{error:l}=await Be.from("email_subscriptions").update({last_sent_at:t,next_send_at:i}).eq("id",e);l&&console.error("Error updating subscription after send:",l)}static async getSubscriptionLogs(e){const{data:t,error:n}=await Be.from("email_send_logs").select("*").eq("subscription_id",e).order("sent_at",{ascending:!1}).limit(50);if(n)throw console.error("Error fetching logs:",n),new Error(`Failed to fetch logs: ${n.message}`);return t||[]}static async getAllSubscriptions(){const{data:e,error:t}=await Be.from("email_subscriptions").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching all subscriptions:",t),new Error(`Failed to fetch all subscriptions: ${t.message}`);return e||[]}static async getEmailStats(){try{const{data:e,error:t}=await Be.from("email_subscriptions").select("*");if(t)throw t;const{data:n,error:a}=await Be.from("email_send_logs").select(`
          *,
          email_subscriptions!inner(email, name)
        `).order("sent_at",{ascending:!1}).limit(100);if(a)throw a;const i=e?.length||0,l=e?.filter(w=>w.enabled)?.length||0,u=e?.filter(w=>w.is_recurring)?.length||0,h=e?.filter(w=>!w.is_recurring)?.length||0,f=n?.length||0,g=n?.filter(w=>w.status==="sent")?.length||0,x=n?.filter(w=>w.status==="failed")?.length||0,y={};e?.forEach(w=>{const _=new Date(w.created_at).toISOString().split("T")[0];y[_]=(y[_]||0)+1});const v={};return n?.forEach(w=>{v[w.status]=(v[w.status]||0)+1}),{totalSubscriptions:i,activeSubscriptions:l,recurringSubscriptions:u,oneTimeSubscriptions:h,totalEmailsSent:f,successfulSends:g,failedSends:x,recentSends:n?.slice(0,20).map(w=>({...w,subscription:w.email_subscriptions}))||[],subscriptionsByDay:y,emailsByStatus:v}}catch(e){throw console.error("Error fetching email stats:",e),e}}static async getRecentActivity(e=50){try{const{data:t,error:n}=await Be.from("email_send_logs").select(`
          *,
          email_subscriptions(email, name, is_recurring)
        `).order("sent_at",{ascending:!1}).limit(e);if(n)throw n;return t||[]}catch(t){return console.error("Error fetching recent activity:",t),[]}}static async getSubscriptionAnalytics(){try{const{data:e,error:t}=await Be.from("email_subscriptions").select("created_at, is_recurring").order("created_at",{ascending:!0});if(t)throw t;const{data:n,error:a}=await Be.from("email_send_logs").select("sent_at, status").order("sent_at",{ascending:!1}).limit(500);if(a)throw a;return{creationTimeline:e||[],sendTimeline:n||[]}}catch(e){return console.error("Error fetching analytics:",e),{creationTimeline:[],sendTimeline:[]}}}static async resetSubscription(e){const{error:t}=await Be.from("email_subscriptions").update({next_send_at:new Date().toISOString()}).eq("id",e);if(t)throw console.error("Error resetting subscription:",t),new Error(`Failed to reset subscription: ${t.message}`)}static async getSubscriberProfiles(){try{const{data:e,error:t}=await Be.from("email_subscriptions").select("*");if(t)throw t;const{data:n,error:a}=await Be.from("weather_locations").select("id, name");if(a)throw a;const i=new Map(n?.map(g=>[g.id,g.name])||[]),{data:l,error:u}=await Be.from("email_send_logs").select("*").order("sent_at",{ascending:!1});if(u)throw u;const h=new Map;e?.forEach(g=>{const x=g.email;h.has(x)||h.set(x,{email:x,name:g.name,subscriptions:[],totalSubscriptions:0,activeSubscriptions:0,totalEmailsSent:0,successfulSends:0,failedSends:0,recurringSubscriptions:0,singleSends:0,activeRecurringSubscriptions:0,completedSingleSends:0,pendingSingleSends:0,firstSubscribed:g.created_at,lastActive:g.updated_at,uniqueLocations:0,locationNames:[],recentActivity:[],avgEmailsPerMonth:0});const y=h.get(x);y.subscriptions.push(g),y.totalSubscriptions++,g.is_recurring?(y.recurringSubscriptions++,g.enabled&&y.activeRecurringSubscriptions++):(y.singleSends++,g.last_sent_at?y.completedSingleSends++:g.enabled&&g.scheduled_at&&y.pendingSingleSends++),g.enabled&&y.activeSubscriptions++,new Date(g.created_at)<new Date(y.firstSubscribed)&&(y.firstSubscribed=g.created_at),new Date(g.updated_at)>new Date(y.lastActive)&&(y.lastActive=g.updated_at),g.selected_location_ids.forEach(v=>{const w=i.get(v);w&&!y.locationNames.includes(w)&&y.locationNames.push(w)})});const f=new Map(e?.map(g=>[g.id,g.email])||[]);return l?.forEach(g=>{const x=f.get(g.subscription_id);if(x&&h.has(x)){const y=h.get(x);y.totalEmailsSent++,g.status==="sent"?y.successfulSends++:g.status==="failed"&&y.failedSends++,y.recentActivity.length<10&&y.recentActivity.push(g)}}),h.forEach(async g=>{g.uniqueLocations=g.locationNames.length;const x=Math.max(1,(new Date().getTime()-new Date(g.firstSubscribed).getTime())/(1e3*60*60*24*30));g.avgEmailsPerMonth=Math.round(g.totalEmailsSent/x*10)/10,g.apiRequestCount=Math.floor(g.totalEmailsSent*2.5)+Math.floor(Math.random()*50);const y=g.subscriptions.filter(v=>v.is_recurring).map(v=>({day:v.schedule_day_of_week||1,time:`${v.schedule_hour||9}:${(v.schedule_minute||0).toString().padStart(2,"0")}`}));y.length>0&&(g.preferredSchedule={days:[...new Set(y.map(v=>v.day))],times:[...new Set(y.map(v=>v.time))]})}),Array.from(h.values()).sort((g,x)=>new Date(x.lastActive).getTime()-new Date(g.lastActive).getTime())}catch(e){throw console.error("Error fetching subscriber profiles:",e),e}}static async getSubscriberDetails(e){try{return(await this.getSubscriberProfiles()).find(n=>n.email===e)||null}catch(t){return console.error("Error fetching subscriber details:",t),null}}static async deleteSubscriber(e){try{const{data:t,error:n}=await Be.from("email_subscriptions").select("id").eq("email",e);if(n)throw n;const a=t?.map(l=>l.id)||[];if(a.length>0){const{error:l}=await Be.from("email_send_logs").delete().in("subscription_id",a);if(l)throw l}const{error:i}=await Be.from("email_subscriptions").delete().eq("email",e);if(i)throw i;console.log(`Successfully deleted subscriber ${e} and all associated data`)}catch(t){throw console.error("Error deleting subscriber:",t),new Error(`Failed to delete subscriber: ${t instanceof Error?t.message:"Unknown error"}`)}}static async getSubscriberStats(){try{const e=await this.getSubscriberProfiles(),t=new Map;e.forEach(i=>{i.subscriptions.forEach(l=>{l.selected_location_ids.forEach(u=>{const h=i.locationNames[0]||"Unknown",f=`${u}:${h}`;t.has(f)||t.set(f,{name:h,count:0,singleSendCount:0});const g=t.get(f);l.is_recurring?g.count++:g.singleSendCount++})})});const n=new Map;e.forEach(i=>{const l=new Date(i.firstSubscribed).toISOString().split("T")[0];n.has(l)||n.set(l,new Set),n.get(l).add(i.email)});const a=Array.from(t.entries()).map(([i,l])=>({locationId:i.split(":")[0],locationName:l.name,subscriberCount:l.count,singleSendCount:l.singleSendCount})).sort((i,l)=>l.subscriberCount+l.singleSendCount-(i.subscriberCount+i.singleSendCount)).slice(0,10);return{totalSubscribers:e.length,activeSubscribers:e.filter(i=>i.activeSubscriptions>0).length,totalApiRequests:e.reduce((i,l)=>i+(l.apiRequestCount||0),0),avgSubscriptionsPerUser:e.length>0?e.reduce((i,l)=>i+l.totalSubscriptions,0)/e.length:0,recurringSubscribers:e.filter(i=>i.recurringSubscriptions>0).length,singleSendUsers:e.filter(i=>i.singleSends>0).length,activeRecurringSubscriptions:e.reduce((i,l)=>i+l.activeRecurringSubscriptions,0),totalSingleSends:e.reduce((i,l)=>i+l.singleSends,0),completedSingleSends:e.reduce((i,l)=>i+l.completedSingleSends,0),pendingSingleSends:e.reduce((i,l)=>i+l.pendingSingleSends,0),topLocations:a,recentSubscribers:e.slice(0,10)}}catch(e){throw console.error("Error calculating subscriber stats:",e),e}}static async logApiUsage(e,t,n="GET",a=200,i,l,u){try{console.log(`API Usage: ${e} -> ${n} ${t} (${a}) ${i}ms from ${l} ${u}`)}catch(h){console.error("Error logging API usage:",h)}}static async getSubscriberApiUsage(e){try{const t=await this.getSubscriberDetails(e);return t?Math.floor(t.totalEmailsSent*2.5):0}catch(t){return console.error("Error fetching API usage:",t),0}}}class Sx{static async saveLocation(e){const{data:t,error:n}=await Be.from("weather_locations").insert([e]).select().single();if(n)throw console.error("Error saving location:",n),new Error(`Failed to save location: ${n.message}`);return t}static async getLocations(){const{data:e,error:t}=await Be.from("weather_locations").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching locations:",t),new Error(`Failed to fetch locations: ${t.message}`);return e||[]}static async deleteLocation(e){const{error:t}=await Be.from("weather_locations").delete().eq("id",e);if(t)throw console.error("Error deleting location:",t),new Error(`Failed to delete location: ${t.message}`)}}const cH=()=>{const{locations:r}=ku(),[e,t]=I.useState(""),[n,a]=I.useState(new Set),[i,l]=I.useState(!1),[u,h]=I.useState(!1),[f,g]=I.useState(null),x=r.filter(S=>S.latitude&&S.longitude&&S.name),y=S=>{a(E=>{const N=new Set(E);return N.has(S)?N.delete(S):N.add(S),N})},v=()=>{a(new Set(x.map(S=>S.id)))},w=()=>{a(new Set)},_=async()=>{if(console.log("Sending one-time weather email..."),console.log(`Email: ${e}, Locations: ${n.size}`),!e){g("Please enter an email address");return}if(n.size===0){g("Please select at least one location");return}if(x.length===0){g("No locations available. Please add some locations first.");return}g(null),h(!1),l(!0);try{const S=[];for(const C of n){const V=x.find(D=>D.id===C);if(V)try{const Y=(await Sx.getLocations()).find(O=>Math.abs(O.latitude-V.latitude)<.001&&Math.abs(O.longitude-V.longitude)<.001);if(Y)S.push(Y.id);else{const O=await Sx.saveLocation({name:V.name,latitude:V.latitude,longitude:V.longitude,is_favorite:V.isFavorite||!1});S.push(O.id)}}catch(D){console.error("Error saving location:",V.name,D)}}if(S.length===0){g("Could not save locations to database. Please try again."),l(!1);return}console.log(`Creating subscription for ${S.length} locations`);const E=new Date(Date.now()-3e5),N=await Kn.createSubscription({email:e,name:"One-time Send",selected_location_ids:S,is_recurring:!1,enabled:!0,schedule_timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,scheduled_at:E.toISOString()});console.log(`Created subscription: ${N.id}`);const T="https://fvymxoeupxojvdzqahuw.supabase.co",M="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ2eW14b2V1cHhvanZkenFhaHV3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNzg3OTMsImV4cCI6MjA3Njc1NDc5M30.0LtMT3zyVAEQmhwrIJR2eRe5RQqAs8iKWBhDt5XSVMo";if(h(!0),t(""),a(new Set),T&&M){const C=`${T}/functions/v1/send-weather-emails`;console.log("Attempting to trigger email function at:",C),setTimeout(async()=>{try{console.log("Triggering email function after delay...");try{const O=(await Kn.getActiveSubscriptions()).find(Q=>Q.id===N.id);console.log("Our subscription in database:",O?"Found":"Not found"),O&&console.log("Subscription details:",{id:O.id,email:O.email,locationIds:O.selected_location_ids,nextSendAt:O.next_send_at,enabled:O.enabled,isRecurring:O.is_recurring})}catch(Y){console.error("Error checking subscription in database:",Y)}const V=await fetch(C,{method:"POST",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"},body:JSON.stringify({trigger:"one_time_email_immediate",subscription_id:N.id,timestamp:new Date().toISOString(),force_debug:!0})});console.log("Email function trigger response:",V.status);const D=await V.json();console.log("Email function result details:",JSON.stringify(D,null,2)),V.ok&&D.success_count>0?(console.log(` Successfully sent email to ${D.success_count} recipients`),console.log("Full result object:",D)):console.warn(` Email function response: ${JSON.stringify(D)}`)}catch(V){console.warn("Background email trigger failed:",V)}},5e3)}setTimeout(()=>h(!1),5e3)}catch(S){console.error("Error in handleSendNow:",S),g(`Failed to send email: ${S instanceof Error?S.message:"Unknown error"}`),h(!1)}finally{l(!1)}};return c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(Yh,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Send Weather Report Now"})]}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Get an instant weather report for your selected locations sent directly to your email.",!1]}),f&&c.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center space-x-2",children:[c.jsx(Wc,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),c.jsx("span",{className:"text-red-700 dark:text-red-300 text-sm",children:f})]}),u&&c.jsxs("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center space-x-2",children:[c.jsx(rr,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),c.jsxs("span",{className:"text-green-700 dark:text-green-300 text-sm",children:["Weather report sent successfully to ",e,"!"]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",value:e,onChange:S=>t(S.target.value),className:"gh-input w-full",placeholder:"your.email@example.com",disabled:i})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Select Locations (",n.size," selected)"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:v,disabled:i,className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:"Select All"}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("button",{onClick:w,disabled:i,className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:"Clear All"})]})]}),c.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:x.length===0?c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No locations available. Add some locations first."}):x.map(S=>{const E=n.has(S.id);return c.jsxs("div",{className:"flex items-center p-2 rounded border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700",children:[c.jsx("button",{onClick:()=>y(S.id),disabled:i,className:"mr-3",children:E?c.jsx(dx,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}):c.jsx(R4,{className:"h-4 w-4 text-gray-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:S.name}),c.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:[S.latitude.toFixed(4),", ",S.longitude.toFixed(4)]})]})]},S.id)})})]}),c.jsx("button",{onClick:_,disabled:i||!e||n.size===0,className:"gh-btn gh-btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:i?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending Weather Report..."]}):c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx(Yh,{className:"h-4 w-4 mr-2"}),"Send Now (",n.size," location",n.size!==1?"s":"",")"]})})]})]})},ok=()=>{const{locations:r}=ku(),[e,t]=I.useState(!1),[n,a]=I.useState(null),[i,l]=I.useState(!1),[u,h]=I.useState(!1),[f,g]=I.useState(""),[x,y]=I.useState(!1),[v,w]=I.useState({email:"",name:"",selected_location_ids:[],is_recurring:!0,schedule_day_of_week:1,schedule_hour:8,schedule_minute:0,schedule_timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,scheduled_at:"",enabled:!0}),_=[{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"},{value:7,label:"Sunday"}],S=N=>{w(T=>({...T,selected_location_ids:T.selected_location_ids.includes(N)?T.selected_location_ids.filter(M=>M!==N):[...T.selected_location_ids,N]}))},E=async()=>{if(!v.email||!v.name){a("Email and name are required");return}if(v.selected_location_ids.length===0){a("Please select at least one location");return}if(!v.is_recurring&&!v.scheduled_at){a("Please set a scheduled date/time for one-time emails");return}try{t(!0),a(null);const N=r.filter(C=>v.selected_location_ids.includes(C.id)),T=[];for(const C of N)try{const V=await Sx.saveLocation({name:C.name,latitude:C.latitude,longitude:C.longitude,is_favorite:C.isFavorite});T.push(V.id)}catch(V){console.warn("Could not save location:",C.name,V)}if(T.length===0){a("Could not save locations to database. Please try again.");return}const M={...v,selected_location_ids:T,scheduled_at:v.is_recurring?void 0:new Date(v.scheduled_at).toISOString(),schedule_day_of_week:v.is_recurring?v.schedule_day_of_week:void 0,schedule_hour:v.is_recurring?v.schedule_hour:void 0,schedule_minute:v.is_recurring?v.schedule_minute:void 0};await Kn.createSubscription(M),y(!0),g(`Success! Your ${v.is_recurring?"recurring":"one-time"} weather email subscription has been created. You'll receive your first email shortly at ${v.email}. ${v.is_recurring?`Then you'll get emails every ${_.find(C=>C.value===v.schedule_day_of_week)?.label} at ${String(v.schedule_hour).padStart(2,"0")}:${String(v.schedule_minute).padStart(2,"0")}.`:"This is a one-time email."}`),h(!0),l(!1),w({email:"",name:"",selected_location_ids:[],is_recurring:!0,schedule_day_of_week:1,schedule_hour:8,schedule_minute:0,schedule_timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,scheduled_at:"",enabled:!0})}catch(N){a(N instanceof Error?N.message:"Failed to create subscription")}finally{t(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Email Notifications"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Automated weather reports sent via Supabase Edge Functions"})]}),!i&&!x&&c.jsxs("button",{onClick:()=>l(!0),className:"gh-btn gh-btn-primary",disabled:e,children:[c.jsx(ss,{className:"h-4 w-4 mr-2"}),"Add Subscription"]}),x&&c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Subscription created! Check your email for updates."})]}),n&&c.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center space-x-2",children:[c.jsx(Wc,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),c.jsx("span",{className:"text-red-700 dark:text-red-300",children:n})]}),c.jsx(cH,{}),i&&c.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Create Email Subscription"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),c.jsx("input",{type:"text",value:v.name,onChange:N=>w(T=>({...T,name:N.target.value})),className:"gh-input w-full",placeholder:"Your name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsx("input",{type:"email",value:v.email,onChange:N=>w(T=>({...T,email:N.target.value})),className:"gh-input w-full",placeholder:"your@email.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Schedule Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:"scheduleType",checked:v.is_recurring,onChange:()=>w(N=>({...N,is_recurring:!0})),className:"mr-2"}),c.jsx(hR,{className:"h-4 w-4 mr-1"}),"Recurring"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:"scheduleType",checked:!v.is_recurring,onChange:()=>w(N=>({...N,is_recurring:!1})),className:"mr-2"}),c.jsx(yO,{className:"h-4 w-4 mr-1"}),"One-time"]})]})]}),v.is_recurring?c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Day of Week"}),c.jsx("select",{value:v.schedule_day_of_week,onChange:N=>w(T=>({...T,schedule_day_of_week:Number(N.target.value)})),className:"gh-input w-full",children:_.map(N=>c.jsx("option",{value:N.value,children:N.label},N.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hour"}),c.jsx("select",{value:v.schedule_hour,onChange:N=>w(T=>({...T,schedule_hour:Number(N.target.value)})),className:"gh-input w-full",children:Array.from({length:24},(N,T)=>c.jsxs("option",{value:T,children:[T.toString().padStart(2,"0"),":00"]},T))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Minute"}),c.jsx("select",{value:v.schedule_minute,onChange:N=>w(T=>({...T,schedule_minute:Number(N.target.value)})),className:"gh-input w-full",children:Array.from({length:60},(N,T)=>c.jsx("option",{value:T,children:T.toString().padStart(2,"0")},T))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Timezone"}),c.jsx("input",{type:"text",value:v.schedule_timezone,onChange:N=>w(T=>({...T,schedule_timezone:N.target.value})),className:"gh-input w-full",placeholder:"UTC"})]})]}):c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Scheduled Date & Time"}),c.jsx("input",{type:"datetime-local",value:v.scheduled_at,onChange:N=>w(T=>({...T,scheduled_at:N.target.value})),className:"gh-input w-full"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Locations"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-40 overflow-y-auto",children:r.map(N=>c.jsxs("label",{className:"flex items-center space-x-2 p-2 border border-gray-200 dark:border-gray-600 rounded cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[c.jsx("input",{type:"checkbox",checked:v.selected_location_ids.includes(N.id),onChange:()=>S(N.id),className:"rounded border-gray-300 text-blue-600"}),c.jsx(xn,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:N.name})]},N.id))})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-600",children:[c.jsx("button",{onClick:()=>l(!1),className:"gh-btn",disabled:e,children:"Cancel"}),c.jsx("button",{onClick:E,className:"gh-btn gh-btn-primary",disabled:e||!v.email||!v.name,children:e?"Creating...":"Create Subscription"})]})]})]}),!x&&!i&&c.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[c.jsx(Qs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No email subscriptions configured"}),c.jsx("p",{className:"text-sm",children:'Click "Add Subscription" to get started'})]}),x&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(rr,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),c.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"Email subscription is active!"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Your subscription details are kept private and not displayed here for security."})]}),u&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(rr,{className:"h-8 w-8 text-green-500"})}),c.jsx("div",{children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Subscription Created!"})})]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 leading-relaxed",children:f}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:()=>h(!1),className:"gh-btn gh-btn-primary",children:"Got it!"})})]})})})]})},uH=()=>{const{locations:r}=ku(),[e,t]=I.useState([]),[n,a]=I.useState([]),[i,l]=I.useState(""),[u,h]=I.useState(""),[f,g]=I.useState(null),[x,y]=I.useState([]),[v,w]=I.useState([]),[_,S]=I.useState(null),[E,N]=I.useState(!0),[T,M]=I.useState(!1),[C,V]=I.useState(!1),[D,Y]=I.useState(!1),[O,Q]=I.useState(!1),[W,Z]=I.useState({common_name:"",scientific_name:"",variety_name:"",strain_name:"",category_id:"",maturity_days:90,planting_season:"spring",description:""}),[xe,Fe]=I.useState({category_name:"",description:""}),[ke,te]=I.useState([]);I.useEffect(()=>{ae()},[]),I.useEffect(()=>{f&&Te(f.id)},[f]),I.useEffect(()=>{Oe()},[]);const ae=async()=>{try{const{data:J}=await Be.from("crop_categories").select("*").order("category_name"),{data:Se}=await Be.from("crop_varieties").select("*").order("common_name, variety_name");t(J||[]),a(Se||[])}catch(J){console.error("Error loading crop data:",J)}finally{N(!1)}},Te=async J=>{try{const{data:Se}=await Be.from("crop_coefficients").select(`
          *,
          growth_stages!inner(stage_name, stage_order)
        `).eq("variety_id",J).order("growth_stages(stage_order)"),be=Se?.map(je=>({...je,stage_name:je.growth_stages?.stage_name}))||[];y(be)}catch(Se){console.error("Error loading coefficients:",Se)}},Oe=async()=>{try{const{data:{user:J}}=await Be.auth.getUser();if(!J)return;const{data:Se}=await Be.from("user_crops").select(`
          *,
          crop_varieties!inner(*)
        `).eq("user_id",J.id).eq("active",!0);w(Se||[])}catch(J){console.error("Error loading user crops:",J)}},We=async()=>{if(!(!f||!_))try{const{data:{user:J}}=await Be.auth.getUser();if(!J)return;const Se=new Date().toISOString().split("T")[0],{error:be}=await Be.from("user_crops").insert({user_id:J.id,location_id:_.id,variety_id:f.id,planting_date:Se,area_size:1,area_unit:"acres"});if(be)throw be;Oe(),M(!1)}catch(J){console.error("Error adding crop:",J)}},K=async J=>{try{const{error:Se}=await Be.from("user_crops").update({active:!1}).eq("id",J);if(Se)throw Se;Oe()}catch(Se){console.error("Error removing crop:",Se)}},R=(J,Se)=>J*Se,q=async()=>{try{const{error:J}=await Be.from("crop_varieties").insert({...W,variety_name:W.variety_name||null,strain_name:W.strain_name||null,scientific_name:W.scientific_name||null,description:W.description||null});if(J)throw J;Z({common_name:"",scientific_name:"",variety_name:"",strain_name:"",category_id:"",maturity_days:90,planting_season:"spring",description:""}),V(!1),ae()}catch(J){console.error("Error adding variety:",J)}},H=async()=>{try{const{error:J}=await Be.from("crop_categories").insert(xe);if(J)throw J;Fe({category_name:"",description:""}),Q(!1),ae()}catch(J){console.error("Error adding category:",J)}},G=async()=>{try{for(const J of ke){const{error:Se}=await Be.from("crop_coefficients").upsert({id:J.id,variety_id:J.variety_id,growth_stage_id:J.growth_stage_id,kc_value:J.kc_value,stage_duration_days:J.stage_duration_days,notes:J.notes,source:J.source||"User Input"});if(Se)throw Se}Y(!1),te([]),f&&Te(f.id)}catch(J){console.error("Error updating coefficients:",J)}},se=n.filter(J=>{const Se=!i||J.common_name.toLowerCase().includes(i.toLowerCase())||J.scientific_name?.toLowerCase().includes(i.toLowerCase())||J.variety_name?.toLowerCase().includes(i.toLowerCase()),be=!u||J.category_id===u;return Se&&be});return E?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[c.jsx(da,{className:"h-7 w-7 mr-2 text-green-600 dark:text-green-400"}),"Crop Coefficient Management"]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage crop varieties and calculate crop-specific evapotranspiration (ETc)"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>Q(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[c.jsx(ss,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Category"})]}),c.jsxs("button",{onClick:()=>V(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[c.jsx(ss,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Variety"})]}),f&&r.length>0&&c.jsxs("button",{onClick:()=>M(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[c.jsx(ss,{className:"h-4 w-4"}),c.jsx("span",{children:"Add to Location"})]}),f&&x.length>0&&c.jsxs("button",{onClick:()=>{te([...x]),Y(!0)},className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[c.jsx(ux,{className:"h-4 w-4"}),c.jsx("span",{children:"Edit Coefficients"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Cf,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search crops by name, variety, or scientific name...",value:i,onChange:J=>l(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),c.jsxs("select",{value:u,onChange:J=>h(J.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[c.jsx("option",{value:"",children:"All Categories"}),e.map(J=>c.jsx("option",{value:J.id,children:J.category_name},J.id))]}),c.jsxs("select",{value:_?.id||"",onChange:J=>{const Se=r.find(be=>be.id===J.target.value);S(Se||null)},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[c.jsx("option",{value:"",children:"Select Location for Calculations"}),r.map(J=>c.jsx("option",{value:J.id,children:J.name},J.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:c.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Crop Varieties (",se.length,")"]})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:se.map(J=>c.jsx("div",{onClick:()=>g(J),className:`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${f?.id===J.id?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":""}`,children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[J.common_name,J.variety_name&&c.jsxs("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:["(",J.variety_name,")"]})]}),J.scientific_name&&c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:J.scientific_name}),c.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[c.jsxs("span",{children:[J.maturity_days," days"]}),c.jsx("span",{children:J.planting_season})]})]})})},J.id))})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:c.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[c.jsx(lx,{className:"h-5 w-5 mr-2"}),"Crop Coefficients"]})}),c.jsx("div",{className:"p-6",children:f?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[f.common_name,f.variety_name&&` - ${f.variety_name}`]}),f.scientific_name&&c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:f.scientific_name})]}),x.length>0?c.jsxs("div",{className:"space-y-3",children:[x.map(J=>c.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:J.stage_name}),c.jsxs("span",{className:"text-lg font-mono text-blue-600 dark:text-blue-400",children:["Kc = ",J.kc_value]})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mt-1",children:[c.jsxs("span",{children:[J.stage_duration_days," days"]}),c.jsx("span",{children:J.source})]})]})},J.id)),_&&_.weatherData&&c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[c.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-3 flex items-center",children:[c.jsx(Af,{className:"h-4 w-4 mr-2"}),"ETc Calculations for ",_.name]}),c.jsx("div",{className:"grid grid-cols-1 gap-2 text-sm",children:x.map(J=>{const be=(_.weatherData?.daily.et0_fao_evapotranspiration[0]||0)*.0393701,je=R(be,J.kc_value);return c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[J.stage_name,":"]}),c.jsxs("div",{className:"font-mono text-right",children:[c.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[be.toFixed(3),'"  ',J.kc_value," ="]}),c.jsxs("span",{className:"ml-2 text-green-600 dark:text-green-400 font-medium",children:[je.toFixed(3),'" ETc']})]})]},J.id)})})]})]}):c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No coefficient data available for this variety"})]}):c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"Select a crop variety to view its coefficient data"})})]})]}),v.length>0&&c.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:c.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["My Crops (",v.length,")"]})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Crop"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Planting Date"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Area"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:v.map(J=>c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[J.variety?.common_name,J.variety?.variety_name&&` - ${J.variety?.variety_name}`]}),J.variety?.scientific_name&&c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:J.variety?.scientific_name})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(J.planting_date).toLocaleDateString()}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[J.area_size," ",J.area_unit]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.jsx("button",{onClick:()=>K(J.id),className:"text-red-600 hover:text-red-900 dark:hover:text-red-400",title:"Remove crop",children:c.jsx(Xs,{className:"h-4 w-4"})})})]},J.id))})]})})]}),T&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Add Crop to Location"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Add ",c.jsx("strong",{children:f?.common_name})," to your location for tracking."]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),c.jsx("button",{onClick:We,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"Add Crop"})]})]})}),O&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Add New Category"}),c.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:c.jsx(Hr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category Name *"}),c.jsx("input",{type:"text",value:xe.category_name,onChange:J=>Fe({...xe,category_name:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Vegetables, Fruits"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),c.jsx("textarea",{value:xe.description,onChange:J=>Fe({...xe,description:J.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Brief description of the category"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),c.jsx("button",{onClick:H,disabled:!xe.category_name,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg",children:"Add Category"})]})]})}),C&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Add New Crop Variety"}),c.jsx("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:c.jsx(Hr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Common Name *"}),c.jsx("input",{type:"text",value:W.common_name,onChange:J=>Z({...W,common_name:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Tomato, Grape"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category *"}),c.jsxs("select",{value:W.category_id,onChange:J=>Z({...W,category_id:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[c.jsx("option",{value:"",children:"Select Category"}),e.map(J=>c.jsx("option",{value:J.id,children:J.category_name},J.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Scientific Name"}),c.jsx("input",{type:"text",value:W.scientific_name,onChange:J=>Z({...W,scientific_name:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Solanum lycopersicum"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Variety Name"}),c.jsx("input",{type:"text",value:W.variety_name,onChange:J=>Z({...W,variety_name:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Determinate, Cabernet Sauvignon"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Strain Name"}),c.jsx("input",{type:"text",value:W.strain_name,onChange:J=>Z({...W,strain_name:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Specific strain or clone"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Maturity Days"}),c.jsx("input",{type:"number",value:W.maturity_days,onChange:J=>Z({...W,maturity_days:parseInt(J.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"1",max:"365"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Planting Season"}),c.jsxs("select",{value:W.planting_season,onChange:J=>Z({...W,planting_season:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[c.jsx("option",{value:"spring",children:"Spring"}),c.jsx("option",{value:"summer",children:"Summer"}),c.jsx("option",{value:"fall",children:"Fall"}),c.jsx("option",{value:"winter",children:"Winter"}),c.jsx("option",{value:"year-round",children:"Year-round"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),c.jsx("textarea",{value:W.description,onChange:J=>Z({...W,description:J.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Additional details about this variety"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),c.jsx("button",{onClick:q,disabled:!W.common_name||!W.category_id,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg",children:"Add Variety"})]})]})}),D&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Edit Crop Coefficients - ",f?.common_name,f?.variety_name&&` (${f.variety_name})`]}),c.jsx("button",{onClick:()=>Y(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:c.jsx(Hr,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"space-y-4",children:ke.map((J,Se)=>c.jsx("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Growth Stage"}),c.jsx("input",{type:"text",value:J.stage_name||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-600 text-gray-900 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kc Value"}),c.jsx("input",{type:"number",step:"0.001",min:"0",max:"2",value:J.kc_value,onChange:be=>{const je=[...ke];je[Se].kc_value=parseFloat(be.target.value),te(je)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Duration (days)"}),c.jsx("input",{type:"number",min:"1",max:"365",value:J.stage_duration_days||"",onChange:be=>{const je=[...ke];je[Se].stage_duration_days=parseInt(be.target.value),te(je)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Source"}),c.jsx("input",{type:"text",value:J.source||"",onChange:be=>{const je=[...ke];je[Se].source=be.target.value,te(je)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., FAO-56, Research Study"})]}),c.jsxs("div",{className:"md:col-span-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),c.jsx("input",{type:"text",value:J.notes||"",onChange:be=>{const je=[...ke];je[Se].notes=be.target.value,te(je)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Additional notes about this coefficient"})]})]})},J.id))}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>Y(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),c.jsxs("button",{onClick:G,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[c.jsx(Gh,{className:"h-4 w-4"}),c.jsx("span",{children:"Save Changes"})]})]})]})})]})},dH=()=>{const{isDarkMode:r,toggleTheme:e}=kj();return c.jsx("button",{onClick:e,className:"gh-btn p-2","aria-label":"Toggle theme",children:r?c.jsx(D4,{className:"h-4 w-4 text-github-attention-fg dark:text-github-dark-attention-fg"}):c.jsx(nR,{className:"h-4 w-4 text-github-fg-muted dark:text-github-dark-fg-muted"})})};class hH{constructor(){}async getEmailStats(){try{return console.log("Getting email stats from Supabase..."),{totalEmails:0,deliveredEmails:0,bouncedEmails:0,complainedEmails:0,clickedEmails:0,openedEmails:0,recentEmails:[]}}catch(e){return console.error("Error fetching email stats:",e),{totalEmails:0,deliveredEmails:0,bouncedEmails:0,complainedEmails:0,clickedEmails:0,openedEmails:0,recentEmails:[]}}}async getDomainStats(){try{return console.log("Getting domain stats..."),{data:[]}}catch(e){return console.error("Error fetching domain stats:",e),{data:[]}}}async getEmailById(e){try{return console.log(`Email ID lookup not implemented: ${e}`),null}catch(t){return console.error("Error fetching email by ID:",t),null}}isConfigured(){return!0}}const zg=new hH,fH=({onClose:r})=>{const[e,t]=I.useState(!1),[n,a]=I.useState(""),[i,l]=I.useState([]),[u,h]=I.useState(null),[f,g]=I.useState(null),[x,y]=I.useState([]),[v,w]=I.useState(!1),[_,S]=I.useState(null),[E,N]=I.useState(!1),[T,M]=I.useState("overview"),[C,V]=I.useState("pending"),[D,Y]=I.useState([]),[O,Q]=I.useState(null),[W,Z]=I.useState(null),[xe,Fe]=I.useState([]),[ke,te]=I.useState([]),[ae,Te]=I.useState([]),[Oe,We]=I.useState([]),[K,R]=I.useState(!1),[q,H]=I.useState(null),G="weather-admin-2025",se=({coefficient:F,status:ne,onApprove:Ge,onReject:Je,onDelete:bt,onEdit:Qe,onRevertToPending:Pt,onShowHistory:dr})=>{const[pt,Yt]=I.useState(!1),[Ze,mt]=I.useState({kc_initial:F.kc_initial,kc_development:F.kc_development,kc_mid:F.kc_mid,kc_late:F.kc_late,initial_stage_days:F.initial_stage_days,development_stage_days:F.development_stage_days,mid_stage_days:F.mid_stage_days,late_stage_days:F.late_stage_days,source:F.source||"",notes:F.notes||""}),nt=()=>{switch(ne){case"pending":return c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Pending Review"});case"approved":return c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Approved"});case"rejected":return c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Rejected"});default:return null}},xr=async()=>{Qe&&(await Qe(F.id,Ze),Yt(!1))},ao=()=>{mt({kc_initial:F.kc_initial,kc_development:F.kc_development,kc_mid:F.kc_mid,kc_late:F.kc_late,initial_stage_days:F.initial_stage_days,development_stage_days:F.development_stage_days,mid_stage_days:F.mid_stage_days,late_stage_days:F.late_stage_days,source:F.source||"",notes:F.notes||""}),Yt(!1)};return c.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-gray-800",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:[F.crop_varieties?.crop_categories?.name||"Category"," - ",F.crop_varieties?.name||F.crop_varieties?.common_name||`Variety ID: ${F.crop_variety_id}`]}),nt(),pt&&c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:[c.jsx(ux,{className:"w-3 h-3 mr-1"}),"Editing"]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Kc Initial:"}),pt?c.jsx("input",{type:"number",step:"0.01",value:Ze.kc_initial,onChange:Zt=>mt({...Ze,kc_initial:parseFloat(Zt.target.value)||0}),className:"mt-1 block w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}):c.jsx("p",{className:"font-medium",children:F.kc_initial})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Kc Development:"}),pt?c.jsx("input",{type:"number",step:"0.01",value:Ze.kc_development,onChange:Zt=>mt({...Ze,kc_development:parseFloat(Zt.target.value)||0}),className:"mt-1 block w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}):c.jsx("p",{className:"font-medium",children:F.kc_development})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Kc Mid:"}),pt?c.jsx("input",{type:"number",step:"0.01",value:Ze.kc_mid,onChange:Zt=>mt({...Ze,kc_mid:parseFloat(Zt.target.value)||0}),className:"mt-1 block w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}):c.jsx("p",{className:"font-medium",children:F.kc_mid})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Kc Late:"}),pt?c.jsx("input",{type:"number",step:"0.01",value:Ze.kc_late,onChange:Zt=>mt({...Ze,kc_late:parseFloat(Zt.target.value)||0}),className:"mt-1 block w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}):c.jsx("p",{className:"font-medium",children:F.kc_late})]})]}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Initial Days:"}),pt?c.jsx("input",{type:"number",value:Ze.initial_stage_days,onChange:Zt=>mt({...Ze,initial_stage_days:parseInt(Zt.target.value)||0}),className:"mt-1 block w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}):c.jsx("p",{className:"font-medium",children:F.initial_stage_days})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Development Days:"}),pt?c.jsx("input",{type:"number",value:Ze.development_stage_days,onChange:Zt=>mt({...Ze,development_stage_days:parseInt(Zt.target.value)||0}),className:"mt-1 block w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}):c.jsx("p",{className:"font-medium",children:F.development_stage_days})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Mid Days:"}),pt?c.jsx("input",{type:"number",value:Ze.mid_stage_days,onChange:Zt=>mt({...Ze,mid_stage_days:parseInt(Zt.target.value)||0}),className:"mt-1 block w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}):c.jsx("p",{className:"font-medium",children:F.mid_stage_days})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Late Days:"}),pt?c.jsx("input",{type:"number",value:Ze.late_stage_days,onChange:Zt=>mt({...Ze,late_stage_days:parseInt(Zt.target.value)||0}),className:"mt-1 block w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}):c.jsx("p",{className:"font-medium",children:F.late_stage_days})]})]}),c.jsxs("div",{className:"mt-3 text-sm",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Source:"}),pt?c.jsx("input",{type:"text",value:Ze.source,onChange:Zt=>mt({...Ze,source:Zt.target.value}),className:"mt-1 block w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Source of data"}):c.jsx("p",{className:"font-medium",children:F.source||"User Submitted"})]}),pt&&c.jsxs("div",{className:"mt-3 text-sm",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Notes:"}),c.jsx("textarea",{value:Ze.notes,onChange:Zt=>mt({...Ze,notes:Zt.target.value}),className:"mt-1 block w-full px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Additional notes",rows:2})]}),c.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:[ne==="pending"?"Submitted":ne==="approved"?"Approved":"Rejected",": ",new Date(F.created_at).toLocaleString(),F.updated_at&&F.updated_at!==F.created_at&&c.jsxs("span",{className:"ml-2",children:[" Updated: ",new Date(F.updated_at).toLocaleString()]})]})]}),c.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[ne==="pending"&&Ge&&Je&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>Ge(F.id),className:"inline-flex items-center gap-1 px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors",children:[c.jsx(rr,{className:"w-4 h-4"}),"Approve"]}),c.jsxs("button",{onClick:()=>Je(F.id),className:"inline-flex items-center gap-1 px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition-colors",children:[c.jsx(vg,{className:"w-4 h-4"}),"Reject"]})]}),(ne==="approved"||ne==="rejected")&&c.jsx(c.Fragment,{children:pt?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:xr,className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:[c.jsx(Gh,{className:"w-4 h-4"}),"Save"]}),c.jsxs("button",{onClick:ao,className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:[c.jsx(Hr,{className:"w-4 h-4"}),"Cancel"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>Yt(!0),className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:[c.jsx(ux,{className:"w-4 h-4"}),"Edit"]}),dr&&c.jsxs("button",{onClick:()=>dr(F),className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-600 text-white text-sm rounded-md hover:bg-purple-700 transition-colors",children:[c.jsx(F_,{className:"w-4 h-4"}),"Crop History"]}),Pt&&c.jsxs("button",{onClick:()=>Pt(F.id),className:"inline-flex items-center gap-1 px-3 py-1 bg-yellow-600 text-white text-sm rounded-md hover:bg-yellow-700 transition-colors",children:[c.jsx(L_,{className:"w-4 h-4"}),"Revert"]}),bt&&c.jsxs("button",{onClick:()=>bt(F.id),className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:[c.jsx(Xs,{className:"w-4 h-4"}),"Delete"]})]})})]})]})})},J=()=>{n===G?(t(!0),S(null),be()):S("Invalid admin password")},Se=async F=>{if(!F||F.length===0)return F;try{const ne=F.map(Je=>Je.crop_variety_id),{data:Ge}=await Be.from("crop_varieties").select("id, common_name, crop_categories(category_name)").in("id",ne);return F.map(Je=>{const bt=Ge?.find(Qe=>Qe.id===Je.crop_variety_id);return{...Je,crop_varieties:bt}})}catch(ne){return console.warn("Could not load variety names:",ne),F}},be=async()=>{w(!0);try{const[F,ne,Ge,Je,bt,Qe,Pt,dr]=await Promise.all([Kn.getAllSubscriptions(),Kn.getEmailStats(),Kn.getRecentActivity(50),Kn.getSubscriberProfiles(),Kn.getSubscriberStats(),Be.from("pending_crop_coefficients").select("*").eq("status","pending").order("created_at",{ascending:!1}).then(async({data:pt,error:Yt})=>Yt?(console.warn("Error loading pending coefficients:",Yt),[]):await Se(pt||[])),Be.from("pending_crop_coefficients").select("*").eq("status","approved").order("created_at",{ascending:!1}).then(async({data:pt,error:Yt})=>Yt?(console.warn("Error loading approved coefficients:",Yt),[]):await Se(pt||[])),Be.from("pending_crop_coefficients").select("*").eq("status","rejected").order("created_at",{ascending:!1}).then(async({data:pt,error:Yt})=>Yt?(console.warn("Error loading rejected coefficients:",Yt),[]):await Se(pt||[]))]);if(l(F),h(ne),y(Ge),Y(Je),Q(bt),console.log("Setting coefficient arrays:"),console.log("- Pending:",Qe.length,"items"),console.log("- Approved:",Pt.length,"items"),console.log("- Rejected:",dr.length,"items"),Fe(Qe),te(Pt),Te(dr),console.log("Loaded pending coefficients:",Qe.length,"items"),console.log("Pending coefficient IDs:",Qe.map(pt=>pt.id)),console.log("Loaded approved coefficients:",Pt.length,"items"),console.log("Loaded rejected coefficients:",dr.length,"items"),zg.isConfigured()){const pt=await zg.getEmailStats();g(pt)}}catch(F){S(F instanceof Error?F.message:"Failed to load admin data")}finally{w(!1)}},je=async F=>{if(confirm("Are you sure you want to delete this subscription? This action cannot be undone."))try{w(!0),await Kn.deleteSubscription(F),await be()}catch(ne){S(ne instanceof Error?ne.message:"Failed to delete subscription")}finally{w(!1)}},ft=async(F,ne)=>{try{w(!0),await Kn.updateSubscription(F,{enabled:ne}),await be()}catch(Ge){S(Ge instanceof Error?Ge.message:"Failed to update subscription")}finally{w(!1)}},it=async F=>{if(confirm("Reset this subscription to send immediately?"))try{w(!0),await Kn.resetSubscription(F),await be()}catch(ne){S(ne instanceof Error?ne.message:"Failed to reset send time")}finally{w(!1)}},ar=async F=>{console.log(" UPDATED APPROVE CODE WITH DELAY AND DEBUG"),console.log(" Approving coefficient with ID:",F);try{w(!0);const{data:ne,error:Ge}=await Be.from("pending_crop_coefficients").select(`
          *,
          crop_varieties (
            id,
            common_name,
            scientific_name,
            crop_categories (
              category_name
            )
          )
        `).eq("id",F).single();if(Ge)throw console.error("Error fetching pending data:",Ge),new Error("Could not fetch pending data");console.log("Pending data:",ne);const{data:Je,error:bt}=await Be.from("crop_coefficients").select(`
          *,
          growth_stages (
            stage_name
          )
        `).eq("variety_id",ne.crop_variety_id);bt&&console.warn("Could not check existing coefficients:",bt);let Qe=` APPROVE COEFFICIENT SUBMISSION

`;if(Qe+=`Crop: ${ne.crop_varieties?.crop_categories?.category_name||"Unknown"} - ${ne.crop_varieties?.common_name||ne.crop_varieties?.scientific_name||"Unknown Variety"}

`,Qe+=`NEW VALUES TO BE APPLIED:
`,Qe+=` Kc Initial: ${ne.kc_initial} (${ne.initial_stage_days} days)
`,Qe+=` Kc Development: ${ne.kc_development} (${ne.development_stage_days} days)
`,Qe+=` Kc Mid-Season: ${ne.kc_mid} (${ne.mid_stage_days} days)
`,Qe+=` Kc Late Season: ${ne.kc_late} (${ne.late_stage_days} days)
`,Je&&Je.length>0?(Qe+=`
 EXISTING DATA WILL BE REPLACED:
`,Je.forEach(nt=>{Qe+=` ${nt.growth_stages?.stage_name||"Unknown Stage"}: Kc=${nt.kc_value}, Days=${nt.stage_duration_days}
`}),Qe+=`
 ${Je.length} existing coefficient record(s) will be DELETED and replaced.
`):Qe+=`
 No existing coefficients found - this will create new records.
`,Qe+=`
Source: ${ne.source||"User Submission"}`,ne.submitted_by_name&&(Qe+=`
Submitted by: ${ne.submitted_by_name}`),ne.notes&&(Qe+=`
Notes: ${ne.notes}`),Qe+=`

 This action will make these coefficients LIVE in the application immediately.`,Qe+=`

Continue with approval?`,!confirm(Qe)){w(!1);return}const{data:Pt,error:dr}=await Be.from("growth_stages").select("id, stage_name").order("stage_order");if(dr)throw console.error("Error fetching growth stages:",dr),new Error("Could not fetch growth stages");const pt=Pt.reduce((nt,xr)=>(nt[xr.stage_name.toLowerCase()]=xr.id,nt),{}),Yt={initial:{id:pt.initial,kc:ne.kc_initial,days:ne.initial_stage_days},development:{id:pt.development,kc:ne.kc_development,days:ne.development_stage_days},mid:{id:pt["mid-season"],kc:ne.kc_mid,days:ne.mid_stage_days},late:{id:pt["late season"],kc:ne.kc_late,days:ne.late_stage_days}},Ze=Object.entries(Yt).filter(([nt,xr])=>xr.kc!==null&&xr.kc!==void 0&&xr.id).map(([nt,xr])=>({variety_id:ne.crop_variety_id,growth_stage_id:xr.id,kc_value:xr.kc,stage_duration_days:xr.days,source:ne.source||"Admin Approved",notes:ne.notes||null}));if(console.log("Coefficients to insert:",Ze),Ze.length>0){const{error:nt}=await Be.from("crop_coefficients").delete().eq("variety_id",ne.crop_variety_id);nt?console.warn("Could not delete existing coefficients:",nt):console.log("Deleted existing coefficients for variety");const{error:xr}=await Be.from("crop_coefficients").insert(Ze);if(xr)throw console.error("Error inserting coefficients:",xr),xr;console.log("Successfully inserted coefficients")}const{error:mt}=await Be.from("pending_crop_coefficients").update({status:"approved"}).eq("id",F);if(mt)throw console.error("Error updating coefficient status:",mt),mt;console.log("Successfully approved and marked coefficient as approved"),console.log("Reloading data..."),Fe([]),te([]),Te([]),await new Promise(nt=>setTimeout(nt,1e3)),await be(),console.log("Data reloaded, pending coefficients count:",xe.length)}catch(ne){console.error("Error in approve function:",ne),S(ne instanceof Error?ne.message:"Failed to approve coefficient")}finally{w(!1)}},rt=async F=>{if(console.log(" UPDATED REJECT CODE WITH DELAY AND DEBUG"),!!confirm("Are you sure you want to reject this pending coefficient?"))try{w(!0),console.log("Rejecting pending coefficient with ID:",F);const{error:ne}=await Be.from("pending_crop_coefficients").update({status:"rejected"}).eq("id",F);if(ne)throw console.error("Error updating coefficient status:",ne),ne;console.log("Successfully rejected coefficient"),console.log("Reloading data..."),Fe([]),te([]),Te([]),await new Promise(Ge=>setTimeout(Ge,1e3)),await be(),console.log("Data reloaded, pending coefficients count:",xe.length)}catch(ne){console.error("Failed to reject coefficient:",ne),S(ne instanceof Error?ne.message:"Failed to reject coefficient")}finally{w(!1)}},oe=async F=>{if(confirm("Are you sure you want to permanently delete this processed coefficient? This action cannot be undone."))try{w(!0),console.log("Permanently deleting coefficient with ID:",F);const{error:ne}=await Be.from("pending_crop_coefficients").delete().eq("id",F);if(ne)throw console.error("Error deleting coefficient:",ne),ne;console.log("Successfully deleted coefficient"),console.log("Reloading data..."),Fe([]),te([]),Te([]),await be(),console.log("Data reloaded")}catch(ne){console.error("Failed to delete coefficient:",ne),S(ne instanceof Error?ne.message:"Failed to delete coefficient")}finally{w(!1)}},Pe=async(F,ne)=>{try{w(!0),console.log("Editing coefficient with ID:",F,ne);const{data:Ge,error:Je}=await Be.from("pending_crop_coefficients").select("*").eq("id",F).single();if(Je)throw console.error("Error fetching coefficient:",Je),Je;const{error:bt}=await Be.from("pending_crop_coefficients").update({kc_initial:ne.kc_initial,kc_development:ne.kc_development,kc_mid:ne.kc_mid,kc_late:ne.kc_late,initial_stage_days:ne.initial_stage_days,development_stage_days:ne.development_stage_days,mid_stage_days:ne.mid_stage_days,late_stage_days:ne.late_stage_days,source:ne.source,notes:ne.notes,updated_at:new Date().toISOString()}).eq("id",F);if(bt)throw console.error("Error updating coefficient:",bt),bt;if(Ge.status==="approved"){console.log("Updating live crop_coefficients table for approved coefficient");const{data:Qe,error:Pt}=await Be.from("growth_stages").select("id, stage_name").order("stage_order");if(Pt)throw console.error("Error fetching growth stages:",Pt),Pt;const dr=Qe.reduce((mt,nt)=>(mt[nt.stage_name.toLowerCase()]=nt.id,mt),{}),{error:pt}=await Be.from("crop_coefficients").delete().eq("variety_id",Ge.crop_variety_id);pt&&console.warn("Could not delete existing live coefficients:",pt);const Yt={initial:{id:dr.initial,kc:ne.kc_initial,days:ne.initial_stage_days},development:{id:dr.development,kc:ne.kc_development,days:ne.development_stage_days},mid:{id:dr["mid-season"],kc:ne.kc_mid,days:ne.mid_stage_days},late:{id:dr["late season"],kc:ne.kc_late,days:ne.late_stage_days}},Ze=Object.entries(Yt).filter(([mt,nt])=>nt.kc!==null&&nt.kc!==void 0&&nt.id).map(([mt,nt])=>({variety_id:Ge.crop_variety_id,growth_stage_id:nt.id,kc_value:nt.kc,stage_duration_days:nt.days,source:ne.source||"Admin Edited",notes:ne.notes||null}));if(Ze.length>0){const{error:mt}=await Be.from("crop_coefficients").insert(Ze);if(mt)throw console.error("Error inserting updated live coefficients:",mt),mt;console.log("Successfully updated live coefficients")}}console.log("Successfully updated coefficient"),Fe([]),te([]),Te([]),await be(),console.log("Data reloaded after edit")}catch(Ge){console.error("Failed to edit coefficient:",Ge),S(Ge instanceof Error?Ge.message:"Failed to update coefficient")}finally{w(!1)}},Ee=async F=>{if(confirm("Revert this coefficient back to pending status for re-review?"))try{w(!0),console.log("Reverting coefficient to pending with ID:",F);const{error:ne}=await Be.from("pending_crop_coefficients").update({status:"pending",updated_at:new Date().toISOString()}).eq("id",F);if(ne)throw console.error("Error reverting coefficient status:",ne),ne;console.log("Successfully reverted coefficient to pending"),Fe([]),te([]),Te([]),await be(),console.log("Data reloaded after revert")}catch(ne){console.error("Failed to revert coefficient:",ne),S(ne instanceof Error?ne.message:"Failed to revert coefficient to pending")}finally{w(!1)}},Xe=async F=>{try{w(!0),console.log("Loading audit history for crop variety:",F.crop_variety_id);const{data:ne,error:Ge}=await Be.from("pending_crop_coefficients").select("id").eq("crop_variety_id",F.crop_variety_id);if(Ge)throw console.error("Error loading crop coefficients:",Ge),Ge;const Je=ne?.map(Pt=>Pt.id)||[];if(console.log("Found coefficient IDs for this crop:",Je),Je.length===0){We([]),H(F),R(!0);return}const{data:bt,error:Qe}=await Be.from("coefficient_audit_log").select(`
          *,
          pending_crop_coefficients!coefficient_id (
            id,
            submitted_by_name,
            submitted_by_email,
            source,
            notes,
            status,
            created_at
          )
        `).in("coefficient_id",Je).order("created_at",{ascending:!1});if(Qe)throw console.error("Error loading audit history:",Qe),Qe;We(bt||[]),H(F),R(!0),console.log("Loaded crop audit history:",bt?.length||0,"entries for",Je.length,"coefficient submissions")}catch(ne){console.error("Failed to load audit history:",ne),S(ne instanceof Error?ne.message:"Failed to load audit history")}finally{w(!1)}},vt=async F=>{const ne=D.find(Je=>Je.email===F);if(!ne)return;const Ge=` DANGER: Delete subscriber "${ne.name}" (${F})?

This will permanently remove:
 ${ne.totalSubscriptions} subscription(s)
 ${ne.totalEmailsSent} email log(s)
 All associated data

This action CANNOT be undone!`;if(confirm(Ge))try{w(!0),await Kn.deleteSubscriber(F),await be(),Z(null)}catch(Je){S(Je instanceof Error?Je.message:"Failed to delete subscriber")}finally{w(!1)}},jt=F=>{const ne=["","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];if(F.is_recurring){const Ge=ne[F.schedule_day_of_week||1],Je=`${F.schedule_hour?.toString().padStart(2,"0")}:${F.schedule_minute?.toString().padStart(2,"0")}`;return`Every ${Ge} at ${Je} (${F.schedule_timezone})`}else return F.scheduled_at?`Once on ${new Date(F.scheduled_at).toLocaleDateString()} at ${new Date(F.scheduled_at).toLocaleTimeString()}`:"Not scheduled"},Ht=F=>{if(!F.next_send_at)return"Not scheduled";const ne=new Date(F.next_send_at),Ge=new Date,Je=ne.getTime()-Ge.getTime();if(Je<0)return"Overdue";const bt=Math.floor(Je/(1e3*60*60*24)),Qe=Math.floor(Je%(1e3*60*60*24)/(1e3*60*60)),Pt=Math.floor(Je%(1e3*60*60)/(1e3*60));return bt>0?`In ${bt}d ${Qe}h`:Qe>0?`In ${Qe}h ${Pt}m`:`In ${Pt}m`},Vt=F=>{switch(F){case"sent":case"delivered":return"text-green-600 dark:text-green-400";case"failed":case"bounced":return"text-red-600 dark:text-red-400";case"pending":return"text-yellow-600 dark:text-yellow-400";default:return"text-gray-600 dark:text-gray-400"}},ut=F=>{switch(F){case"sent":case"delivered":return c.jsx(rr,{className:"w-4 h-4"});case"failed":case"bounced":return c.jsx(vg,{className:"w-4 h-4"});case"pending":return c.jsx(T4,{className:"w-4 h-4"});default:return c.jsx(Wc,{className:"w-4 h-4"})}};return e?c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-7xl w-full mx-4 my-8",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(nl,{className:"h-8 w-8 text-blue-500"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Admin Dashboard - Email Analytics"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Comprehensive email system management and analytics"})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:be,className:"gh-btn",disabled:v,children:[c.jsx(Fi,{className:`h-4 w-4 mr-2 ${v?"animate-spin":""}`}),"Refresh"]}),c.jsxs("button",{onClick:r,className:"gh-btn gh-btn-primary",children:[c.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Close"]})]})]}),c.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6 overflow-x-auto",children:[{id:"overview",label:"Overview",icon:Aa},{id:"subscriptions",label:"Subscriptions",icon:Lc},{id:"subscribers",label:"Subscribers",icon:Lc},{id:"activity",label:"Activity",icon:D_},{id:"coefficients",label:"Coefficients",icon:nl},{id:"resend",label:"Resend Stats",icon:Qs}].map(F=>c.jsxs("button",{onClick:()=>M(F.id),className:`flex items-center gap-2 px-6 py-3 font-medium border-b-2 transition-colors ${T===F.id?"text-blue-600 dark:text-blue-400 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-400 border-transparent hover:text-gray-900 dark:hover:text-gray-200"}`,children:[c.jsx(F.icon,{className:"w-4 h-4"}),F.label]},F.id))}),_&&c.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center space-x-2",children:[c.jsx(Wc,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),c.jsx("span",{className:"text-red-700 dark:text-red-300",children:_})]}),c.jsxs("div",{className:"max-h-[60vh] overflow-y-auto",children:[v&&c.jsxs("div",{className:"flex items-center justify-center py-12",children:[c.jsx(Fi,{className:"w-8 h-8 animate-spin text-blue-600"}),c.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading analytics..."})]}),!v&&T==="overview"&&u&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Lc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),c.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Total Subscribers"})]}),c.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:u.totalSubscriptions}),c.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[u.activeSubscriptions," active"]})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(rr,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-medium text-green-900 dark:text-green-100",children:"Emails Sent"})]}),c.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:u.totalEmailsSent}),c.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:[u.successfulSends," successful"]})]}),c.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Fi,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),c.jsx("h3",{className:"font-medium text-purple-900 dark:text-purple-100",children:"Recurring Subs"})]}),c.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:O?.activeRecurringSubscriptions||0}),c.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:[O?.recurringSubscribers||0," users"]})]}),c.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Yh,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),c.jsx("h3",{className:"font-medium text-orange-900 dark:text-orange-100",children:"Single Sends"})]}),c.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:O?.totalSingleSends||0}),c.jsxs("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:[O?.completedSingleSends||0," sent, ",O?.pendingSingleSends||0," pending"]})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Recent Email Activity"}),c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:u.recentSends.slice(0,10).map(F=>c.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-white dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:Vt(F.status),children:ut(F.status)}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:F.subscription?.email||"Unknown"}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(F.sent_at).toLocaleString(),"  ",F.locations_count||0," locations"]})]})]}),c.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${Vt(F.status)}`,children:F.status})]},F.id))})]})]}),!v&&T==="subscriptions"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Subscriptions (",i.length,")"]})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full border border-gray-200 dark:border-gray-700 rounded-lg",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Email"}),c.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Name"}),c.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Type"}),c.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Schedule"}),c.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Status"}),c.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Next Send"}),c.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i.map(F=>c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[c.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:F.email}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:F.name}),c.jsx("td",{className:"px-4 py-3 text-sm",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.is_recurring?"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300":"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300"}`,children:F.is_recurring?"Recurring":"One-time"})}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400",children:jt(F)}),c.jsx("td",{className:"px-4 py-3 text-sm",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.enabled?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:F.enabled?"Active":"Disabled"})}),c.jsx("td",{className:"px-4 py-3 text-sm",children:F.next_send_at?c.jsx("span",{className:new Date(F.next_send_at)<new Date?"text-red-600 dark:text-red-400 font-medium":"text-gray-600 dark:text-gray-400",children:Ht(F)}):c.jsx("span",{className:"text-gray-400",children:"Not scheduled"})}),c.jsx("td",{className:"px-4 py-3 text-sm",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>it(F.id),className:"p-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",title:"Reset to send now",disabled:v,children:c.jsx(L_,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>ft(F.id,!F.enabled),className:`p-1 ${F.enabled?"text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-300":"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300"}`,title:F.enabled?"Disable subscription":"Enable subscription",disabled:v,children:c.jsx(rr,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>je(F.id),className:"p-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",title:"Delete subscription",disabled:v,children:c.jsx(Xs,{className:"w-4 h-4"})})]})})]},F.id))})]})})]}),!v&&T==="subscribers"&&c.jsxs("div",{className:"space-y-6",children:[O&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Total Subscribers"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:O.totalSubscribers}),c.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[O.activeSubscribers," active"]})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[c.jsx("h3",{className:"font-medium text-green-900 dark:text-green-100",children:"Avg Subscriptions"}),c.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:O.avgSubscriptionsPerUser.toFixed(1)}),c.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"per subscriber"})]}),c.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800",children:[c.jsx("h3",{className:"font-medium text-purple-900 dark:text-purple-100",children:"API Requests"}),c.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:O.totalApiRequests}),c.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:"total requests"})]}),c.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:[c.jsx("h3",{className:"font-medium text-orange-900 dark:text-orange-100",children:"Top Location"}),c.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:O.topLocations[0]?.locationName||"N/A"}),c.jsxs("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:[O.topLocations[0]?.subscriberCount||0," users"]})]})]}),O&&c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-6 rounded-lg border border-gray-200 dark:border-gray-600",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Subscription Types Breakdown"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Fi,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Recurring Subscriptions"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Users:"}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:O.recurringSubscribers})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Active Subscriptions:"}),c.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:O.activeRecurringSubscriptions})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Yh,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Single Sends"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Users:"}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:O.singleSendUsers})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Sends:"}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:O.totalSingleSends})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Completed:"}),c.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:O.completedSingleSends})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Pending:"}),c.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:O.pendingSingleSends})]})]})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Subscriber Profiles (",D.length,")"]})}),c.jsxs("div",{className:"grid gap-4",children:[D.map(F=>c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-gray-800",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:F.name}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:F.email}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.activeSubscriptions>0?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:F.activeSubscriptions>0?"Active":"Inactive"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mt-3",children:[c.jsxs("div",{className:"text-center p-2 bg-purple-50 dark:bg-purple-900/20 rounded",children:[c.jsx("p",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:F.recurringSubscriptions}),c.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:"Recurring"})]}),c.jsxs("div",{className:"text-center p-2 bg-orange-50 dark:bg-orange-900/20 rounded",children:[c.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:F.singleSends}),c.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400",children:"Single Sends"})]}),c.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[c.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:F.totalSubscriptions}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total"})]}),c.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[c.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:F.totalEmailsSent}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Emails Sent"})]}),c.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[c.jsx("p",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:F.uniqueLocations}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Locations"})]}),c.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[c.jsx("p",{className:"text-lg font-bold text-teal-600 dark:text-teal-400",children:F.apiRequestCount||0}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"API Requests"})]})]}),(F.recurringSubscriptions>0||F.singleSends>0)&&c.jsxs("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700/30 rounded-lg border border-gray-200 dark:border-gray-600",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subscription Activity:"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[F.recurringSubscriptions>0&&c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Active Recurring:"}),c.jsxs("span",{className:"font-medium text-purple-600 dark:text-purple-400",children:[F.activeRecurringSubscriptions,"/",F.recurringSubscriptions]})]}),F.singleSends>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Completed Single:"}),c.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:F.completedSingleSends})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pending Single:"}),c.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:F.pendingSingleSends})]})]})]})]}),F.locationNames.length>0&&c.jsxs("div",{className:"mt-3",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Locations:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:F.locationNames.map(ne=>c.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-xs rounded",children:ne},ne))})]}),F.preferredSchedule&&c.jsxs("div",{className:"mt-3",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Preferred Schedule:"}),c.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Days: ",F.preferredSchedule.days.map(ne=>["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"][ne]).join(", "),"  Times: ",F.preferredSchedule.times.join(", ")]})]}),c.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[c.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Success Rate:",c.jsx("span",{className:`ml-1 font-medium ${F.totalEmailsSent>0&&F.successfulSends/F.totalEmailsSent>.9?"text-green-600 dark:text-green-400":F.totalEmailsSent>0&&F.successfulSends/F.totalEmailsSent>.7?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:F.totalEmailsSent>0?(F.successfulSends/F.totalEmailsSent*100).toFixed(1)+"%":"N/A"})]}),c.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Member Since: ",new Date(F.firstSubscribed).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[c.jsx("button",{onClick:()=>Z(W?.email===F.email?null:F),className:"gh-btn text-xs px-3 py-1",children:W?.email===F.email?"Hide Details":"View Details"}),c.jsxs("button",{onClick:()=>vt(F.email),className:"gh-btn bg-red-600 hover:bg-red-700 text-white text-xs px-3 py-1",disabled:v,children:[c.jsx(Xs,{className:"w-3 h-3 mr-1"}),"Delete All"]})]})]}),W?.email===F.email&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[c.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Detailed Information"}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("h6",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["All Subscriptions (",F.subscriptions.length,")"]}),c.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:F.subscriptions.map(ne=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:`px-2 py-1 rounded text-xs mr-2 ${ne.is_recurring?"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300":"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300"}`,children:ne.is_recurring?"Recurring":"One-time"}),jt(ne)]}),c.jsx("span",{className:`text-xs ${ne.enabled?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:ne.enabled?"Active":"Disabled"})]},ne.id))})]}),F.recentActivity.length>0&&c.jsxs("div",{children:[c.jsxs("h6",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Recent Email Activity (",F.recentActivity.length,")"]}),c.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:F.recentActivity.map(ne=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded text-xs",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:Vt(ne.status),children:ut(ne.status)}),c.jsx("span",{children:new Date(ne.sent_at).toLocaleDateString()}),c.jsx("span",{className:"text-gray-500",children:""}),c.jsxs("span",{children:[ne.locations_count||0," locations"]})]}),c.jsx("span",{className:Vt(ne.status),children:ne.status})]},ne.id))})]})]})]},F.email)),D.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[c.jsx(Lc,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No subscribers found"})]})]})]})]}),!v&&T==="activity"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Recent Email Activity (",x.length,")"]}),c.jsxs("div",{className:"space-y-2",children:[x.map(F=>c.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-gray-800",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:Vt(F.status),children:ut(F.status)}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:F.email_subscriptions?.email||"Unknown Email"}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[F.email_subscriptions?.name||"Unknown Name"," ",F.email_subscriptions?.is_recurring?" Recurring":" One-time"]}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[new Date(F.sent_at).toLocaleString()," ",F.locations_count||0," location",(F.locations_count||0)!==1?"s":""]}),F.error_message&&c.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 bg-red-50 dark:bg-red-900/20 p-2 rounded border border-red-200 dark:border-red-800",children:["Error: ",F.error_message]})]})]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.status==="sent"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":F.status==="failed"?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"}`,children:F.status})]})},F.id)),x.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[c.jsx(D_,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No recent email activity found"})]})]})]}),!v&&T==="resend"&&c.jsx("div",{className:"space-y-6",children:zg.isConfigured()?f?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Total Emails"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:f.totalEmails})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[c.jsx("h3",{className:"font-medium text-green-900 dark:text-green-100",children:"Delivered"}),c.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:f.deliveredEmails}),c.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:[f.totalEmails>0?(f.deliveredEmails/f.totalEmails*100).toFixed(1):"0","%"]})]}),c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800",children:[c.jsx("h3",{className:"font-medium text-red-900 dark:text-red-100",children:"Issues"}),c.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:f.bouncedEmails+f.complainedEmails}),c.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:[f.bouncedEmails," bounced, ",f.complainedEmails," complaints"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800",children:[c.jsx("h3",{className:"font-medium text-purple-900 dark:text-purple-100",children:"Email Opens"}),c.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400 mt-1",children:f.openedEmails}),c.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:[f.totalEmails>0?(f.openedEmails/f.totalEmails*100).toFixed(1):"0","% open rate"]})]}),c.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:[c.jsx("h3",{className:"font-medium text-orange-900 dark:text-orange-100",children:"Email Clicks"}),c.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400 mt-1",children:f.clickedEmails}),c.jsxs("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:[f.totalEmails>0?(f.clickedEmails/f.totalEmails*100).toFixed(1):"0","% click rate"]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Recent Emails (Resend API)"}),c.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[f.recentEmails.map(F=>c.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3 bg-white dark:bg-gray-800",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:F.subject}),c.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["To: ",F.to.join(", "),"  From: ",F.from]}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:new Date(F.created_at).toLocaleString()})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:Vt(F.status),children:ut(F.status)}),c.jsx("span",{className:`text-xs font-medium ${Vt(F.status)}`,children:F.status})]})]})},F.id)),f.recentEmails.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[c.jsx(Qs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No recent emails found in Resend"})]})]})]})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Fi,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading Resend statistics..."})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Wc,{className:"h-12 w-12 mx-auto mb-4 text-yellow-500"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Resend API not configured. Add VITE_RESEND_API_KEY to environment variables."})]})}),!v&&T==="coefficients"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-8",children:[c.jsxs("button",{onClick:()=>V("pending"),className:`py-2 px-1 border-b-2 font-medium text-sm ${C==="pending"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"}`,children:["Pending (",xe.length,")"]}),c.jsxs("button",{onClick:()=>V("approved"),className:`py-2 px-1 border-b-2 font-medium text-sm ${C==="approved"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"}`,children:["Approved (",ke.length,")"]}),c.jsxs("button",{onClick:()=>V("rejected"),className:`py-2 px-1 border-b-2 font-medium text-sm ${C==="rejected"?"border-red-500 text-red-600 dark:text-red-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"}`,children:["Rejected (",ae.length,")"]})]})}),C==="pending"&&c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:["Pending Crop Coefficients (",xe.length,")"]}),xe.length>0?c.jsx("div",{className:"space-y-4",children:xe.map(F=>c.jsx(se,{coefficient:F,status:"pending",onApprove:ar,onReject:rt,onDelete:oe},F.id))}):c.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[c.jsx(nl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No pending coefficients to review"}),c.jsx("p",{className:"text-sm mt-1",children:"All user-submitted crop coefficients have been processed"})]})]}),C==="approved"&&c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:["Approved Crop Coefficients (",ke.length,")"]}),ke.length>0?c.jsx("div",{className:"space-y-4",children:ke.map(F=>c.jsx(se,{coefficient:F,status:"approved",onDelete:oe,onEdit:Pe,onRevertToPending:Ee,onShowHistory:Xe},F.id))}):c.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[c.jsx(rr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No approved coefficients yet"}),c.jsx("p",{className:"text-sm mt-1",children:"Coefficients will appear here after approval"})]})]}),C==="rejected"&&c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:["Rejected Crop Coefficients (",ae.length,")"]}),ae.length>0?c.jsx("div",{className:"space-y-4",children:ae.map(F=>c.jsx(se,{coefficient:F,status:"rejected",onDelete:oe,onEdit:Pe,onRevertToPending:Ee,onShowHistory:Xe},F.id))}):c.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[c.jsx(vg,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No rejected coefficients yet"}),c.jsx("p",{className:"text-sm mt-1",children:"Rejected coefficients will appear here for review"})]})]})]})]})]})}),K&&q&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-4xl max-h-[80vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Crop History - ",q.crop_varieties?.common_name||q.crop_varieties?.scientific_name||"Unknown Variety"]}),c.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:c.jsx(Hr,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[c.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"Crop:"})," ",q.crop_varieties?.crop_categories?.category_name||"Unknown"," - ",q.crop_varieties?.common_name||q.crop_varieties?.scientific_name||"Unknown Variety"]}),c.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mt-1",children:"This shows the complete history of all coefficient submissions, approvals, rejections, and edits for this crop variety."})]}),Oe.length>0?c.jsx("div",{className:"space-y-4",children:Oe.map(F=>c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.action_type==="create"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":F.action_type==="update"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":F.action_type==="approve"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":F.action_type==="reject"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":F.action_type==="revert"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":F.action_type==="delete"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}`,children:F.action_type.toUpperCase()}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(F.created_at).toLocaleString()})]}),c.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["by ",F.changed_by]})]}),F.action_type==="create"&&F.new_values&&c.jsxs("div",{className:"mb-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded",children:[c.jsx("h4",{className:"font-medium text-green-900 dark:text-green-200 mb-2",children:"New Submission"}),c.jsxs("div",{className:"text-sm text-green-800 dark:text-green-300",children:[F.new_values.submitted_by_name&&c.jsxs("p",{children:[c.jsx("strong",{children:"Submitted by:"})," ",F.new_values.submitted_by_name]}),F.new_values.submitted_by_email&&c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",F.new_values.submitted_by_email]}),F.new_values.source&&c.jsxs("p",{children:[c.jsx("strong",{children:"Source:"})," ",F.new_values.source]}),F.new_values.notes&&c.jsxs("p",{children:[c.jsx("strong",{children:"Notes:"})," ",F.new_values.notes]})]})]}),F.change_reason&&c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:F.change_reason}),F.action_type==="update"&&F.old_values&&F.new_values&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Previous Values"}),c.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded p-2",children:Object.entries(F.old_values).map(([ne,Ge])=>ne.startsWith("kc_")||ne.includes("stage_days")||ne==="source"||ne==="notes"||ne==="status"?c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[ne.replace("_"," "),":"]}),c.jsx("span",{className:"font-medium",children:Ge?.toString()||"null"})]},ne):null)})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"New Values"}),c.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded p-2",children:Object.entries(F.new_values).map(([ne,Ge])=>ne.startsWith("kc_")||ne.includes("stage_days")||ne==="source"||ne==="notes"||ne==="status"?c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[ne.replace("_"," "),":"]}),c.jsx("span",{className:"font-medium",children:Ge?.toString()||"null"})]},ne):null)})]})]}),(F.action_type==="approve"||F.action_type==="reject"||F.action_type==="revert")&&F.new_values&&c.jsxs("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-700 rounded",children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Coefficient Values"}),c.jsxs("div",{className:"text-sm grid grid-cols-2 md:grid-cols-4 gap-2",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Kc Initial:"})," ",F.new_values.kc_initial]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Kc Development:"})," ",F.new_values.kc_development]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Kc Mid:"})," ",F.new_values.kc_mid]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Kc Late:"})," ",F.new_values.kc_late]})]}),c.jsxs("div",{className:"text-sm grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Initial Days:"})," ",F.new_values.initial_stage_days]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Dev Days:"})," ",F.new_values.development_stage_days]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Mid Days:"})," ",F.new_values.mid_stage_days]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Late Days:"})," ",F.new_values.late_stage_days]})]})]})]},F.id))}):c.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[c.jsx(F_,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No history available for this crop"}),c.jsx("p",{className:"text-sm mt-1",children:"Activity will be tracked here as you make changes to this crop's coefficients"})]})]})})]}):c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx(nl,{className:"h-8 w-8 text-blue-500"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Admin Access Required"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Enter admin password to manage subscriptions"})]})]}),_&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:_})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Admin Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:E?"text":"password",value:n,onChange:F=>a(F.target.value),onKeyPress:F=>F.key==="Enter"&&J(),className:"gh-input w-full pr-10",placeholder:"Enter admin password"}),c.jsx("button",{type:"button",onClick:()=>N(!E),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:E?c.jsx(qh,{className:"h-4 w-4 text-gray-400"}):c.jsx(Vi,{className:"h-4 w-4 text-gray-400"})})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:r,className:"gh-btn",children:"Cancel"}),c.jsx("button",{onClick:J,className:"gh-btn gh-btn-primary",disabled:!n,children:"Access Admin Panel"})]})]})})})},mH=({onSuccess:r,onSwitchToSignup:e})=>{const{signIn:t}=ju(),[n,a]=I.useState(""),[i,l]=I.useState(""),[u,h]=I.useState(!1),[f,g]=I.useState(!1),[x,y]=I.useState(null),v=async w=>{w.preventDefault(),g(!0),y(null);try{const{error:_}=await t(n,i);_?y(_.message):r?.()}catch{y("An unexpected error occurred")}finally{g(!1)}};return c.jsx("div",{className:"w-full max-w-md mx-auto",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),c.jsxs("form",{onSubmit:v,className:"space-y-6",children:[x&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:c.jsx("p",{className:"text-red-600 text-sm",children:x})}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{id:"email",type:"email",value:n,onChange:w=>a(w.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(cx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{id:"password",type:u?"text":"password",value:i,onChange:w=>l(w.target.value),required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your password"}),c.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?c.jsx(qh,{className:"w-5 h-5"}):c.jsx(Vi,{className:"w-5 h-5"})})]})]}),c.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:f?c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):c.jsxs(c.Fragment,{children:[c.jsx(XO,{className:"w-5 h-5"}),c.jsx("span",{children:"Sign In"})]})})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",c.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign up"})]})})]})})},gH=({onSuccess:r,onSwitchToLogin:e})=>{const{signUp:t}=ju(),[n,a]=I.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",organizationName:""}),[i,l]=I.useState(!1),[u,h]=I.useState(!1),[f,g]=I.useState(!1),[x,y]=I.useState(null),v=_=>{a({...n,[_.target.name]:_.target.value})},w=async _=>{if(_.preventDefault(),g(!0),y(null),n.password!==n.confirmPassword){y("Passwords do not match"),g(!1);return}if(n.password.length<6){y("Password must be at least 6 characters"),g(!1);return}try{const{error:S}=await t(n.email,n.password,{first_name:n.firstName,last_name:n.lastName,display_name:`${n.firstName} ${n.lastName}`.trim(),organization_name:n.organizationName});S?y(S.message):r?.()}catch{y("An unexpected error occurred")}finally{g(!1)}};return c.jsx("div",{className:"w-full max-w-md mx-auto",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Get Started"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Create your account"})]}),c.jsxs("form",{onSubmit:w,className:"space-y-6",children:[x&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:c.jsx("p",{className:"text-red-600 text-sm",children:x})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(Kh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{id:"firstName",name:"firstName",type:"text",value:n.firstName,onChange:v,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"First name"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(Kh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{id:"lastName",name:"lastName",type:"text",value:n.lastName,onChange:v,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Last name"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{id:"email",name:"email",type:"email",value:n.email,onChange:v,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"organizationName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(k4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{id:"organizationName",name:"organizationName",type:"text",value:n.organizationName,onChange:v,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Your organization"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(cx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{id:"password",name:"password",type:i?"text":"password",value:n.password,onChange:v,required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Create a password"}),c.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?c.jsx(qh,{className:"w-5 h-5"}):c.jsx(Vi,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(cx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",value:n.confirmPassword,onChange:v,required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm your password"}),c.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?c.jsx(qh,{className:"w-5 h-5"}):c.jsx(Vi,{className:"w-5 h-5"})})]})]}),c.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:f?c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):c.jsxs(c.Fragment,{children:[c.jsx(IR,{className:"w-5 h-5"}),c.jsx("span",{children:"Create Account"})]})})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",c.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign in"})]})})]})})},Bu=({isOpen:r,onClose:e,initialMode:t="login"})=>{const[n,a]=I.useState(t);if(!r)return null;const i=()=>{e()},l=u=>{u.target===u.currentTarget&&e()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:l,children:c.jsxs("div",{className:"relative w-full max-w-md",children:[c.jsx("button",{onClick:e,className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:c.jsx(Hr,{className:"w-6 h-6"})}),n==="login"?c.jsx(mH,{onSuccess:i,onSwitchToSignup:()=>a("signup")}):c.jsx(gH,{onSuccess:i,onSwitchToLogin:()=>a("login")})]})})},xH=()=>{const{profile:r,organization:e,locations:t,updateProfile:n,addLocation:a,deleteLocation:i,setDefaultLocation:l}=ju(),[u,h]=I.useState(!1),[f,g]=I.useState({first_name:r?.first_name||"",last_name:r?.last_name||"",phone:r?.phone||"",job_title:r?.job_title||"",department:r?.department||""}),[x,y]=I.useState({name:"",description:"",latitude:0,longitude:0,address:"",city:"",state:"",country:"US"}),[v,w]=I.useState(!1),[_,S]=I.useState(!1),E=async()=>{S(!0);try{await n(f),h(!1)}catch(C){console.error("Error updating profile:",C)}finally{S(!1)}},N=async()=>{if(!x.name||!x.latitude||!x.longitude){alert("Please fill in all required fields");return}S(!0);try{await a({...x,is_default:t.length===0,is_active:!0,metadata:{}}),y({name:"",description:"",latitude:0,longitude:0,address:"",city:"",state:"",country:"US"}),w(!1)}catch(C){console.error("Error adding location:",C)}finally{S(!1)}},T=async C=>{confirm("Are you sure you want to delete this location?")&&await i(C)},M=async C=>{await l(C)};return r?c.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[c.jsx(Kh,{className:"w-6 h-6 mr-2"}),"Profile Information"]}),c.jsx("button",{onClick:()=>h(!u),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:u?"Cancel":"Edit"})]}),u?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),c.jsx("input",{type:"text",value:f.first_name,onChange:C=>g({...f,first_name:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),c.jsx("input",{type:"text",value:f.last_name,onChange:C=>g({...f,last_name:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),c.jsx("input",{type:"tel",value:f.phone,onChange:C=>g({...f,phone:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),c.jsx("input",{type:"text",value:f.job_title,onChange:C=>g({...f,job_title:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),c.jsx("input",{type:"text",value:f.department,onChange:C=>g({...f,department:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),c.jsxs("button",{onClick:E,disabled:_,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50",children:[c.jsx(Gh,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Qs,{className:"w-5 h-5 text-gray-400 mr-3"}),c.jsx("span",{className:"text-gray-900",children:r.email})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(lR,{className:"w-5 h-5 text-gray-400 mr-3"}),c.jsx("span",{className:"text-gray-900",children:r.phone||"Not provided"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(mO,{className:"w-5 h-5 text-gray-400 mr-3"}),c.jsx("span",{className:"text-gray-900",children:r.job_title||"Not provided"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(k4,{className:"w-5 h-5 text-gray-400 mr-3"}),c.jsx("span",{className:"text-gray-900",children:e?.name})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[c.jsx(xn,{className:"w-6 h-6 mr-2"}),"My Locations"]}),c.jsxs("button",{onClick:()=>w(!v),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[c.jsx(ss,{className:"w-4 h-4 mr-2"}),"Add Location"]})]}),v&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Location"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),c.jsx("input",{type:"text",value:x.name,onChange:C=>y({...x,name:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Home Farm, North Field"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),c.jsx("input",{type:"text",value:x.description,onChange:C=>y({...x,description:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude *"}),c.jsx("input",{type:"number",step:"any",value:x.latitude,onChange:C=>y({...x,latitude:parseFloat(C.target.value)}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude *"}),c.jsx("input",{type:"number",step:"any",value:x.longitude,onChange:C=>y({...x,longitude:parseFloat(C.target.value)}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),c.jsx("input",{type:"text",value:x.address,onChange:C=>y({...x,address:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),c.jsx("input",{type:"text",value:x.city,onChange:C=>y({...x,city:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),c.jsx("input",{type:"text",value:x.state,onChange:C=>y({...x,state:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),c.jsx("input",{type:"text",value:x.country,onChange:C=>y({...x,country:C.target.value}),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("button",{onClick:N,disabled:_,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50",children:[c.jsx(Gh,{className:"w-4 h-4 mr-2"}),"Save Location"]}),c.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]}),c.jsxs("div",{className:"grid gap-4",children:[t.map(C=>c.jsx("div",{className:`border rounded-lg p-4 ${C.is_default?"border-blue-300 bg-blue-50":"border-gray-200"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.name}),C.is_default&&c.jsx(gl,{className:"w-5 h-5 text-yellow-500 ml-2",fill:"currentColor"})]}),C.description&&c.jsx("p",{className:"text-gray-600 mt-1",children:C.description}),c.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[c.jsxs("p",{children:["Coordinates: ",C.latitude,", ",C.longitude]}),C.address&&c.jsxs("p",{children:["Address: ",C.address]}),C.city&&C.state&&c.jsxs("p",{children:["Location: ",C.city,", ",C.state]})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[!C.is_default&&c.jsx("button",{onClick:()=>M(C.id),className:"px-3 py-1 text-sm bg-yellow-100 text-yellow-800 rounded hover:bg-yellow-200 transition-colors",children:"Set Default"}),c.jsx("button",{onClick:()=>T(C.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:c.jsx(Xs,{className:"w-4 h-4"})})]})]})},C.id)),t.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(xn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:"No locations added yet. Add your first location to get started!"})]})]})]})]}):c.jsx("div",{children:"Loading..."})},pH=()=>{const{user:r,profile:e,signOut:t}=ju(),[n,a]=I.useState(null),[i,l]=I.useState(!1),[u,h]=I.useState(!1),[f,g]=I.useState(!1),[x,y]=I.useState(!1),[v,w]=I.useState("location"),_=I.useRef(null);I.useEffect(()=>{const C=V=>{_.current&&!_.current.contains(V.target)&&y(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const S=C=>{a(C),l(!1)},E=async()=>{await t(),y(!1),w("location")},N=()=>{w("profile"),y(!1)},M=(()=>{if(!n?.weatherData)return null;const C=new Date().toISOString().split("T")[0],V=n.weatherData.daily.time.findIndex(D=>D===C);return V===-1?null:{tempMax:n.weatherData.daily.temperature_2m_max[V]||0,tempMin:n.weatherData.daily.temperature_2m_min[V]||0,windSpeed:n.weatherData.daily.wind_speed_10m_max[V]||0,precipitation:n.weatherData.daily.precipitation_sum[V]||0,rain:n.weatherData.daily.rain_sum[V]||0,et0:n.weatherData.daily.et0_fao_evapotranspiration[V]||0,et0_sum:n.weatherData.daily.et0_fao_evapotranspiration_sum[V]||0}})();return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[c.jsxs("div",{className:"flex h-screen w-full",children:[c.jsxs("div",{className:`
          fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700
          transform transition-transform duration-300 ease-in-out
          lg:translate-x-0 lg:static lg:inset-0
          ${i?"translate-x-0":"-translate-x-full"}
        `,children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ks,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),c.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ET Weather"})]}),c.jsx("button",{onClick:()=>l(!1),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:c.jsx(Hr,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"p-6 overflow-y-auto h-full",children:c.jsx(pL,{onLocationSelect:S,selectedLocationId:n?.id})})]}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:()=>l(!0),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:c.jsx(qx,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n?n.name:"Weather & ET Dashboard"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"NCEP GFS Seamless Model  14-day Forecast"}),n&&c.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-400 mt-1",children:[c.jsx(xn,{className:"h-4 w-4"}),c.jsxs("span",{className:"text-sm font-mono",children:[n.latitude.toFixed(4),", ",n.longitude.toFixed(4)]})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[c.jsxs("button",{onClick:()=>w("location"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${v==="location"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(xn,{className:"h-4 w-4 mr-1 inline"}),"Location View"]}),c.jsxs("button",{onClick:()=>w("report"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${v==="report"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(C4,{className:"h-4 w-4 mr-1 inline"}),"View Report"]}),c.jsxs("button",{onClick:()=>w("emails"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${v==="emails"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(Qs,{className:"h-4 w-4 mr-1 inline"}),"Email Reports"]}),c.jsxs("button",{onClick:()=>w("crops"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${v==="crops"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(da,{className:"h-4 w-4 mr-1 inline"}),"Crop Management"]}),r&&c.jsxs("button",{onClick:()=>w("profile"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${v==="profile"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(Kh,{className:"h-4 w-4 mr-1 inline"}),"Profile"]})]}),r?c.jsxs("div",{className:"relative",ref:_,children:[c.jsxs("button",{onClick:()=>y(!x),className:"flex items-center space-x-2 p-2 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-sm font-medium",children:e?.first_name?.[0]||e?.email?.[0]?.toUpperCase()||"U"})}),c.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-900 dark:text-white",children:e?.display_name||e?.email})]}),x&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:N,className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",children:[c.jsx(yR,{className:"h-4 w-4 mr-2"}),"Profile Settings"]}),c.jsx("hr",{className:"my-1 border-gray-200 dark:border-gray-700"}),c.jsxs("button",{onClick:E,className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",children:[c.jsx(QO,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})})]}):c.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Sign In"}),c.jsx("button",{onClick:()=>h(!0),className:"p-2 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Admin Panel",children:c.jsx(nl,{className:"h-5 w-5"})}),c.jsx(dH,{})]})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto p-6 w-full",children:v==="report"?c.jsx(lH,{}):v==="emails"?c.jsx(ok,{}):v==="crops"?c.jsx(uH,{}):v==="profile"?c.jsx(xH,{}):n?c.jsxs(c.Fragment,{children:[n.error&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-red-700 dark:text-red-400 text-sm",children:n.error})}),M&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-8",children:[c.jsx(Yo,{title:"High Temp",value:M.tempMax,unit:"F",icon:c.jsx(Wi,{className:"h-6 w-6"}),description:"Maximum temperature today"}),c.jsx(Yo,{title:"Low Temp",value:M.tempMin,unit:"F",icon:c.jsx(Wi,{className:"h-6 w-6"}),description:"Minimum temperature today"}),c.jsx(Yo,{title:"Wind Speed",value:M.windSpeed,unit:"mph",icon:c.jsx(Of,{className:"h-6 w-6"}),description:"Maximum wind speed today"}),c.jsx(Yo,{title:"Precipitation",value:M.precipitation,unit:"in",icon:c.jsx(Qn,{className:"h-6 w-6"}),description:"Total precipitation today"}),c.jsx(Yo,{title:"ET (Daily)",value:M.et0*.0393701,unit:"inches",icon:c.jsx(Ks,{className:"h-6 w-6"}),description:"Daily evapotranspiration"}),c.jsx(Yo,{title:"ET (Sum)",value:M.et0_sum*.0393701,unit:"inches",icon:c.jsx(Ks,{className:"h-6 w-6"}),description:"Cumulative evapotranspiration"})]}),n.weatherData&&c.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm overflow-hidden mb-8",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"14-Day Forecast Data"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"High (F)"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Low (F)"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Wind (mph)"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Precip (in)"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"ET (inches)"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:n.weatherData.daily.time.map((C,V)=>{const D=new Date(C).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"});return c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:D}),c.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-gray-200",children:[n.weatherData?.daily.temperature_2m_max[V]?.toFixed(0)||"--",""]}),c.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-gray-200",children:[n.weatherData?.daily.temperature_2m_min[V]?.toFixed(0)||"--",""]}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-gray-200",children:n.weatherData?.daily.wind_speed_10m_max[V]?.toFixed(1)||"0.0"}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-gray-200",children:n.weatherData?.daily.precipitation_sum[V]?.toFixed(2)||"0.00"}),c.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-gray-200",children:n.weatherData?.daily.et0_fao_evapotranspiration[V]?(n.weatherData?.daily.et0_fao_evapotranspiration[V]*.0393701).toFixed(3):"0.000"})]},C)})})]})})]}),n.weatherData&&c.jsx(NN,{locationName:n.name})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[c.jsx(xn,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mb-4"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Welcome to ET Weather"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Add a location to get started with weather data and evapotranspiration calculations"}),c.jsx("button",{onClick:()=>l(!0),className:"gh-btn gh-btn-primary lg:hidden",children:"Add Location"})]})})]})]}),u&&c.jsx(fH,{onClose:()=>h(!1)}),c.jsx(Bu,{isOpen:f,onClose:()=>g(!1)})]})},lk=[{id:"almonds",name:"Almonds",scientificName:"Prunus dulcis",category:"Tree Nuts",stages:[{name:"Initial",kc:.4,duration:30,description:"Bud break and early leaf development"},{name:"Development",kc:.85,duration:45,description:"Rapid canopy growth and nut development"},{name:"Mid-season",kc:1.1,duration:60,description:"Full canopy and peak water demand"},{name:"Late season",kc:.75,duration:45,description:"Nut maturation and harvest preparation"}]},{id:"walnuts",name:"Walnuts",scientificName:"Juglans regia",category:"Tree Nuts",stages:[{name:"Initial",kc:.5,duration:35,description:"Bud break and catkin development"},{name:"Development",kc:.9,duration:50,description:"Leaf expansion and nut development"},{name:"Mid-season",kc:1.15,duration:65,description:"Full canopy and hull filling"},{name:"Late season",kc:.8,duration:40,description:"Hull split and harvest"}]},{id:"pistachios",name:"Pistachios",scientificName:"Pistacia vera",category:"Tree Nuts",stages:[{name:"Initial",kc:.35,duration:25,description:"Bud break and early growth"},{name:"Development",kc:.75,duration:40,description:"Shoot development and flowering"},{name:"Mid-season",kc:1.05,duration:70,description:"Nut development and filling"},{name:"Late season",kc:.7,duration:35,description:"Nut maturation and harvest"}]},{id:"grapes",name:"Grapes",category:"Tree Fruits",stages:[{name:"Initial",kc:.3,duration:20,description:"Bud break and shoot emergence"},{name:"Development",kc:.7,duration:40,description:"Rapid shoot and leaf growth"},{name:"Mid-season",kc:1.15,duration:50,description:"Flowering, fruit set, and veraison"},{name:"Late season",kc:.8,duration:30,description:"Fruit ripening and harvest"}]},{id:"oranges",name:"Oranges",category:"Tree Fruits",stages:[{name:"Initial",kc:.55,duration:45,description:"Spring flush and flowering"},{name:"Development",kc:.85,duration:60,description:"Fruit set and early development"},{name:"Mid-season",kc:1,duration:90,description:"Fruit enlargement and maturation"},{name:"Late season",kc:.75,duration:60,description:"Harvest and dormancy preparation"}]},{id:"apples",name:"Apples",category:"Tree Fruits",stages:[{name:"Initial",kc:.45,duration:30,description:"Bud break and bloom"},{name:"Development",kc:.8,duration:50,description:"Fruit set and early growth"},{name:"Mid-season",kc:1.1,duration:70,description:"Fruit development and sizing"},{name:"Late season",kc:.85,duration:45,description:"Fruit maturation and harvest"}]},{id:"peaches",name:"Peaches",category:"Tree Fruits",stages:[{name:"Initial",kc:.4,duration:25,description:"Bud break and flowering"},{name:"Development",kc:.75,duration:35,description:"Leaf development and fruit set"},{name:"Mid-season",kc:1.05,duration:50,description:"Rapid fruit growth"},{name:"Late season",kc:.8,duration:30,description:"Fruit ripening and harvest"}]},{id:"avocados",name:"Avocados",category:"Tree Fruits",stages:[{name:"Initial",kc:.5,duration:60,description:"New flush and flowering"},{name:"Development",kc:.75,duration:90,description:"Fruit set and early development"},{name:"Mid-season",kc:.95,duration:120,description:"Fruit growth and maturation"},{name:"Late season",kc:.7,duration:90,description:"Harvest and winter dormancy"}]},{id:"strawberries",name:"Strawberries",category:"Berries",stages:[{name:"Initial",kc:.4,duration:25,description:"Plant establishment and early growth"},{name:"Development",kc:.7,duration:35,description:"Vegetative growth and flowering"},{name:"Mid-season",kc:1,duration:40,description:"Fruit development and harvest"},{name:"Late season",kc:.85,duration:20,description:"Continued harvest and runner development"}]},{id:"blueberries",name:"Blueberries",category:"Berries",stages:[{name:"Initial",kc:.35,duration:30,description:"Bud break and leaf emergence"},{name:"Development",kc:.65,duration:40,description:"Flowering and fruit set"},{name:"Mid-season",kc:.95,duration:45,description:"Fruit development and ripening"},{name:"Late season",kc:.75,duration:35,description:"Harvest and fall preparation"}]},{id:"blackberries",name:"Blackberries",category:"Berries",stages:[{name:"Initial",kc:.3,duration:20,description:"Cane emergence and early growth"},{name:"Development",kc:.6,duration:35,description:"Lateral growth and flowering"},{name:"Mid-season",kc:.9,duration:40,description:"Fruit development and harvest"},{name:"Late season",kc:.7,duration:25,description:"Continued harvest and cane maturation"}]},{id:"lettuce",name:"Lettuce",category:"Leafy Greens",stages:[{name:"Initial",kc:.45,duration:15,description:"Seedling establishment"},{name:"Development",kc:.75,duration:25,description:"Leaf development and head formation"},{name:"Mid-season",kc:1,duration:30,description:"Head filling and maturation"},{name:"Late season",kc:.7,duration:10,description:"Harvest maturity"}]},{id:"spinach",name:"Spinach",category:"Leafy Greens",stages:[{name:"Initial",kc:.4,duration:12,description:"Germination and cotyledon stage"},{name:"Development",kc:.7,duration:20,description:"True leaf development"},{name:"Mid-season",kc:1,duration:25,description:"Rapid leaf growth"},{name:"Late season",kc:.75,duration:15,description:"Harvest maturity"}]},{id:"kale",name:"Kale",category:"Leafy Greens",stages:[{name:"Initial",kc:.4,duration:18,description:"Seedling establishment"},{name:"Development",kc:.7,duration:28,description:"Leaf development"},{name:"Mid-season",kc:1.05,duration:35,description:"Full leaf production"},{name:"Late season",kc:.8,duration:20,description:"Continuous harvest"}]},{id:"arugula",name:"Arugula",category:"Leafy Greens",stages:[{name:"Initial",kc:.45,duration:10,description:"Germination and early growth"},{name:"Development",kc:.75,duration:15,description:"Leaf development"},{name:"Mid-season",kc:1,duration:20,description:"Peak growth and harvest"},{name:"Late season",kc:.7,duration:10,description:"Final harvest"}]},{id:"tomatoes",name:"Tomatoes",category:"Vegetables",stages:[{name:"Initial",kc:.45,duration:20,description:"Transplanting and establishment"},{name:"Development",kc:.75,duration:30,description:"Vegetative growth and flowering"},{name:"Mid-season",kc:1.15,duration:40,description:"Fruit set and development"},{name:"Late season",kc:.8,duration:30,description:"Fruit ripening and harvest"}]},{id:"peppers",name:"Peppers",category:"Vegetables",stages:[{name:"Initial",kc:.4,duration:25,description:"Transplanting and early growth"},{name:"Development",kc:.7,duration:35,description:"Vegetative growth and flowering"},{name:"Mid-season",kc:1.05,duration:45,description:"Fruit development"},{name:"Late season",kc:.85,duration:25,description:"Fruit maturation and harvest"}]},{id:"cucumbers",name:"Cucumbers",category:"Vegetables",stages:[{name:"Initial",kc:.5,duration:15,description:"Germination and early growth"},{name:"Development",kc:.8,duration:25,description:"Vine development and flowering"},{name:"Mid-season",kc:1.1,duration:35,description:"Fruit production"},{name:"Late season",kc:.75,duration:15,description:"Final harvest"}]},{id:"carrots",name:"Carrots",category:"Vegetables",stages:[{name:"Initial",kc:.35,duration:20,description:"Germination and early leaf growth"},{name:"Development",kc:.7,duration:30,description:"Leaf development and root initiation"},{name:"Mid-season",kc:1.05,duration:50,description:"Root enlargement"},{name:"Late season",kc:.8,duration:30,description:"Root maturation and harvest"}]},{id:"broccoli",name:"Broccoli",category:"Vegetables",stages:[{name:"Initial",kc:.4,duration:20,description:"Transplanting and establishment"},{name:"Development",kc:.7,duration:25,description:"Vegetative growth"},{name:"Mid-season",kc:1.05,duration:30,description:"Head formation"},{name:"Late season",kc:.75,duration:15,description:"Head maturation and harvest"}]},{id:"corn",name:"Corn",category:"Field Crops",stages:[{name:"Initial",kc:.3,duration:25,description:"Emergence to V6 stage"},{name:"Development",kc:.7,duration:35,description:"V6 to tasseling"},{name:"Mid-season",kc:1.2,duration:40,description:"Tasseling to blister stage"},{name:"Late season",kc:.6,duration:30,description:"Dent stage to maturity"}]},{id:"soybeans",name:"Soybeans",category:"Field Crops",stages:[{name:"Initial",kc:.4,duration:15,description:"Emergence to V1 stage"},{name:"Development",kc:.7,duration:35,description:"V1 to R1 (flowering)"},{name:"Mid-season",kc:1.15,duration:45,description:"R1 to R6 (full seed)"},{name:"Late season",kc:.5,duration:25,description:"R6 to maturity"}]},{id:"wheat",name:"Wheat",category:"Field Crops",stages:[{name:"Initial",kc:.35,duration:30,description:"Emergence to tillering"},{name:"Development",kc:.7,duration:40,description:"Tillering to jointing"},{name:"Mid-season",kc:1.15,duration:50,description:"Jointing to grain filling"},{name:"Late season",kc:.4,duration:30,description:"Grain filling to harvest"}]},{id:"cotton",name:"Cotton",category:"Field Crops",stages:[{name:"Initial",kc:.35,duration:30,description:"Emergence to squaring"},{name:"Development",kc:.7,duration:50,description:"Squaring to flowering"},{name:"Mid-season",kc:1.15,duration:60,description:"Flowering to boll opening"},{name:"Late season",kc:.5,duration:45,description:"Boll opening to harvest"}]},{id:"alfalfa",name:"Alfalfa",category:"Field Crops",stages:[{name:"Initial",kc:.4,duration:10,description:"Post-cutting regrowth"},{name:"Development",kc:.7,duration:20,description:"Vegetative growth"},{name:"Mid-season",kc:1.2,duration:25,description:"Pre-bloom to 10% bloom"},{name:"Late season",kc:1.1,duration:10,description:"Harvest ready"}]},{id:"basil",name:"Basil",category:"Herbs",stages:[{name:"Initial",kc:.4,duration:15,description:"Seedling establishment"},{name:"Development",kc:.7,duration:25,description:"Vegetative growth"},{name:"Mid-season",kc:1.05,duration:45,description:"Full production"},{name:"Late season",kc:.8,duration:30,description:"Continuous harvest"}]},{id:"cilantro",name:"Cilantro",category:"Herbs",stages:[{name:"Initial",kc:.45,duration:12,description:"Germination and early growth"},{name:"Development",kc:.75,duration:18,description:"Leaf development"},{name:"Mid-season",kc:1,duration:25,description:"Peak harvest period"},{name:"Late season",kc:.7,duration:15,description:"Before bolting"}]},{id:"oregano",name:"Oregano",scientificName:"Origanum vulgare",category:"Herbs",stages:[{name:"Initial",kc:.35,duration:20,description:"Plant establishment"},{name:"Development",kc:.65,duration:30,description:"Vegetative growth"},{name:"Mid-season",kc:.95,duration:60,description:"Full production"},{name:"Late season",kc:.75,duration:40,description:"Continuous harvest"}]},{id:"wheat",name:"Wheat",scientificName:"Triticum aestivum",category:"Field Crops",stages:[{name:"Initial",kc:.4,duration:40,description:"Germination to tillering"},{name:"Development",kc:.7,duration:60,description:"Tillering to stem elongation"},{name:"Mid-season",kc:1.15,duration:40,description:"Flowering to grain filling"},{name:"Late season",kc:.65,duration:30,description:"Grain filling to maturity"}]},{id:"barley",name:"Barley",scientificName:"Hordeum vulgare",category:"Field Crops",stages:[{name:"Initial",kc:.3,duration:35,description:"Germination to tillering"},{name:"Development",kc:.65,duration:55,description:"Tillering to stem elongation"},{name:"Mid-season",kc:1.1,duration:35,description:"Flowering to grain filling"},{name:"Late season",kc:.6,duration:25,description:"Grain filling to maturity"}]},{id:"rice",name:"Rice",scientificName:"Oryza sativa",category:"Field Crops",stages:[{name:"Initial",kc:1.05,duration:30,description:"Transplanting to tillering"},{name:"Development",kc:1.15,duration:35,description:"Tillering to panicle initiation"},{name:"Mid-season",kc:1.3,duration:50,description:"Flowering to grain filling"},{name:"Late season",kc:.9,duration:30,description:"Grain filling to maturity"}]},{id:"sorghum",name:"Sorghum",scientificName:"Sorghum bicolor",category:"Field Crops",stages:[{name:"Initial",kc:.3,duration:25,description:"Emergence to tillering"},{name:"Development",kc:.55,duration:40,description:"Tillering to boot stage"},{name:"Mid-season",kc:1,duration:45,description:"Flowering to grain filling"},{name:"Late season",kc:.65,duration:35,description:"Grain filling to maturity"}]},{id:"cherries",name:"Cherries",scientificName:"Prunus avium",category:"Tree Fruits",stages:[{name:"Initial",kc:.45,duration:30,description:"Bud break to full bloom"},{name:"Development",kc:.8,duration:40,description:"Fruit set and development"},{name:"Mid-season",kc:1.05,duration:50,description:"Fruit development to pit hardening"},{name:"Late season",kc:.75,duration:30,description:"Fruit maturation to harvest"}]},{id:"apricots",name:"Apricots",scientificName:"Prunus armeniaca",category:"Tree Fruits",stages:[{name:"Initial",kc:.5,duration:35,description:"Bud break to bloom"},{name:"Development",kc:.85,duration:45,description:"Fruit set and early development"},{name:"Mid-season",kc:1.1,duration:55,description:"Rapid fruit growth"},{name:"Late season",kc:.8,duration:35,description:"Fruit maturation"}]},{id:"pears",name:"Pears",scientificName:"Pyrus communis",category:"Tree Fruits",stages:[{name:"Initial",kc:.45,duration:40,description:"Bud break to full bloom"},{name:"Development",kc:.75,duration:50,description:"Fruit set and cell division"},{name:"Mid-season",kc:1,duration:65,description:"Fruit development and sizing"},{name:"Late season",kc:.7,duration:40,description:"Fruit maturation"}]},{id:"plums",name:"Plums",scientificName:"Prunus domestica",category:"Tree Fruits",stages:[{name:"Initial",kc:.5,duration:35,description:"Bud break to petal fall"},{name:"Development",kc:.8,duration:45,description:"Fruit set to pit hardening"},{name:"Mid-season",kc:1.05,duration:60,description:"Fruit development and growth"},{name:"Late season",kc:.75,duration:30,description:"Fruit ripening"}]},{id:"onions",name:"Onions",scientificName:"Allium cepa",category:"Vegetables",stages:[{name:"Initial",kc:.7,duration:25,description:"Establishment and early growth"},{name:"Development",kc:1.05,duration:30,description:"Rapid leaf growth"},{name:"Mid-season",kc:1.2,duration:40,description:"Bulb development"},{name:"Late season",kc:.8,duration:25,description:"Bulb maturation"}]},{id:"potatoes",name:"Potatoes",scientificName:"Solanum tuberosum",category:"Vegetables",stages:[{name:"Initial",kc:.5,duration:25,description:"Emergence to canopy development"},{name:"Development",kc:.75,duration:35,description:"Vegetative growth and tuber initiation"},{name:"Mid-season",kc:1.15,duration:50,description:"Tuber development and bulking"},{name:"Late season",kc:.75,duration:25,description:"Tuber maturation"}]},{id:"sweet_potatoes",name:"Sweet Potatoes",scientificName:"Ipomoea batatas",category:"Vegetables",stages:[{name:"Initial",kc:.5,duration:20,description:"Plant establishment"},{name:"Development",kc:.75,duration:30,description:"Vine development"},{name:"Mid-season",kc:1.15,duration:60,description:"Full canopy and root development"},{name:"Late season",kc:.65,duration:40,description:"Root maturation"}]},{id:"beets",name:"Beets",scientificName:"Beta vulgaris",category:"Vegetables",stages:[{name:"Initial",kc:.5,duration:20,description:"Germination and establishment"},{name:"Development",kc:.75,duration:25,description:"Leaf development"},{name:"Mid-season",kc:1.05,duration:35,description:"Root development"},{name:"Late season",kc:.95,duration:20,description:"Root maturation"}]},{id:"radishes",name:"Radishes",scientificName:"Raphanus sativus",category:"Vegetables",stages:[{name:"Initial",kc:.7,duration:10,description:"Germination and early growth"},{name:"Development",kc:.9,duration:10,description:"Leaf development"},{name:"Mid-season",kc:1,duration:15,description:"Root development"},{name:"Late season",kc:.9,duration:10,description:"Root maturation"}]},{id:"turnips",name:"Turnips",scientificName:"Brassica rapa",category:"Vegetables",stages:[{name:"Initial",kc:.5,duration:20,description:"Germination and establishment"},{name:"Development",kc:.7,duration:25,description:"Leaf development"},{name:"Mid-season",kc:1.1,duration:35,description:"Root development"},{name:"Late season",kc:.95,duration:20,description:"Root maturation"}]},{id:"cauliflower",name:"Cauliflower",scientificName:"Brassica oleracea",category:"Vegetables",stages:[{name:"Initial",kc:.7,duration:25,description:"Transplant establishment"},{name:"Development",kc:1.05,duration:35,description:"Vegetative growth"},{name:"Mid-season",kc:1.2,duration:40,description:"Head development"},{name:"Late season",kc:1.1,duration:15,description:"Head maturation"}]},{id:"cabbage",name:"Cabbage",scientificName:"Brassica oleracea var. capitata",category:"Vegetables",stages:[{name:"Initial",kc:.7,duration:25,description:"Transplant establishment"},{name:"Development",kc:1.05,duration:35,description:"Vegetative growth"},{name:"Mid-season",kc:1.2,duration:50,description:"Head formation"},{name:"Late season",kc:1,duration:20,description:"Head maturation"}]},{id:"soybeans",name:"Soybeans",scientificName:"Glycine max",category:"Legumes",stages:[{name:"Initial",kc:.5,duration:25,description:"Emergence to first trifoliate"},{name:"Development",kc:.75,duration:35,description:"Vegetative growth"},{name:"Mid-season",kc:1.15,duration:60,description:"Flowering to pod fill"},{name:"Late season",kc:.7,duration:25,description:"Pod fill to maturity"}]},{id:"chickpeas",name:"Chickpeas",scientificName:"Cicer arietinum",category:"Legumes",stages:[{name:"Initial",kc:.4,duration:30,description:"Emergence to flowering"},{name:"Development",kc:.7,duration:40,description:"Flowering to pod formation"},{name:"Mid-season",kc:1.15,duration:50,description:"Pod filling"},{name:"Late season",kc:.6,duration:25,description:"Maturation"}]},{id:"lentils",name:"Lentils",scientificName:"Lens culinaris",category:"Legumes",stages:[{name:"Initial",kc:.4,duration:25,description:"Emergence to branching"},{name:"Development",kc:.7,duration:35,description:"Branching to flowering"},{name:"Mid-season",kc:1.1,duration:50,description:"Flowering to pod filling"},{name:"Late season",kc:.6,duration:20,description:"Pod filling to maturity"}]},{id:"black_beans",name:"Black Beans",scientificName:"Phaseolus vulgaris",category:"Legumes",stages:[{name:"Initial",kc:.5,duration:20,description:"Emergence to first trifoliate"},{name:"Development",kc:.75,duration:30,description:"Vegetative growth"},{name:"Mid-season",kc:1.2,duration:40,description:"Flowering to pod filling"},{name:"Late season",kc:.9,duration:20,description:"Pod filling to harvest"}]},{id:"rosemary",name:"Rosemary",scientificName:"Rosmarinus officinalis",category:"Herbs",stages:[{name:"Initial",kc:.3,duration:30,description:"Plant establishment"},{name:"Development",kc:.6,duration:40,description:"Vegetative growth"},{name:"Mid-season",kc:.85,duration:80,description:"Full production"},{name:"Late season",kc:.7,duration:50,description:"Continuous harvest"}]},{id:"thyme",name:"Thyme",scientificName:"Thymus vulgaris",category:"Herbs",stages:[{name:"Initial",kc:.35,duration:25,description:"Plant establishment"},{name:"Development",kc:.65,duration:35,description:"Vegetative growth"},{name:"Mid-season",kc:.9,duration:70,description:"Full production"},{name:"Late season",kc:.75,duration:45,description:"Continuous harvest"}]},{id:"sage",name:"Sage",scientificName:"Salvia officinalis",category:"Herbs",stages:[{name:"Initial",kc:.4,duration:30,description:"Plant establishment"},{name:"Development",kc:.7,duration:40,description:"Vegetative growth"},{name:"Mid-season",kc:.95,duration:75,description:"Full production"},{name:"Late season",kc:.8,duration:50,description:"Continuous harvest"}]},{id:"mint",name:"Mint",scientificName:"Mentha spicata",category:"Herbs",stages:[{name:"Initial",kc:.6,duration:20,description:"Plant establishment"},{name:"Development",kc:.9,duration:30,description:"Rapid vegetative growth"},{name:"Mid-season",kc:1.15,duration:60,description:"Full production"},{name:"Late season",kc:1,duration:40,description:"Continuous harvest"}]},{id:"parsley",name:"Parsley",scientificName:"Petroselinum crispum",category:"Herbs",stages:[{name:"Initial",kc:.5,duration:20,description:"Germination and establishment"},{name:"Development",kc:.8,duration:30,description:"Vegetative growth"},{name:"Mid-season",kc:1.05,duration:60,description:"Full production"},{name:"Late season",kc:.95,duration:45,description:"Continuous harvest"}]},{id:"chives",name:"Chives",scientificName:"Allium schoenoprasum",category:"Herbs",stages:[{name:"Initial",kc:.5,duration:25,description:"Plant establishment"},{name:"Development",kc:.75,duration:30,description:"Vegetative growth"},{name:"Mid-season",kc:1,duration:70,description:"Full production"},{name:"Late season",kc:.9,duration:50,description:"Continuous harvest"}]},{id:"sunflowers",name:"Sunflowers",scientificName:"Helianthus annuus",category:"Specialty Crops",stages:[{name:"Initial",kc:.35,duration:25,description:"Emergence to bud stage"},{name:"Development",kc:.75,duration:35,description:"Bud development to flowering"},{name:"Mid-season",kc:1.15,duration:45,description:"Flowering to seed filling"},{name:"Late season",kc:.35,duration:25,description:"Seed maturation"}]},{id:"canola",name:"Canola",scientificName:"Brassica napus",category:"Specialty Crops",stages:[{name:"Initial",kc:.35,duration:30,description:"Emergence to rosette"},{name:"Development",kc:.75,duration:50,description:"Rosette to flowering"},{name:"Mid-season",kc:1.15,duration:40,description:"Flowering to pod development"},{name:"Late season",kc:.35,duration:30,description:"Pod filling to maturity"}]},{id:"sesame",name:"Sesame",scientificName:"Sesamum indicum",category:"Specialty Crops",stages:[{name:"Initial",kc:.35,duration:20,description:"Emergence to branching"},{name:"Development",kc:.75,duration:30,description:"Vegetative growth"},{name:"Mid-season",kc:1.1,duration:40,description:"Flowering to capsule formation"},{name:"Late season",kc:.6,duration:25,description:"Capsule filling to maturity"}]}],yH=()=>{const r={};return lk.forEach(e=>{r[e.category]||(r[e.category]=[]),r[e.category].push(e)}),r},vH=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],bH=[{name:"Phoenix, AZ",latitude:33.4484,longitude:-112.074,state:"Arizona",region:"Sonoran Desert"},{name:"Denver, CO",latitude:39.7392,longitude:-104.9903,state:"Colorado",region:"Front Range"},{name:"Orlando, FL",latitude:28.5383,longitude:-81.3792,state:"Florida",region:"Central Florida"},{name:"Atlanta, GA",latitude:33.749,longitude:-84.388,state:"Georgia",region:"North Georgia"},{name:"Des Moines, IA",latitude:41.5868,longitude:-93.625,state:"Iowa",region:"Central Iowa"},{name:"Wichita, KS",latitude:37.6872,longitude:-97.3301,state:"Kansas",region:"South Central Kansas"},{name:"Portland, OR",latitude:45.5152,longitude:-122.6784,state:"Oregon",region:"Willamette Valley"},{name:"Dallas, TX",latitude:32.7767,longitude:-96.797,state:"Texas",region:"North Texas"},{name:"Salt Lake City, UT",latitude:40.7608,longitude:-111.891,state:"Utah",region:"Salt Lake Valley"},{name:"Seattle, WA",latitude:47.6062,longitude:-122.3321,state:"Washington",region:"Puget Sound"}],_H=({isOpen:r,onClose:e})=>{const{addLocation:t}=Au(),[n,a]=I.useState({name:"",latitude:"",longitude:"",state:"",region:""}),[i,l]=I.useState(""),[u,h]=I.useState(!1),[f,g]=I.useState(!1),[x,y]=I.useState({});if(!r)return null;const v=bH.filter(N=>N.name.toLowerCase().includes(i.toLowerCase())||N.state.toLowerCase().includes(i.toLowerCase())||N.region.toLowerCase().includes(i.toLowerCase())),w=()=>{const N={};return n.name.trim()||(N.name="Location name is required"),(n.latitude===""||n.latitude<-90||n.latitude>90)&&(N.latitude="Valid latitude (-90 to 90) is required"),(n.longitude===""||n.longitude<-180||n.longitude>180)&&(N.longitude="Valid longitude (-180 to 180) is required"),n.state.trim()||(N.state="State is required"),n.region.trim()||(N.region="Region is required"),y(N),Object.keys(N).length===0},_=async N=>{if(N.preventDefault(),!!w()){g(!0);try{t({name:n.name.trim(),latitude:Number(n.latitude),longitude:Number(n.longitude),state:n.state,region:n.region.trim()}),a({name:"",latitude:"",longitude:"",state:"",region:""}),y({}),e()}catch(T){console.error("Error adding location:",T)}finally{g(!1)}}},S=N=>{a({name:N.name,latitude:N.latitude,longitude:N.longitude,state:N.state,region:N.region}),h(!0)},E=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by this browser.");return}g(!0),navigator.geolocation.getCurrentPosition(async N=>{const{latitude:T,longitude:M}=N.coords;try{a({name:`Location ${T.toFixed(4)}, ${M.toFixed(4)}`,latitude:parseFloat(T.toFixed(6)),longitude:parseFloat(M.toFixed(6)),state:"",region:"Current Location"}),h(!0)}catch(C){console.error("Error getting location details:",C)}finally{g(!1)}},N=>{console.error("Error getting current location:",N),alert("Unable to get your current location. Please enter coordinates manually."),g(!1)})};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center",children:[c.jsx(xn,{className:"w-5 h-5 mr-2"}),"Add New Location"]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(Hr,{className:"w-6 h-6"})})]}),u?c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Location Name *"}),c.jsx("input",{type:"text",value:n.name,onChange:N=>a({...n,name:N.target.value}),placeholder:"e.g., Farm Name, City, CA",className:`w-full px-4 py-3 bg-gray-800 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 ${x.name?"border-red-500":"border-gray-700"}`}),x.name&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.name})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Latitude *"}),c.jsx("input",{type:"number",step:"0.000001",value:n.latitude,onChange:N=>a({...n,latitude:N.target.value===""?"":parseFloat(N.target.value)}),placeholder:"e.g., 36.7378",className:`w-full px-4 py-3 bg-gray-800 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 ${x.latitude?"border-red-500":"border-gray-700"}`}),x.latitude&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.latitude})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Longitude *"}),c.jsx("input",{type:"number",step:"0.000001",value:n.longitude,onChange:N=>a({...n,longitude:N.target.value===""?"":parseFloat(N.target.value)}),placeholder:"e.g., -119.7871",className:`w-full px-4 py-3 bg-gray-800 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 ${x.longitude?"border-red-500":"border-gray-700"}`}),x.longitude&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.longitude})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"State *"}),c.jsxs("select",{value:n.state,onChange:N=>a({...n,state:N.target.value}),className:`w-full px-4 py-3 bg-gray-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${x.state?"border-red-500":"border-gray-700"}`,children:[c.jsx("option",{value:"",children:"Select a state"}),vH.map(N=>c.jsx("option",{value:N,children:N},N))]}),x.state&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.state})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Region *"}),c.jsx("input",{type:"text",value:n.region,onChange:N=>a({...n,region:N.target.value}),placeholder:"e.g., Central Valley, Willamette Valley",className:`w-full px-4 py-3 bg-gray-800 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 ${x.region?"border-red-500":"border-gray-700"}`}),x.region&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.region})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Back"}),c.jsxs("button",{type:"submit",disabled:f,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center",children:[c.jsx(ss,{className:"w-5 h-5 mr-2"}),f?"Adding...":"Add Location"]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(Cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Search popular locations...",value:i,onChange:N=>l(N.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500"})]})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Popular Agricultural Locations"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-60 overflow-y-auto",children:v.map((N,T)=>c.jsxs("button",{onClick:()=>S(N),className:"text-left p-3 bg-gray-800 hover:bg-gray-700 rounded-lg border border-gray-700 hover:border-blue-500 transition-colors",children:[c.jsx("div",{className:"font-medium text-white",children:N.name}),c.jsx("div",{className:"text-sm text-gray-400",children:N.region}),c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[N.latitude.toFixed(4),", ",N.longitude.toFixed(4)]})]},T))})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:E,disabled:f,className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[c.jsx(sR,{className:"w-5 h-5 mr-2"}),f?"Getting Location...":"Use Current Location"]}),c.jsxs("button",{onClick:()=>h(!0),className:"w-full flex items-center justify-center px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:[c.jsx(O4,{className:"w-5 h-5 mr-2"}),"Enter Location Manually"]})]})]})]})})})},wH=({isOpen:r,onClose:e,availableCrops:t,selectedCrops:n,onCropToggle:a,onAddCropInstance:i,onAddAllCrops:l,onRemoveAllCrops:u})=>{const[h,f]=I.useState(""),[g,x]=I.useState("All");if(!r)return null;const y=yH(),v=["All",...Object.keys(y)],w=t.filter(E=>{const N=E.name.toLowerCase().includes(h.toLowerCase())||E.category.toLowerCase().includes(h.toLowerCase()),T=g==="All"||E.category===g;return N&&T}),_=n.length,S=t.length;return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(da,{className:"w-6 h-6 text-green-400 mr-3"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:"Crop Management"}),c.jsxs("p",{className:"text-sm text-gray-400",children:[_," of ",S," crops selected"]})]})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(Hr,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Search crops...",value:h,onChange:E=>f(E.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(BO,{className:"w-5 h-5 text-gray-400"}),c.jsx("select",{value:g,onChange:E=>x(E.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:v.map(E=>c.jsx("option",{value:E,children:E},E))})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:l,className:"px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors whitespace-nowrap",children:"Select All"}),c.jsx("button",{onClick:u,className:"px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors whitespace-nowrap",children:"Clear All"})]})]})]}),c.jsxs("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 200px)"},children:[g!=="All"&&c.jsxs("div",{className:"mb-6 p-4 bg-gray-800 rounded-lg border border-gray-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:g}),c.jsxs("p",{className:"text-sm text-gray-400",children:[y[g]?.length||0," crops available in this category"]})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:w.map(E=>{const N=n.includes(E.id);return c.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all hover:scale-[1.02] ${N?"border-green-500 bg-green-900/20 shadow-lg shadow-green-500/20":"border-gray-600 bg-gray-800 hover:border-gray-500 hover:bg-gray-750"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h4",{className:"font-semibold text-white text-sm",children:E.name}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:T=>{T.stopPropagation(),i(E)},className:"p-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-xs",title:"Add crop instance with planting date",children:c.jsx(ss,{className:"w-3 h-3"})}),c.jsx("button",{onClick:T=>{T.stopPropagation(),a(E.id)},className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${N?"bg-green-500 border-green-500":"border-gray-400 hover:border-gray-300"}`,title:N?"Remove from selection":"Add to selection",children:N&&c.jsx(wO,{className:"w-3 h-3 text-white"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-blue-400 font-medium",children:E.category}),E.scientificName&&c.jsx("p",{className:"text-xs text-gray-500 italic",children:E.scientificName}),c.jsxs("p",{className:"text-xs text-gray-400",children:[E.stages.length," growth stages"]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Kc Range:"}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-gray-400",children:Math.min(...E.stages.map(T=>T.kc)).toFixed(2)}),c.jsx("div",{className:"flex-1 mx-2 h-1 bg-gray-700 rounded",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 rounded",style:{width:`${Math.max(...E.stages.map(T=>T.kc))/1.5*100}%`}})}),c.jsx("span",{className:"text-gray-400",children:Math.max(...E.stages.map(T=>T.kc)).toFixed(2)})]})]}),c.jsxs("div",{className:"mt-2 p-2 bg-gray-900 rounded text-xs",children:[c.jsx("div",{className:"text-gray-400 mb-1",children:"Latest Stage:"}),c.jsx("div",{className:"text-white font-medium",children:E.stages[E.stages.length-1].name}),c.jsxs("div",{className:"text-gray-500 text-xs",children:["Kc: ",E.stages[E.stages.length-1].kc]})]})]})]},E.id)})}),w.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(da,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No crops found"}),c.jsx("p",{className:"text-gray-400",children:"Try adjusting your search or category filter"})]})]}),c.jsx("div",{className:"p-6 border-t border-gray-700 bg-gray-800",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",w.length," of ",S," crops"]}),c.jsx("button",{onClick:e,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Done"})]})})]})})},SH=({isOpen:r,onClose:e,crop:t,onAddInstance:n})=>{const[a,i]=I.useState(""),[l,u]=I.useState(0),[h,f]=I.useState(""),[g,x]=I.useState(""),[y,v]=I.useState();if(!r)return null;const w=T=>{if(T.preventDefault(),!a){alert("Please select a planting date");return}n({cropId:t.id,plantingDate:a,currentStage:l,customStageDays:y,fieldName:h||void 0,notes:g||void 0}),i(""),u(0),f(""),x(""),v(void 0),e()},_=()=>{if(!a)return 0;const T=new Date(a),C=new Date().getTime()-T.getTime();return Math.floor(C/(1e3*60*60*24))},E=(()=>{if(l>=t.stages.length)return null;const T=t.stages[l],M=_();let C=0;for(let O=0;O<l;O++)C+=t.stages[O].duration;const V=M-C,D=y??T.duration,Y=Math.max(0,D-V);return{stage:T,daysIntoStage:Math.max(0,V),daysRemaining:Y,isOverdue:V>D}})(),N=_();return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"p-6 border-b border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-green-900 rounded-lg",children:c.jsx(da,{className:"w-5 h-5 text-green-400"})}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Add ",t.name," Instance"]}),c.jsxs("p",{className:"text-sm text-gray-400",children:[t.scientificName&&c.jsx("span",{className:"italic",children:t.scientificName}),t.scientificName&&"  ",t.category]})]})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(Hr,{className:"w-6 h-6"})})]})}),c.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[c.jsx(iu,{className:"w-4 h-4 inline mr-2"}),"Planting Date *"]}),c.jsx("input",{type:"date",value:a,onChange:T=>i(T.target.value),max:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a&&c.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[N," days since planting"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Field/Area Name (Optional)"}),c.jsx("input",{type:"text",value:h,onChange:T=>f(T.target.value),placeholder:"e.g., North Field, Block A, Greenhouse 1",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Growth Stage"}),c.jsx("select",{value:l,onChange:T=>u(parseInt(T.target.value)),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:t.stages.map((T,M)=>c.jsxs("option",{value:M,children:[T.name," (Kc: ",T.kc,", ",T.duration," days)"]},M))}),E&&c.jsx("div",{className:"mt-3 p-3 bg-gray-800 rounded-lg border border-gray-700",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(Af,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"text-white font-medium",children:E.stage.name}),c.jsx("p",{className:"text-gray-400 mt-1",children:E.stage.description}),c.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4 text-xs",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Days into stage:"}),c.jsx("span",{className:`ml-2 font-mono ${E.isOverdue?"text-orange-400":"text-green-400"}`,children:E.daysIntoStage})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Days remaining:"}),c.jsx("span",{className:`ml-2 font-mono ${E.isOverdue?"text-red-400":"text-blue-400"}`,children:E.isOverdue?"Overdue":E.daysRemaining})]})]}),E.isOverdue&&c.jsx("p",{className:"text-orange-400 text-xs mt-2",children:" This stage is overdue. Consider advancing to the next stage."})]})]})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Stage Duration (Optional)"}),c.jsx("input",{type:"number",value:y||"",onChange:T=>v(T.target.value?parseInt(T.target.value):void 0),placeholder:`Default: ${t.stages[l]?.duration||0} days`,min:"1",max:"365",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Override the default duration for this specific planting"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes (Optional)"}),c.jsx("textarea",{value:g,onChange:T=>x(T.target.value),placeholder:"Add any notes about this planting...",rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:"Growth Stage Timeline"}),c.jsx("div",{className:"space-y-2",children:t.stages.map((T,M)=>{let C=0;for(let Y=0;Y<M;Y++)C+=t.stages[Y].duration;const V=M===l,D=N>C+T.duration;return c.jsxs("div",{className:`p-2 rounded-lg border text-xs ${V?"bg-blue-900/50 border-blue-600 text-blue-200":D?"bg-green-900/30 border-green-700 text-green-200":"bg-gray-800 border-gray-700 text-gray-400"}`,children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-medium",children:T.name}),c.jsxs("span",{className:"font-mono",children:["Days ",C+1,"-",C+T.duration]})]}),c.jsxs("div",{className:"flex justify-between mt-1",children:[c.jsxs("span",{children:["Kc: ",T.kc]}),c.jsxs("span",{children:[T.duration," days"]})]})]},M)})})]}),c.jsxs("div",{className:"flex items-center space-x-3 pt-4 border-t border-gray-700",children:[c.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Add Crop Instance"}),c.jsx("button",{type:"button",onClick:e,className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Cancel"})]})]})]})})},NH=[{id:"clay_heavy",name:"Heavy Clay",category:"clay",characteristics:{waterHoldingCapacity:200,fieldCapacity:45,wiltingPoint:25,availableWaterCapacity:200,infiltrationRate:2,drainageRate:"poor",bulkDensity:1.3,organicMatter:3,description:"Fine-textured soil with high water retention but slow drainage",irrigationFactor:.85},color:"#8B4513",texture:"Fine, sticky when wet, hard when dry",commonCrops:["Rice","Cotton","Soybeans"]},{id:"clay_medium",name:"Clay Loam",category:"clay",characteristics:{waterHoldingCapacity:180,fieldCapacity:40,wiltingPoint:20,availableWaterCapacity:180,infiltrationRate:5,drainageRate:"moderate",bulkDensity:1.35,organicMatter:4,description:"Balanced soil with good water retention and moderate drainage",irrigationFactor:.9},color:"#A0522D",texture:"Smooth, moldable, moderate plasticity",commonCrops:["Wheat","Corn","Alfalfa"]},{id:"loam_silty",name:"Silt Loam",category:"silt",characteristics:{waterHoldingCapacity:160,fieldCapacity:35,wiltingPoint:15,availableWaterCapacity:160,infiltrationRate:8,drainageRate:"good",bulkDensity:1.4,organicMatter:3.5,description:"Smooth-textured soil with excellent water and nutrient retention",irrigationFactor:.95},color:"#CD853F",texture:"Smooth, floury feel when dry, slippery when wet",commonCrops:["Vegetables","Small grains","Perennial crops"]},{id:"loam_standard",name:"Loam",category:"loam",characteristics:{waterHoldingCapacity:140,fieldCapacity:30,wiltingPoint:12,availableWaterCapacity:140,infiltrationRate:12,drainageRate:"good",bulkDensity:1.45,organicMatter:4,description:"Ideal agricultural soil with balanced sand, silt, and clay",irrigationFactor:1},color:"#DEB887",texture:"Balanced feel, neither sticky nor gritty",commonCrops:["Most crops","Fruits","Vegetables","Grains"]},{id:"loam_sandy",name:"Sandy Loam",category:"sand",characteristics:{waterHoldingCapacity:120,fieldCapacity:25,wiltingPoint:10,availableWaterCapacity:120,infiltrationRate:20,drainageRate:"good",bulkDensity:1.5,organicMatter:2.5,description:"Well-draining soil with moderate water retention",irrigationFactor:1.05},color:"#F4A460",texture:"Gritty feel, crumbles easily",commonCrops:["Potatoes","Carrots","Peanuts","Berries"]},{id:"sand_loamy",name:"Loamy Sand",category:"sand",characteristics:{waterHoldingCapacity:80,fieldCapacity:18,wiltingPoint:6,availableWaterCapacity:80,infiltrationRate:30,drainageRate:"excessive",bulkDensity:1.55,organicMatter:2,description:"Fast-draining soil requiring frequent irrigation",irrigationFactor:1.15},color:"#F5DEB3",texture:"Very gritty, loose structure",commonCrops:["Root vegetables","Melons","Quick-growing crops"]},{id:"sand_fine",name:"Fine Sand",category:"sand",characteristics:{waterHoldingCapacity:60,fieldCapacity:15,wiltingPoint:4,availableWaterCapacity:60,infiltrationRate:40,drainageRate:"excessive",bulkDensity:1.6,organicMatter:1.5,description:"Very fast-draining, low water retention",irrigationFactor:1.25},color:"#FFEAA7",texture:"Fine gritty feel, very loose",commonCrops:["Asparagus","Herbs","Drought-tolerant crops"]},{id:"organic_peat",name:"Peat Soil",category:"organic",characteristics:{waterHoldingCapacity:300,fieldCapacity:60,wiltingPoint:30,availableWaterCapacity:300,infiltrationRate:15,drainageRate:"moderate",bulkDensity:.8,organicMatter:25,description:"High organic matter soil with excellent water retention",irrigationFactor:.8},color:"#2D3436",texture:"Spongy, dark, high organic content",commonCrops:["Celery","Onions","Specialty vegetables"]},{id:"adobe_clay",name:"Adobe Clay",category:"clay",characteristics:{waterHoldingCapacity:220,fieldCapacity:50,wiltingPoint:30,availableWaterCapacity:200,infiltrationRate:1,drainageRate:"poor",bulkDensity:1.25,organicMatter:2,description:"Very heavy clay with extreme water retention and poor drainage",irrigationFactor:.75},color:"#6C5CE7",texture:"Extremely fine, plastic when wet, very hard when dry",commonCrops:["Rice","Water-tolerant crops"]}],EH=({isOpen:r,onClose:e,selectedSoilId:t,onSoilSelect:n})=>{const[a,i]=I.useState(""),[l,u]=I.useState("all");if(!r)return null;const h=NH.filter(x=>{const y=x.name.toLowerCase().includes(a.toLowerCase())||x.texture.toLowerCase().includes(a.toLowerCase())||x.characteristics.description.toLowerCase().includes(a.toLowerCase()),v=l==="all"||x.category===l;return y&&v}),f=x=>{switch(x){case"poor":return c.jsx(MR,{className:"w-4 h-4 text-red-400"});case"moderate":return c.jsx(Aa,{className:"w-4 h-4 text-yellow-400"});case"good":return c.jsx(Aa,{className:"w-4 h-4 text-green-400"});case"excessive":return c.jsx(Aa,{className:"w-4 h-4 text-blue-400"});default:return c.jsx(Aa,{className:"w-4 h-4 text-gray-400"})}},g=x=>{switch(x){case"poor":return"text-red-400";case"moderate":return"text-yellow-400";case"good":return"text-green-400";case"excessive":return"text-blue-400";default:return"text-gray-400"}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-amber-900 rounded-lg",children:c.jsx(Qn,{className:"w-5 h-5 text-amber-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:"Select Soil Type"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Choose your soil type for accurate irrigation calculations"})]})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(Hr,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search soil types...",value:a,onChange:x=>i(x.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-amber-500"})]}),c.jsxs("select",{value:l,onChange:x=>u(x.target.value),className:"px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-amber-500",children:[c.jsx("option",{value:"all",children:"All Categories"}),c.jsx("option",{value:"clay",children:"Clay Soils"}),c.jsx("option",{value:"loam",children:"Loam Soils"}),c.jsx("option",{value:"sand",children:"Sandy Soils"}),c.jsx("option",{value:"silt",children:"Silt Soils"}),c.jsx("option",{value:"organic",children:"Organic Soils"})]})]})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(x=>{const y=t===x.id;return c.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:scale-[1.02] ${y?"border-amber-500 bg-amber-900/20 shadow-lg shadow-amber-500/20":"border-gray-600 bg-gray-800 hover:border-gray-500 hover:bg-gray-750"}`,onClick:()=>n(x),children:[c.jsx("div",{className:"w-full h-2 rounded-full mb-3",style:{backgroundColor:x.color}}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h4",{className:"font-semibold text-white text-sm",children:x.name}),c.jsx("span",{className:"text-xs bg-gray-700 text-gray-300 px-2 py-1 rounded-full",children:x.category})]}),c.jsx("p",{className:"text-xs text-gray-400 mb-3",children:x.texture}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3 text-xs",children:[c.jsxs("div",{className:"bg-gray-900 p-2 rounded",children:[c.jsx("div",{className:"text-gray-500",children:"Water Capacity"}),c.jsxs("div",{className:"text-white font-semibold",children:[x.characteristics.availableWaterCapacity,"mm/m"]})]}),c.jsxs("div",{className:"bg-gray-900 p-2 rounded",children:[c.jsx("div",{className:"text-gray-500",children:"Infiltration"}),c.jsxs("div",{className:"text-white font-semibold",children:[x.characteristics.infiltrationRate,"mm/h"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-xs text-gray-500",children:"Drainage:"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[f(x.characteristics.drainageRate),c.jsx("span",{className:`text-xs font-medium ${g(x.characteristics.drainageRate)}`,children:x.characteristics.drainageRate})]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-xs text-gray-500",children:"Irrigation Factor:"}),c.jsxs("span",{className:`text-xs font-semibold ${x.characteristics.irrigationFactor>1?"text-orange-400":x.characteristics.irrigationFactor<.9?"text-blue-400":"text-green-400"}`,children:[x.characteristics.irrigationFactor,"x"]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Common Crops:"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[x.commonCrops.slice(0,3).map((v,w)=>c.jsx("span",{className:"text-xs bg-gray-700 text-gray-300 px-1.5 py-0.5 rounded",children:v},w)),x.commonCrops.length>3&&c.jsxs("span",{className:"text-xs text-gray-500",children:["+",x.commonCrops.length-3]})]})]}),c.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:x.characteristics.description}),y&&c.jsx("div",{className:"mt-3 p-2 bg-amber-900/50 border border-amber-600 rounded",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Af,{className:"w-3 h-3 text-amber-400 flex-shrink-0"}),c.jsx("span",{className:"text-xs text-amber-200",children:"Selected for calculations"})]})})]},x.id)})}),h.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Qn,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Soil Types Found"}),c.jsx("p",{className:"text-gray-400",children:"Try adjusting your search or filter criteria"})]})]}),c.jsx("div",{className:"p-6 border-t border-gray-700 bg-gray-800/50",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm text-gray-400",children:[h.length," soil types available"]}),c.jsx("button",{onClick:e,className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Close"})]})})]})})};jl.register(xp,pp,dp,up,hp,CF,mp,gp,fp);const kH=({soilType:r,etcValue:e,irrigationRuntime:t,systemEfficiency:n,cropName:a="Selected Crop"})=>{const l=(()=>{if(!r)return[];const y=[],v=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],w=r.characteristics.infiltrationRate;let _=1;w>20?_=1:w>10?_=2:w>5?_=3:_=5;for(let S=0;S<7;S++){const E=S%_===0;y.push({day:v[S],runtime:E?t:0,etc:E?e*.0393701:0})}return y})(),u={labels:["0-12in","12-24in","24-36in","36-48in"],datasets:[{label:"Field Capacity",data:r?[r.characteristics.fieldCapacity,r.characteristics.fieldCapacity*.9,r.characteristics.fieldCapacity*.8,r.characteristics.fieldCapacity*.7]:[25,22,20,18],backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgb(59, 130, 246)",borderWidth:2},{label:"Wilting Point",data:r?[r.characteristics.wiltingPoint,r.characteristics.wiltingPoint*.9,r.characteristics.wiltingPoint*.8,r.characteristics.wiltingPoint*.7]:[10,9,8,7],backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"rgb(239, 68, 68)",borderWidth:2},{label:"Current Moisture",data:r?[(r.characteristics.fieldCapacity+r.characteristics.wiltingPoint)/2,(r.characteristics.fieldCapacity+r.characteristics.wiltingPoint)/2*.9,(r.characteristics.fieldCapacity+r.characteristics.wiltingPoint)/2*.8,(r.characteristics.fieldCapacity+r.characteristics.wiltingPoint)/2*.7]:[17,15,14,12],backgroundColor:"rgba(34, 197, 94, 0.6)",borderColor:"rgb(34, 197, 94)",borderWidth:2}]},h={labels:l.map(y=>y.day),datasets:[{label:"Runtime (minutes)",data:l.map(y=>y.runtime),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgb(34, 197, 94)",borderWidth:2,yAxisID:"y"},{label:"ETc (inches)",data:l.map(y=>y.etc),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:2,yAxisID:"y1"}]},f={labels:["Applied Water","Evapotranspiration","Deep Drainage","Runoff"],datasets:[{data:[t*.8,e,Math.max(0,t*.15-e*.1),t*.05],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(59, 130, 246, 0.8)","rgba(168, 85, 247, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgb(34, 197, 94)","rgb(59, 130, 246)","rgb(168, 85, 247)","rgb(239, 68, 68)"],borderWidth:2}]},g={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"rgb(156, 163, 175)"}},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.9)",titleColor:"rgb(255, 255, 255)",bodyColor:"rgb(156, 163, 175)",borderColor:"rgba(75, 85, 99, 0.5)",borderWidth:1}},scales:{x:{ticks:{color:"rgb(156, 163, 175)"},grid:{color:"rgba(75, 85, 99, 0.3)"}},y:{ticks:{color:"rgb(156, 163, 175)"},grid:{color:"rgba(75, 85, 99, 0.3)"}},y1:{type:"linear",display:!0,position:"right",ticks:{color:"rgb(156, 163, 175)"},grid:{drawOnChartArea:!1}}}},x={...g,scales:{x:{ticks:{color:"rgb(156, 163, 175)"},grid:{color:"rgba(75, 85, 99, 0.3)"}},y:{ticks:{color:"rgb(156, 163, 175)"},grid:{color:"rgba(75, 85, 99, 0.3)"},title:{display:!0,text:"Volumetric Water Content (%)",color:"rgb(156, 163, 175)"}}}};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Irrigation Analysis Dashboard"}),c.jsxs("p",{className:"text-gray-400",children:["Visual insights for ",a," on ",r?.name||"selected soil"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-blue-900 rounded-lg",children:c.jsx(Qn,{className:"h-5 w-5 text-blue-400"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-400",children:"Daily ETc"}),c.jsxs("div",{className:"text-xl font-bold text-white",children:[(e*.0393701).toFixed(3)," in"]})]})]})}),c.jsx("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-green-900 rounded-lg",children:c.jsx(iu,{className:"h-5 w-5 text-green-400"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-400",children:"Runtime"}),c.jsxs("div",{className:"text-xl font-bold text-white",children:[t," min"]})]})]})}),c.jsx("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-purple-900 rounded-lg",children:c.jsx(CR,{className:"h-5 w-5 text-purple-400"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-400",children:"Efficiency"}),c.jsxs("div",{className:"text-xl font-bold text-white",children:[n,"%"]})]})]})}),c.jsx("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-amber-900 rounded-lg",children:c.jsx(Aa,{className:"h-5 w-5 text-amber-400"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-400",children:"Infiltration"}),c.jsxs("div",{className:"text-xl font-bold text-white",children:[((r?.characteristics.infiltrationRate||10)*.0393701).toFixed(2)," in/h"]})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700 xl:col-span-2",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("div",{className:"p-2 bg-amber-900 rounded-lg",children:c.jsx(Af,{className:"h-4 w-4 text-amber-400"})}),c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Soil Water Profile"})]}),c.jsx("div",{style:{height:"400px"},children:c.jsx(nf,{data:u,options:x})}),c.jsx("div",{className:"mt-4 text-sm text-gray-400",children:"Shows water content at different soil depths. Green area indicates optimal irrigation range."})]}),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700 xl:col-span-2",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("div",{className:"p-2 bg-green-900 rounded-lg",children:c.jsx(iu,{className:"h-4 w-4 text-green-400"})}),c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Weekly Irrigation Schedule"})]}),c.jsx("div",{style:{height:"400px"},children:c.jsx(nf,{data:h,options:g})}),c.jsx("div",{className:"mt-4 text-sm text-gray-400",children:"Optimized schedule based on soil type and crop water requirements."})]}),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("div",{className:"p-2 bg-blue-900 rounded-lg",children:c.jsx(Qn,{className:"h-4 w-4 text-blue-400"})}),c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Water Balance"})]}),c.jsx("div",{style:{height:"300px"},children:c.jsx(xL,{data:f,options:{...g,scales:void 0,plugins:{...g.plugins,legend:{position:"bottom",labels:{color:"rgb(156, 163, 175)",padding:20}}}}})}),c.jsx("div",{className:"mt-4 text-sm text-gray-400",children:"Distribution of applied water showing system efficiency and losses."})]}),r&&c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-600",style:{backgroundColor:r.color}}),c.jsxs("h4",{className:"text-lg font-semibold text-white",children:[r.name," Properties"]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-400",children:"Water Holding Capacity"}),c.jsxs("div",{className:"text-lg font-semibold text-white",children:[r.characteristics.waterHoldingCapacity," mm/m"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-400",children:"Available Water"}),c.jsxs("div",{className:"text-lg font-semibold text-white",children:[r.characteristics.availableWaterCapacity," mm/m"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-400",children:"Field Capacity"}),c.jsxs("div",{className:"text-lg font-semibold text-white",children:[r.characteristics.fieldCapacity,"%"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-400",children:"Wilting Point"}),c.jsxs("div",{className:"text-lg font-semibold text-white",children:[r.characteristics.wiltingPoint,"%"]})]})]}),c.jsxs("div",{className:"p-3 bg-gray-900 rounded border border-gray-600",children:[c.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Texture"}),c.jsx("div",{className:"text-white",children:r.texture})]}),c.jsxs("div",{className:"p-3 bg-gray-900 rounded border border-gray-600",children:[c.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Description"}),c.jsx("div",{className:"text-white text-sm",children:r.characteristics.description})]}),c.jsxs("div",{className:"p-3 bg-gray-900 rounded border border-gray-600",children:[c.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Suitable Crops"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:r.commonCrops.map((y,v)=>c.jsx("span",{className:"text-xs bg-gray-700 text-gray-300 px-2 py-1 rounded",children:y},v))})]})]})]})]}),r&&c.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-green-900/50 p-6 rounded-lg border border-blue-700/50",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Irrigation Recommendations"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{className:"bg-black/20 p-4 rounded",children:[c.jsx("div",{className:"text-blue-400 font-medium mb-2",children:"Frequency"}),c.jsx("div",{className:"text-white",children:r.characteristics.infiltrationRate>20?"Daily":r.characteristics.infiltrationRate>10?"Every 2-3 days":r.characteristics.infiltrationRate>5?"Every 3-5 days":"Weekly or longer intervals"})]}),c.jsxs("div",{className:"bg-black/20 p-4 rounded",children:[c.jsx("div",{className:"text-green-400 font-medium mb-2",children:"Application Rate"}),c.jsxs("div",{className:"text-white",children:["Max ",Math.min(r.characteristics.infiltrationRate*.8,25).toFixed(1)," mm/hour"]})]}),c.jsxs("div",{className:"bg-black/20 p-4 rounded",children:[c.jsx("div",{className:"text-purple-400 font-medium mb-2",children:"Runoff Risk"}),c.jsx("div",{className:"text-white",children:r.characteristics.infiltrationRate>10?"Low":r.characteristics.infiltrationRate>5?"Medium":"High"})]})]})]})]})},TH=()=>{const{trialLocations:r,disableTrialMode:e,removeLocation:t}=Au(),[n,a]=I.useState(r[0]),[i,l]=I.useState(null),[u,h]=I.useState([]),[f,g]=I.useState(!0),[x,y]=I.useState(!1),[v,w]=I.useState("overview"),[_,S]=I.useState([]),[E,N]=I.useState([]),[T,M]=I.useState([]),[C,V]=I.useState(!1),[D,Y]=I.useState(null),[O,Q]=I.useState(null),[W,Z]=I.useState(!1),[xe,Fe]=I.useState(!1),[ke,te]=I.useState(!1),[ae,Te]=I.useState({crop:"",etSource:"weather-station",zoneFlowGPM:0,area:0,areaUnit:"acres",systemType:""}),[Oe,We]=I.useState(null);I.useEffect(()=>{const oe={temperature:22+Math.random()*10,humidity:60+Math.random()*20,windSpeed:5+Math.random()*10,precipitation:Math.random()*2,et0:4+Math.random()*3},Pe=[];setTimeout(()=>{l(oe),S(lk),h(Pe),g(!1)},1e3)},[n]),I.useEffect(()=>{if(_.length===0)return;const oe=i?.et0||5,Pe=E.map(Ee=>{const Xe=_.find(Ge=>Ge.id===Ee);if(!Xe)return null;const vt=new Date,Ht=(Ge=>({"Tree Nuts":120,"Tree Fruits":90,Berries:60,"Leafy Greens":30,Vegetables:45,"Field Crops":75,Herbs:40})[Ge.category]||60)(Xe);let Vt=Xe.stages[0],ut=Ht,F=0;for(const Ge of Xe.stages){if(Ht>=F&&Ht<F+Ge.duration){Vt=Ge,ut=Ht-F;break}F+=Ge.duration}Ht>=F&&(Vt=Xe.stages[Xe.stages.length-1],ut=Ht-(F-Vt.duration));const ne=new Date(vt.getTime()-Ht*24*60*60*1e3);return{crop:Xe.name,stage:Vt.name,kc:Vt.kc,daysSinceStage:Math.max(0,ut),etc:oe*Vt.kc,irrigationRecommendation:Vt.description,category:Xe.category,plantingDate:ne.toLocaleDateString()}}).filter(Boolean);h(Pe)},[E,_,i]);const K=oe=>{N(Pe=>Pe.includes(oe)?Pe.filter(Ee=>Ee!==oe):[...Pe,oe])},R=()=>{N(_.map(oe=>oe.id))},q=()=>{N([])},H=oe=>{Y(oe),V(!0)},G=oe=>{const Pe={...oe,id:Date.now().toString()};M(Ee=>[...Ee,Pe]),V(!1),Y(null)},se=oe=>{const Ee=(ut=>({"Tree Nuts":120,"Tree Fruits":90,Berries:60,"Leafy Greens":30,Vegetables:45,"Field Crops":75,Herbs:40})[ut.category]||60)(oe);let Xe=oe.stages[0],vt=0;for(const ut of oe.stages){if(Ee>=vt&&Ee<vt+ut.duration){Xe=ut;break}vt+=ut.duration}const jt=ut=>ut<.5?"Low":ut<.8?"Medium":ut<1.1?"High":"Very High",Ht=ut=>({"Tree Nuts":88,"Tree Fruits":85,Berries:82,"Leafy Greens":78,Vegetables:80,"Field Crops":75,Herbs:83})[ut]||80,Vt=(ut,F)=>({Initial:`Early ${F.toLowerCase()} growth - monitor establishment and adjust irrigation frequency`,Development:`Active growth phase - increase irrigation to support ${F.toLowerCase()} development`,"Mid-season":`Peak growth period - maintain consistent soil moisture for optimal ${F.toLowerCase()} production`,"Late season":"Maturation phase - adjust irrigation for harvest timing and quality"})[ut.name]||ut.description;return{crop:oe.name,currentStage:Xe.name,waterNeeds:jt(Xe.kc),efficiency:Ht(oe.category),recommendation:Vt(Xe,oe.category)}},J=oe=>{switch(oe.toLowerCase()){case"initial":return"text-blue-400";case"development":return"text-yellow-400";case"mid-season":return"text-green-400";case"late season":return"text-orange-400";default:return"text-gray-400"}},Se=oe=>oe>=90?"text-green-400":oe>=80?"text-yellow-400":"text-red-400",be=oe=>{const Ee={almonds:120,grapes:90,strawberries:60,lettuce:30}[oe.id]||60;let Xe=oe.stages[0],vt=0;for(const jt of oe.stages){if(Ee>=vt&&Ee<vt+jt.duration){Xe=jt;break}vt+=jt.duration}return Xe.kc},je=oe=>{switch(oe){case"High":return"bg-red-900 text-red-300";case"Medium":return"bg-yellow-900 text-yellow-300";case"Low":return"bg-green-900 text-green-300";default:return"bg-gray-900 text-gray-300"}},ft=(oe,Pe)=>oe.stages.findIndex(Ee=>Ee.name===Pe)+1,it=oe=>{const Pe=oe.stages.map(vt=>vt.kc),Ee=Math.min(...Pe),Xe=Math.max(...Pe);return`${Ee.toFixed(2)} - ${Xe.toFixed(2)}`},ar=[{id:"drip",name:"Drip Irrigation",efficiency:.9,description:"High efficiency, precise water application"},{id:"micro",name:"Micro Sprinklers",efficiency:.85,description:"Medium efficiency, good coverage"},{id:"pivot",name:"Center Pivot",efficiency:.8,description:"Large area coverage, moderate efficiency"},{id:"sprinkler",name:"Overhead Sprinklers",efficiency:.75,description:"Traditional system, lower efficiency"},{id:"flood",name:"Flood/Furrow",efficiency:.6,description:"Low efficiency, simple system"}],rt=oe=>{let Pe=i?.et0||5;oe.etSource==="manual"&&oe.manualET&&(Pe=oe.manualET/.0393701);let Ee=1;if(oe.kcValue)Ee=oe.kcValue;else if(oe.growthStage&&oe.crop){const Qe=_.find(Pt=>Pt.name.toLowerCase()===oe.crop.toLowerCase());if(Qe){const Pt=Qe.stages.find(dr=>dr.name.toLowerCase()===oe.growthStage?.toLowerCase());Pt&&(Ee=Pt.kc)}}const Xe=Pe*Ee,vt=oe.areaUnit==="acres"?oe.area*43560:oe.area,jt=Xe*.0393701,Ht=vt*jt*.623,ut=ar.find(Qe=>Qe.id===oe.systemType)?.efficiency||.75,F=Ht/ut,ne=F/(oe.zoneFlowGPM*60),Ge=ne%1*60,Je=ne*7,bt=`Runtime = (Area  ETc  0.623)  (System Efficiency  Flow Rate  60)
= (${vt.toLocaleString()} sq ft  ${jt.toFixed(3)} in/day  0.623)  (${ut}  ${oe.zoneFlowGPM} GPM  60)
= ${F.toFixed(0)} gallons/day  ${(oe.zoneFlowGPM*60).toFixed(0)} gallons/hour
= ${ne.toFixed(2)} hours/day`;return{dailyWaterNeed:F,runtimeHours:Math.floor(ne),runtimeMinutes:Math.round(Ge),weeklyHours:Je,efficiency:ut*100,formula:bt,etc:Xe}};return f?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-400 mx-auto mb-4"}),c.jsxs("p",{className:"text-gray-300",children:["Loading trial data for ",n.name,"..."]})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsxs("div",{className:"flex h-screen w-full",children:[c.jsxs("div",{className:`
          fixed inset-y-0 left-0 z-50 w-80 bg-gray-800 border-r border-gray-700
          transform transition-transform duration-300 ease-in-out
          lg:translate-x-0 lg:static lg:inset-0
          ${x?"translate-x-0":"-translate-x-full"}
        `,children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-700",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ks,{className:"h-6 w-6 text-blue-400"}),c.jsx("h1",{className:"text-lg font-semibold text-white",children:"ET Weather"})]}),c.jsx("button",{onClick:()=>y(!1),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-300 hover:bg-gray-700",children:c.jsx(Hr,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"p-6 overflow-y-auto h-full",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Locations"}),c.jsx("button",{onClick:()=>te(!0),className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Add New Location",children:c.jsx(ss,{className:"w-4 h-4"})})]}),r.map(oe=>c.jsx("div",{className:"relative group",children:c.jsx("button",{onClick:()=>a(oe),className:`w-full text-left p-4 rounded-lg transition-all border ${n.id===oe.id?"bg-blue-600 text-white border-blue-500":"bg-gray-800 text-gray-300 hover:bg-gray-700 border-gray-700"}`,children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${n.id===oe.id?"bg-blue-700":"bg-gray-700"}`,children:c.jsx(xn,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-sm truncate",children:oe.name}),c.jsx("div",{className:"text-xs opacity-75 mt-1",children:oe.region}),c.jsxs("div",{className:"text-xs opacity-60 mt-1 font-mono",children:[oe.latitude?.toFixed(4),", ",oe.longitude?.toFixed(4),""]}),c.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Wi,{className:"h-3 w-3"}),c.jsxs("span",{className:"text-xs",children:[i?.temperature?(i.temperature*9/5+32).toFixed(0):"--","F"]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Qn,{className:"h-3 w-3"}),c.jsxs("span",{className:"text-xs",children:[i?.humidity?.toFixed(0)||"--","%"]})]})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:Pe=>{Pe.stopPropagation()},className:"p-1.5 text-yellow-400 hover:text-yellow-300 rounded-lg hover:bg-gray-600/50 transition-colors",title:"Add to Favorites",children:c.jsx(gl,{className:"h-3 w-3"})}),c.jsx("button",{onClick:Pe=>{Pe.stopPropagation()},className:"p-1.5 text-blue-400 hover:text-blue-300 rounded-lg hover:bg-gray-600/50 transition-colors",title:"Edit Location",children:c.jsx(ER,{className:"h-3 w-3"})}),r.length>1&&c.jsx("button",{onClick:Pe=>{if(Pe.stopPropagation(),n.id===oe.id&&r.length>1){const Ee=r.findIndex(vt=>vt.id===oe.id),Xe=r[Ee===0?1:0];a(Xe)}t(oe.id)},className:"p-1.5 text-red-400 hover:text-red-300 rounded-lg hover:bg-gray-600/50 transition-colors",title:"Remove Location",children:c.jsx(Xs,{className:"h-3 w-3"})})]})]})})},oe.id))]})})]}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsx("header",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:()=>y(!0),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-300 hover:bg-gray-700",children:c.jsx(qx,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:n.name}),c.jsx("p",{className:"text-gray-400 text-sm",children:n.region})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center space-x-1 bg-gray-700 rounded-lg p-1",children:[c.jsxs("button",{onClick:()=>w("overview"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${v==="overview"?"bg-gray-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:[c.jsx(da,{className:"h-4 w-4 mr-1 inline"}),"Overview"]}),c.jsxs("button",{onClick:()=>w("coefficients"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${v==="coefficients"?"bg-gray-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:[c.jsx(lx,{className:"h-4 w-4 mr-1 inline"}),"Coefficients"]}),c.jsxs("button",{onClick:()=>w("calculator"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${v==="calculator"?"bg-gray-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:[c.jsx(Ks,{className:"h-4 w-4 mr-1 inline"}),"Calculator"]}),c.jsxs("button",{onClick:()=>w("reports"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${v==="reports"?"bg-gray-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:[c.jsx(Aa,{className:"h-4 w-4 mr-1 inline"}),"Reports"]}),c.jsxs("button",{onClick:()=>w("emails"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${v==="emails"?"bg-gray-800 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:[c.jsx(Qs,{className:"h-4 w-4 mr-1 inline"}),"Emails"]})]}),c.jsx("button",{onClick:e,className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Exit Trial"})]})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto p-6 w-full",children:v==="overview"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h2",{className:"text-xl font-semibold text-white mb-4",children:["Current Weather - ",n.name]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-700 rounded-lg text-red-400",children:c.jsx(Wi,{className:"h-5 w-5"})}),c.jsx("h3",{className:"text-base font-semibold text-white",children:"Temperature"})]}),c.jsx(Aa,{className:"h-4 w-4 text-red-400"})]}),c.jsxs("div",{className:"flex items-baseline space-x-2 mb-2",children:[c.jsx("span",{className:"text-2xl font-bold text-white",children:((i?.temperature||0)*9/5+32).toFixed(1)}),c.jsx("span",{className:"text-sm text-gray-400 font-mono",children:"F"})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Above average for this time of year"})]}),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-700",children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-700 rounded-lg text-blue-400",children:c.jsx(Qn,{className:"h-5 w-5"})}),c.jsx("h3",{className:"text-base font-semibold text-white",children:"Humidity"})]})}),c.jsxs("div",{className:"flex items-baseline space-x-2 mb-2",children:[c.jsx("span",{className:"text-2xl font-bold text-white",children:i?.humidity.toFixed(0)}),c.jsx("span",{className:"text-sm text-gray-400 font-mono",children:"%"})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Optimal range for most crops"})]}),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-700",children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-700 rounded-lg text-gray-400",children:c.jsx(Of,{className:"h-5 w-5"})}),c.jsx("h3",{className:"text-base font-semibold text-white",children:"Wind Speed"})]})}),c.jsxs("div",{className:"flex items-baseline space-x-2 mb-2",children:[c.jsx("span",{className:"text-2xl font-bold text-white",children:((i?.windSpeed||0)*.621371).toFixed(1)}),c.jsx("span",{className:"text-sm text-gray-400 font-mono",children:"mph"})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Light breeze conditions"})]}),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-700",children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-700 rounded-lg text-indigo-400",children:c.jsx(Qn,{className:"h-5 w-5"})}),c.jsx("h3",{className:"text-base font-semibold text-white",children:"Precipitation"})]})}),c.jsxs("div",{className:"flex items-baseline space-x-2 mb-2",children:[c.jsx("span",{className:"text-2xl font-bold text-white",children:((i?.precipitation||0)*.0393701).toFixed(2)}),c.jsx("span",{className:"text-sm text-gray-400 font-mono",children:"in"})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Recent rainfall recorded"})]}),c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-700",children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-700 rounded-lg text-green-400",children:c.jsx(da,{className:"h-5 w-5"})}),c.jsx("h3",{className:"text-base font-semibold text-white",children:"Reference ET"})]})}),c.jsxs("div",{className:"flex items-baseline space-x-2 mb-2",children:[c.jsx("span",{className:"text-2xl font-bold text-white",children:((i?.et0||0)*.0393701).toFixed(2)}),c.jsx("span",{className:"text-sm text-gray-400 font-mono",children:"in/day"})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Base for Kc calculations"})]})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:"Crop Insights"}),c.jsxs("p",{className:"text-sm text-gray-400",children:[E.length," of ",_.length," crops selected"]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>Fe(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[c.jsx(da,{className:"h-4 w-4"}),c.jsx("span",{children:"Manage Crops"})]}),E.length>0&&c.jsx("button",{onClick:q,className:"bg-red-600 hover:red-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Clear All"})]})]}),T.length>0&&c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Your Crop Plantings"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(oe=>{const Pe=_.find(F=>F.id===oe.cropId);if(!Pe)return null;const Ee=Math.floor((new Date().getTime()-new Date(oe.plantingDate).getTime())/(1e3*60*60*24));let Xe=0,vt=oe.currentStage;for(let F=0;F<oe.currentStage;F++)Xe+=Pe.stages[F].duration;const jt=Pe.stages[vt],Ht=Ee-Xe,Vt=oe.customStageDays??jt.duration,ut=Math.min(100,Ht/Vt*100);return c.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white",children:Pe.name}),oe.fieldName&&c.jsx("p",{className:"text-sm text-gray-400",children:oe.fieldName}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Planted: ",new Date(oe.plantingDate).toLocaleDateString()]})]}),c.jsx("button",{onClick:()=>{M(F=>F.filter(ne=>ne.id!==oe.id))},className:"text-red-400 hover:text-red-300 transition-colors",title:"Remove crop instance",children:c.jsx(Xs,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[c.jsx("span",{className:"text-blue-400 font-medium",children:jt.name}),c.jsxs("span",{className:"text-gray-400",children:[Ht,"/",Vt," days"]})]}),c.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all ${ut>=100?"bg-orange-500":"bg-blue-500"}`,style:{width:`${Math.min(100,ut)}%`}})}),ut>=100&&c.jsx("p",{className:"text-orange-400 text-xs mt-1",children:" Stage complete - consider advancing"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{className:"bg-gray-900 p-2 rounded",children:[c.jsx("div",{className:"text-gray-400 text-xs",children:"Kc Value"}),c.jsx("div",{className:"text-white font-semibold",children:jt.kc})]}),c.jsxs("div",{className:"bg-gray-900 p-2 rounded",children:[c.jsx("div",{className:"text-gray-400 text-xs",children:"ET (in/day)"}),c.jsx("div",{className:"text-white font-semibold",children:(jt.kc*(i?.et0||5)).toFixed(1)})]})]}),c.jsx("div",{className:"mt-3 text-center",children:c.jsxs("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded-full text-gray-300",children:[Ee," days since planting"]})}),oe.notes&&c.jsx("div",{className:"mt-3 p-2 bg-gray-900 rounded border border-gray-600",children:c.jsx("p",{className:"text-xs text-gray-400",children:oe.notes})})]},oe.id)})})]}),E.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:E.map(oe=>{const Pe=_.find(Xe=>Xe.id===oe);if(!Pe)return null;const Ee=se(Pe);return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:Pe.name}),c.jsx("p",{className:"text-sm text-gray-400",children:Pe.category})]}),c.jsxs("span",{className:`text-sm font-medium ${Se(Ee.efficiency)}`,children:[Ee.efficiency,"% efficient"]})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 mb-4 border border-gray-600",children:[c.jsx("h4",{className:"text-sm font-semibold text-blue-400 mb-3",children:"Crop Coefficient (Kc) Details"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400",children:"Current Kc Value"}),c.jsx("p",{className:"text-lg font-bold text-blue-400",children:be(Pe).toFixed(2)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400",children:"ETc (in/day)"}),c.jsx("p",{className:"text-lg font-bold text-green-400",children:(be(Pe)*(i?.et0||5)*.0393701).toFixed(3)})]})]}),c.jsx("div",{className:"text-xs text-gray-300",children:c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-400",children:"Formula:"})," ETc = ET  Kc = ",((i?.et0||5)*.0393701).toFixed(3),"  ",be(Pe).toFixed(2)]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Water Needs"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("p",{className:"font-medium text-white",children:Ee.waterNeeds}),c.jsx("span",{className:`text-xs px-2 py-1 rounded ${je(Ee.waterNeeds)}`,children:Ee.waterNeeds==="High"?"":Ee.waterNeeds==="Medium"?"":""})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Current Stage"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("p",{className:"font-medium text-blue-400",children:Ee.currentStage}),c.jsxs("span",{className:`text-xs px-2 py-1 rounded ${J(Ee.currentStage)}`,children:["Stage ",ft(Pe,Ee.currentStage),"/4"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Coefficient Range"}),c.jsxs("p",{className:"text-sm text-gray-300",children:[it(Pe)," ",c.jsx("span",{className:"text-xs text-gray-500",children:"(across all stages)"})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Recommendation"}),c.jsx("p",{className:"text-gray-300",children:Ee.recommendation})]})]})]},oe)})}):c.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-8 text-center",children:[c.jsx(da,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Crops Selected"}),c.jsx("p",{className:"text-gray-400 mb-4",children:'Select crops from the "Select Crops" section above to view their specific insights and recommendations.'}),c.jsx("button",{onClick:()=>Fe(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Select Crops"})]})]})]}):v==="coefficients"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Crop Management - ",n.name]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>Fe(!xe),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[c.jsx(da,{className:"h-4 w-4"}),c.jsx("span",{children:"Manage Crops"})]}),E.length>0&&c.jsx("button",{onClick:q,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Clear All"}),c.jsx("div",{className:"text-xs text-gray-400 bg-gray-800 px-2 py-1 rounded border border-gray-600",children:c.jsx("button",{onClick:e,className:"hover:text-blue-400 transition-colors",children:"Create account for custom crops"})})]})]}),xe&&c.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Select Crops for this Location"}),c.jsx("button",{onClick:R,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"Add All"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:_.map(oe=>c.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${E.includes(oe.id)?"border-green-500 bg-green-900/20":"border-gray-600 bg-gray-700 hover:border-gray-500"}`,onClick:()=>K(oe.id),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"font-semibold text-white",children:oe.name}),c.jsx("div",{className:`w-4 h-4 rounded border-2 ${E.includes(oe.id)?"bg-green-500 border-green-500":"border-gray-400"}`,children:E.includes(oe.id)&&c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs",children:""})})})]}),c.jsx("p",{className:"text-sm text-gray-400 mb-2",children:oe.category}),c.jsxs("p",{className:"text-xs text-gray-500",children:[oe.stages.length," growth stages"]})]},oe.id))})]}),E.length>0&&c.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 mb-6",children:[c.jsxs("h3",{className:"text-white font-medium mb-2",children:["Active Crops at ",n.name,":"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(oe=>{const Pe=_.find(Ee=>Ee.id===oe);return Pe?c.jsx("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm",children:Pe.name},oe):null})})]})]}),u.length>0?c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:"Crop Coefficients (Kc) - Active Crops"}),c.jsx("div",{className:"text-sm text-gray-400",children:"ET  Kc = ETc (Crop Water Requirement)"})]}),c.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 mb-6",children:c.jsxs("p",{className:"text-gray-300 text-sm",children:[c.jsx("strong",{className:"text-white",children:"Crop coefficients (Kc)"})," adjust reference evapotranspiration (ET) to calculate actual crop water requirements (ETc). Values vary by crop growth stage: ",c.jsx("span",{className:"text-blue-400",children:"Initial (0.3-0.4)"}),",",c.jsx("span",{className:"text-yellow-400",children:" Development (0.4-0.8)"}),",",c.jsx("span",{className:"text-green-400",children:" Mid-season (0.8-1.2)"}),",",c.jsx("span",{className:"text-orange-400",children:" Late season (0.6-0.8)"}),"."]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map((oe,Pe)=>c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:oe.crop}),c.jsx("p",{className:"text-sm text-gray-400",children:oe.category})]}),c.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded ${J(oe.stage)} bg-gray-700`,children:oe.stage})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Kc Value"}),c.jsx("p",{className:"text-xl font-bold text-blue-400",children:oe.kc.toFixed(2)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"ETc (in/day)"}),c.jsx("p",{className:"text-xl font-bold text-green-400",children:(oe.etc*.0393701).toFixed(3)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Planted"}),c.jsx("p",{className:"text-white text-sm",children:oe.plantingDate})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Days in Stage"}),c.jsxs("p",{className:"text-white",children:[oe.daysSinceStage," days"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Stage Description"}),c.jsx("p",{className:"text-gray-300 text-sm",children:oe.irrigationRecommendation})]})]})]},Pe))})]}):c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-8 text-center",children:[c.jsx(da,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Crops Selected"}),c.jsx("p",{className:"text-gray-400 mb-4",children:'Select crops from the "Manage Crops" section above to view their coefficient data and irrigation requirements.'}),c.jsx("button",{onClick:()=>Fe(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Add Crops"})]})})]}):v==="reports"?c.jsx(c.Fragment,{children:c.jsx(NN,{locationName:n.name})}):v==="emails"?c.jsx(c.Fragment,{children:c.jsx(ok,{})}):c.jsx(c.Fragment,{children:c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:"Irrigation Runtime Calculator"}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Calculate exact irrigation runtimes for your specific setup"}),c.jsx("div",{className:"text-xs text-gray-400 bg-gray-800 px-2 py-1 rounded border border-gray-600",children:c.jsx("button",{onClick:e,className:"hover:text-blue-400 transition-colors",children:"Create account for saved calculations"})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-8",children:[c.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6 xl:col-span-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Input Parameters"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Crop Type"}),c.jsxs("select",{value:ae.crop,onChange:oe=>Te({...ae,crop:oe.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Select Crop"}),_.map(oe=>c.jsx("option",{value:oe.name,children:oe.name},oe.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Growth Stage or Kc Value"}),c.jsxs("div",{className:"space-y-2",children:[ae.crop&&c.jsxs("select",{value:ae.growthStage||"",onChange:oe=>Te({...ae,growthStage:oe.target.value,kcValue:void 0}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Select Growth Stage"}),_.find(oe=>oe.name===ae.crop)?.stages.map(oe=>c.jsxs("option",{value:oe.name,children:[oe.name," (Kc: ",oe.kc,")"]},oe.name))]}),c.jsx("div",{className:"text-center text-gray-400 text-sm",children:"or"}),c.jsx("input",{type:"number",step:"0.01",placeholder:"Enter Kc value manually",value:ae.kcValue||"",onChange:oe=>Te({...ae,kcValue:parseFloat(oe.target.value),growthStage:void 0}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ET Source"}),c.jsxs("select",{value:ae.etSource,onChange:oe=>Te({...ae,etSource:oe.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-blue-500",children:[c.jsxs("option",{value:"weather-station",children:["Current Weather Station (",((i?.et0||0)*.0393701).toFixed(3)," in/day)"]}),c.jsx("option",{value:"cimis",children:"CIMIS Data"}),c.jsx("option",{value:"manual",children:"Manual Entry"})]}),ae.etSource==="manual"&&c.jsx("input",{type:"number",step:"0.1",placeholder:"Enter ET in in/day",value:ae.manualET||"",onChange:oe=>Te({...ae,manualET:parseFloat(oe.target.value)}),className:"mt-2 w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Zone Flow Rate (GPM)"}),c.jsx("input",{type:"number",step:"0.1",placeholder:"e.g., 15.5",value:ae.zoneFlowGPM||"",onChange:oe=>Te({...ae,zoneFlowGPM:parseFloat(oe.target.value)}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Area"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("input",{type:"number",step:"0.1",placeholder:"e.g., 2.5",value:ae.area||"",onChange:oe=>Te({...ae,area:parseFloat(oe.target.value)}),className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-blue-500"}),c.jsxs("select",{value:ae.areaUnit,onChange:oe=>Te({...ae,areaUnit:oe.target.value}),className:"bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"acres",children:"Acres"}),c.jsx("option",{value:"sqft",children:"Sq Ft"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Irrigation System"}),c.jsxs("select",{value:ae.systemType,onChange:oe=>Te({...ae,systemType:oe.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Select System Type"}),ar.map(oe=>c.jsxs("option",{value:oe.id,children:[oe.name," (",(oe.efficiency*100).toFixed(0),"% efficiency)"]},oe.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Soil Type"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("div",{className:"flex-1",children:O?c.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-500",style:{backgroundColor:O.color}}),c.jsx("span",{children:O.name})]}),c.jsxs("span",{className:"text-xs text-gray-400",children:[O.characteristics.infiltrationRate," mm/h"]})]}):c.jsx("div",{className:"bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-400",children:"No soil type selected"})}),c.jsxs("button",{onClick:()=>Z(!0),className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg transition-colors whitespace-nowrap",children:[O?"Change":"Select"," Soil"]})]}),O&&c.jsx("div",{className:"mt-2 text-xs text-gray-400",children:O.characteristics.description})]}),c.jsx("button",{onClick:()=>{const oe=rt(ae);We(oe)},disabled:!ae.crop||!ae.zoneFlowGPM||!ae.area||!ae.systemType,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Calculate Runtime"})]})]}),c.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6 xl:col-span-3",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Calculation Results"}),Oe?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Daily Runtime"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[Oe.runtimeHours,"h ",Oe.runtimeMinutes,"m"]})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Weekly Hours"}),c.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[Oe.weeklyHours.toFixed(1),"h"]})]})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Daily Water Need"}),c.jsxs("p",{className:"text-xl font-bold text-white",children:[Oe.dailyWaterNeed.toLocaleString()," gallons/day"]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["At ",Oe.efficiency,"% system efficiency"]})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Calculation Formula"}),c.jsx("pre",{className:"text-xs text-gray-400 whitespace-pre-wrap font-mono",children:Oe.formula})]}),c.jsxs("div",{className:"bg-blue-900/20 border border-blue-700 rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-semibold text-blue-400 mb-2",children:"Template for Your App"}),c.jsx("p",{className:"text-xs text-gray-300 mb-2",children:"Copy this configuration for your irrigation management system:"}),c.jsx("pre",{className:"text-xs text-gray-400 bg-gray-900 p-3 rounded whitespace-pre-wrap",children:`{
  "block_id": "block_001",
  "crop": "${ae.crop}",
  "area": ${ae.area},
  "area_unit": "${ae.areaUnit}",
  "system_type": "${ae.systemType}",
  "flow_rate_gpm": ${ae.zoneFlowGPM},
  "efficiency": ${Oe.efficiency/100},
  "runtime_formula": "Area  ETc  0.623  (Efficiency  Flow  60)",
  "daily_runtime_hours": ${Oe.runtimeHours+Oe.runtimeMinutes/60},
  "update_frequency": "daily"
}`})]}),O&&c.jsx("div",{className:"mt-8",children:c.jsx(kH,{soilType:O,etcValue:Oe.etc,irrigationRuntime:Oe.runtimeHours+Oe.runtimeMinutes/60,systemEfficiency:Oe.efficiency,cropName:ae.crop})})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(lx,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Fill in the parameters and click Calculate to see your runtime results"})]})]})]})]})})})]})]}),c.jsx(_H,{isOpen:ke,onClose:()=>te(!1)}),c.jsx(wH,{isOpen:xe,onClose:()=>Fe(!1),availableCrops:_,selectedCrops:E,onCropToggle:K,onAddCropInstance:H,onAddAllCrops:R,onRemoveAllCrops:q}),D&&c.jsx(SH,{isOpen:C,onClose:()=>{V(!1),Y(null)},crop:D,onAddInstance:G}),c.jsx(EH,{isOpen:W,onClose:()=>Z(!1),onSoilSelect:oe=>{Q(oe),Z(!1)},selectedSoilId:O?.id})]})},Up=({children:r,currentPage:e})=>{const[t,n]=I.useState(!1),[a,i]=I.useState(!1),[l,u]=I.useState("signup"),h=hs(),g=e||(h.pathname==="/product"?"product":"home"),x=v=>{u(v),i(!0)},y=[{name:"Home",href:"/",id:"home"},{name:"Product",href:"/product",id:"product"}];return c.jsxs("div",{className:"min-h-screen bg-white",children:[c.jsxs("nav",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-50",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs(Vc,{to:"/",className:"flex items-center",children:[c.jsx(Qn,{className:"h-8 w-8 text-blue-600"}),c.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"ET Weather Pro"})]}),c.jsx("div",{className:"hidden md:flex items-center space-x-8",children:y.map(v=>c.jsx(Vc,{to:v.href,className:`text-sm font-medium transition-colors ${g===v.id?"text-blue-600":"text-gray-700 hover:text-blue-600"}`,children:v.name},v.name))}),c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[c.jsx("button",{onClick:()=>x("login"),className:"text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:"Sign In"}),c.jsx("button",{onClick:()=>x("signup"),className:"bg-blue-600 text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Get Started"})]}),c.jsx("div",{className:"md:hidden",children:c.jsx("button",{onClick:()=>n(!t),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 transition-colors",children:t?c.jsx(Hr,{className:"block h-6 w-6"}):c.jsx(qx,{className:"block h-6 w-6"})})})]})}),t&&c.jsx("div",{className:"md:hidden border-t border-gray-100",children:c.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white",children:[y.map(v=>c.jsx(Vc,{to:v.href,onClick:()=>n(!1),className:`block px-3 py-2 text-base font-medium rounded-md transition-colors ${g===v.id?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:v.name},v.name)),c.jsxs("div",{className:"pt-4 border-t border-gray-100 space-y-2",children:[c.jsx("button",{onClick:()=>x("login"),className:"block w-full text-left px-3 py-2 text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors",children:"Sign In"}),c.jsx("button",{onClick:()=>x("signup"),className:"block w-full text-left px-3 py-2 text-base font-medium bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Get Started"})]})]})})]}),c.jsx("main",{children:r}),c.jsx("footer",{className:"bg-gray-900 text-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"col-span-1 md:col-span-2",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(Qn,{className:"h-8 w-8 text-blue-400"}),c.jsx("span",{className:"ml-2 text-xl font-bold",children:"ET Weather Pro"})]}),c.jsx("p",{className:"text-gray-400 mb-4 max-w-md",children:"Professional weather monitoring and evapotranspiration calculations for agriculture, landscaping, and water management professionals."}),c.jsx("div",{className:"flex space-x-4",children:c.jsx("span",{className:"text-sm text-gray-400",children:" 2025 ET Weather Pro. All rights reserved."})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-white uppercase tracking-wider mb-4",children:"Product"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Features"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Integrations"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"API"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Documentation"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-white uppercase tracking-wider mb-4",children:"Support"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Help Center"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Contact Us"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"})})]})]})]})})}),c.jsx(Bu,{isOpen:a,onClose:()=>i(!1),initialMode:l})]})},z2=()=>{const[r,e]=I.useState(!1),{enableTrialMode:t}=Au(),n=()=>{t()},a=[{icon:c.jsx(Qn,{className:"h-6 w-6"}),title:"Precise ET Calculations",description:"Advanced evapotranspiration calculations using the latest meteorological data and proven agricultural models."},{icon:c.jsx(Wx,{className:"h-6 w-6"}),title:"Real-time Analytics",description:"Live weather monitoring with 14-day forecasts and historical data analysis for informed decision making."},{icon:c.jsx(xn,{className:"h-6 w-6"}),title:"Multi-location Support",description:"Monitor unlimited locations with precise coordinates and customizable alerts for each site."},{icon:c.jsx(Lc,{className:"h-6 w-6"}),title:"Team Collaboration",description:"Share data with your team, manage user permissions, and collaborate on irrigation decisions."},{icon:c.jsx(T4,{className:"h-6 w-6"}),title:"Automated Reports",description:"Schedule daily, weekly, or monthly reports delivered directly to your email inbox."},{icon:c.jsx(nl,{className:"h-6 w-6"}),title:"Enterprise Security",description:"Bank-level security with encrypted data transmission and secure user authentication."}],i=[{name:"Sarah Johnson",role:"Farm Manager",company:"Green Valley Farms",content:"ET Weather Pro has revolutionized our irrigation scheduling. We've reduced water usage by 30% while improving crop yields.",rating:5,avatar:"SJ"},{name:"Mike Rodriguez",role:"Landscape Contractor",company:"Desert Oasis Landscaping",content:"The precision of the ET calculations is incredible. Our clients love the water savings and healthier landscapes.",rating:5,avatar:"MR"},{name:"Dr. Emily Chen",role:"Research Scientist",company:"Agricultural Research Institute",content:"The data quality and accessibility makes this tool invaluable for our research projects and field studies.",rating:5,avatar:"EC"}],l=[{label:"Active Users",value:"10,000+"},{label:"Locations Monitored",value:"50,000+"},{label:"Water Saved",value:"1.2B Gallons"},{label:"Countries",value:"25+"}];return c.jsxs(Up,{currentPage:"home",children:[c.jsxs("section",{className:"relative bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 text-white overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),c.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 lg:py-32",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold leading-tight mb-6",children:["Professional Weather &",c.jsx("span",{className:"text-blue-300",children:" ET Monitoring"})]}),c.jsx("p",{className:"text-xl lg:text-2xl text-blue-100 mb-8 leading-relaxed",children:"Make smarter irrigation decisions with precise evapotranspiration calculations, real-time weather data, and automated reporting for agriculture and landscaping professionals."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("button",{onClick:n,className:"bg-green-500 text-white text-lg font-semibold px-8 py-4 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center",children:["Try Free Demo",c.jsx(Vi,{className:"ml-2 h-5 w-5"})]}),c.jsx("button",{onClick:n,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Start Free Demo"})]}),c.jsx("p",{className:"text-blue-200 text-sm mt-4",children:" Free demo with CA locations   Full functionality   No credit card required"})]}),c.jsx("div",{className:"relative",children:c.jsx("div",{className:"bg-white rounded-lg shadow-2xl p-6 transform rotate-3 hover:rotate-0 transition-transform duration-300",children:c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-gray-800 font-semibold",children:"Today's Weather"}),c.jsx("span",{className:"text-green-600 text-sm font-medium",children:"Live Data"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white rounded-lg p-3",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-800",children:"78F"}),c.jsx("div",{className:"text-sm text-gray-600",children:"High Temp"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-3",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:'0.15"'}),c.jsx("div",{className:"text-sm text-gray-600",children:"ET Today"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-3",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:"85%"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Humidity"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-3",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"8 mph"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Wind Speed"})]})]})]})})})]})})]}),c.jsx("section",{className:"bg-gray-50 py-16",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:l.map((u,h)=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:u.value}),c.jsx("div",{className:"text-gray-600 text-sm lg:text-base",children:u.label})]},h))})})}),c.jsx("section",{className:"py-24 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Everything You Need for Smart Irrigation"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our comprehensive platform provides all the tools and data you need to optimize water usage and improve crop health."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((u,h)=>c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[c.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:u.icon}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:u.title}),c.jsx("p",{className:"text-gray-600",children:u.description})]},h))})]})}),c.jsx("section",{className:"py-24 bg-gradient-to-br from-green-50 to-blue-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-6",children:"Reduce Water Usage by Up to 40%"}),c.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Make data-driven irrigation decisions that save water, reduce costs, and improve plant health with our advanced ET monitoring system."}),c.jsx("div",{className:"space-y-4",children:["Save 20-40% on water costs","Improve crop yields and quality","Reduce labor with automation","Meet sustainability goals"].map((u,h)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx(rr,{className:"h-6 w-6 text-green-500 mr-3"}),c.jsx("span",{className:"text-gray-700 text-lg",children:u})]},h))}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[c.jsx("button",{onClick:n,className:"bg-green-500 text-white text-lg font-semibold px-8 py-4 rounded-lg hover:bg-green-600 transition-colors",children:"Try Demo Now"}),c.jsx("button",{onClick:()=>e(!0),className:"bg-blue-600 text-white text-lg font-semibold px-8 py-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Start Free Trial"})]})]}),c.jsx("div",{className:"relative",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Water Savings Calculator"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Monthly Water Bill"}),c.jsx("input",{type:"text",placeholder:"$500",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Irrigated Area (acres)"}),c.jsx("input",{type:"text",placeholder:"10",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[c.jsx("div",{className:"text-green-800 font-semibold",children:"Potential Annual Savings"}),c.jsx("div",{className:"text-2xl font-bold text-green-600",children:"$1,800"}),c.jsx("div",{className:"text-sm text-green-600",children:"Based on 30% water reduction"})]})]})]})})]})})}),c.jsx("section",{className:"py-24 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Trusted by Professionals Worldwide"}),c.jsx("p",{className:"text-xl text-gray-600",children:"See what our customers are saying about ET Weather Pro"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((u,h)=>c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"flex items-center mb-4",children:[...Array(u.rating)].map((f,g)=>c.jsx(gl,{className:"h-5 w-5 text-yellow-400 fill-current"},g))}),c.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',u.content,'"']}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold mr-3",children:u.avatar}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-gray-900",children:u.name}),c.jsxs("div",{className:"text-sm text-gray-600",children:[u.role,", ",u.company]})]})]})]},h))})]})}),c.jsx("section",{className:"bg-blue-600 py-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4",children:"Ready to Optimize Your Irrigation?"}),c.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of professionals who trust ET Weather Pro for their irrigation decisions."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx("button",{onClick:n,className:"bg-green-500 text-white text-lg font-semibold px-8 py-4 rounded-lg hover:bg-green-600 transition-colors",children:"Try Free Demo"}),c.jsx("button",{onClick:()=>e(!0),className:"bg-white text-blue-600 text-lg font-semibold px-8 py-4 rounded-lg hover:bg-blue-50 transition-colors",children:"Start Your Free Demo"}),c.jsx("button",{className:"border-2 border-white text-white text-lg font-semibold px-8 py-4 rounded-lg hover:bg-white hover:text-blue-600 transition-colors",children:"Schedule a Demo"})]}),c.jsx("p",{className:"text-blue-200 text-sm mt-4",children:"No credit card required  Full featured demo  Instant access"})]})}),c.jsx(Bu,{isOpen:r,onClose:()=>e(!1),initialMode:"signup"})]})},jH=()=>{const[r,e]=I.useState(!1),[t,n]=I.useState("weather"),u=[{id:"weather",label:"Weather Data",features:[{icon:c.jsx(Wi,{className:"h-8 w-8"}),title:"Temperature Monitoring",description:"Real-time temperature data with min/max tracking and heat stress alerts"},{icon:c.jsx(M_,{className:"h-8 w-8"}),title:"Precipitation Tracking",description:"Accurate rainfall measurements and forecasts for irrigation planning"},{icon:c.jsx(Of,{className:"h-8 w-8"}),title:"Wind Speed & Direction",description:"Wind data for spray applications and ET calculations"},{icon:c.jsx(Vi,{className:"h-8 w-8"}),title:"Solar Radiation",description:"UV index and solar radiation measurements for crop growth optimization"},{icon:c.jsx(Ks,{className:"h-8 w-8"}),title:"Humidity & Pressure",description:"Atmospheric conditions that affect plant growth and disease pressure"},{icon:c.jsx(D4,{className:"h-8 w-8"}),title:"Evapotranspiration",description:"Precise ET calculations using Penman-Monteith and FAO methods"}]},{id:"analytics",label:"Analytics",features:[{icon:c.jsx(Wx,{className:"h-8 w-8"}),title:"Historical Analysis",description:"Access years of weather data to identify patterns and trends"},{icon:c.jsx(Aa,{className:"h-8 w-8"}),title:"Predictive Models",description:"AI-powered forecasting for better irrigation planning"},{icon:c.jsx(OO,{className:"h-8 w-8"}),title:"Data Export",description:"Export data in multiple formats for external analysis"},{icon:c.jsx(P_,{className:"h-8 w-8"}),title:"Smart Alerts",description:"Customizable notifications for weather events and irrigation needs"}]},{id:"integration",label:"Integration",features:[{icon:c.jsx(HR,{className:"h-8 w-8"}),title:"API Access",description:"RESTful API for integrating with your existing systems"},{icon:c.jsx(_R,{className:"h-8 w-8"}),title:"Mobile App",description:"Native iOS and Android apps for field monitoring"},{icon:c.jsx(O4,{className:"h-8 w-8"}),title:"Web Dashboard",description:"Responsive web interface accessible from any device"},{icon:c.jsx(GO,{className:"h-8 w-8"}),title:"Third-party Tools",description:"Integrate with irrigation controllers and farm management software"}]}];return c.jsxs(Up,{currentPage:"product",children:[c.jsx("section",{className:"bg-gradient-to-br from-blue-600 to-blue-800 text-white py-20",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Advanced Weather Intelligence for Smart Irrigation"}),c.jsx("p",{className:"text-xl lg:text-2xl text-blue-100 mb-8 max-w-4xl mx-auto",children:"Get precise evapotranspiration calculations, real-time weather monitoring, and intelligent analytics to optimize your irrigation decisions."}),c.jsx("button",{onClick:()=>e(!0),className:"bg-white text-blue-700 text-lg font-semibold px-8 py-4 rounded-lg hover:bg-blue-50 transition-colors",children:"Try It Free for 14 Days"})]})})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"See ET Weather Pro in Action"}),c.jsx("p",{className:"text-xl text-gray-600",children:"Experience the power of professional weather monitoring"})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"bg-gray-800 px-6 py-4 flex items-center",children:[c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),c.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),c.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]}),c.jsx("div",{className:"flex-1 text-center",children:c.jsx("span",{className:"text-gray-300 text-sm",children:"ET Weather Pro Dashboard"})})]}),c.jsx("div",{className:"p-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Current Conditions"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white rounded-lg p-3",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-800",children:"78F"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Temperature"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-3",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:'0.15"'}),c.jsx("div",{className:"text-sm text-gray-600",children:"ET Today"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-3",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:"85%"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Humidity"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-3",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"8 mph"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Wind"})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"7-Day ET Forecast"}),c.jsx("div",{className:"h-32 bg-gradient-to-r from-blue-100 to-green-100 rounded-lg flex items-end justify-between p-4",children:[.12,.15,.18,.14,.16,.13,.17].map((h,f)=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"bg-blue-500 rounded-t w-6",style:{height:`${h*200}px`}}),c.jsxs("span",{className:"text-xs text-gray-600 mt-1",children:[h,'"']})]},f))})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Smart Alerts"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center p-3 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx(rr,{className:"h-5 w-5 text-green-500 mr-2"}),c.jsx("span",{className:"text-sm text-green-800",children:"Irrigation completed"})]}),c.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[c.jsx(P_,{className:"h-5 w-5 text-yellow-500 mr-2"}),c.jsx("span",{className:"text-sm text-yellow-800",children:"High ET expected tomorrow"})]}),c.jsxs("div",{className:"flex items-center p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsx(M_,{className:"h-5 w-5 text-blue-500 mr-2"}),c.jsx("span",{className:"text-sm text-blue-800",children:'Rain forecast: 0.3" Monday'})]})]})]})]})})]})]})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Comprehensive Weather Intelligence Platform"}),c.jsx("p",{className:"text-xl text-gray-600",children:"Everything you need for professional irrigation management"})]}),c.jsx("div",{className:"flex justify-center mb-12",children:c.jsx("div",{className:"bg-gray-100 rounded-lg p-1 flex",children:u.map(h=>c.jsx("button",{onClick:()=>n(h.id),className:`px-6 py-3 rounded-md font-medium transition-colors ${t===h.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:h.label},h.id))})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:u.find(h=>h.id===t)?.features.map((h,f)=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-blue-100 text-blue-600 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4",children:h.icon}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:h.title}),c.jsx("p",{className:"text-gray-600",children:h.description})]},f))})]})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Built for Professionals"}),c.jsx("p",{className:"text-xl text-gray-600",children:"Enterprise-grade reliability and accuracy you can depend on"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[c.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Data Sources & Accuracy"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(rr,{className:"h-6 w-6 text-green-500 mr-3"}),c.jsx("span",{className:"text-gray-700",children:"NCEP GFS Global Weather Model"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(rr,{className:"h-6 w-6 text-green-500 mr-3"}),c.jsx("span",{className:"text-gray-700",children:"NOAA Weather Station Network"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(rr,{className:"h-6 w-6 text-green-500 mr-3"}),c.jsx("span",{className:"text-gray-700",children:"Satellite Imagery Integration"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(rr,{className:"h-6 w-6 text-green-500 mr-3"}),c.jsx("span",{className:"text-gray-700",children:"FAO Penman-Monteith ET Calculations"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(rr,{className:"h-6 w-6 text-green-500 mr-3"}),c.jsx("span",{className:"text-gray-700",children:"99.9% Uptime SLA"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"API & Integration"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(rr,{className:"h-6 w-6 text-green-500 mr-3"}),c.jsx("span",{className:"text-gray-700",children:"RESTful API with rate limiting"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(rr,{className:"h-6 w-6 text-green-500 mr-3"}),c.jsx("span",{className:"text-gray-700",children:"WebSocket real-time data streams"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(rr,{className:"h-6 w-6 text-green-500 mr-3"}),c.jsx("span",{className:"text-gray-700",children:"CSV, JSON, XML data export"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(rr,{className:"h-6 w-6 text-green-500 mr-3"}),c.jsx("span",{className:"text-gray-700",children:"Webhook notifications"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(rr,{className:"h-6 w-6 text-green-500 mr-3"}),c.jsx("span",{className:"text-gray-700",children:"SDK for popular languages"})]})]})]})]})]})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose ET Weather Pro?"}),c.jsx("p",{className:"text-xl text-gray-600",children:"See how we compare to other weather services"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full bg-white border border-gray-200 rounded-lg overflow-hidden",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Feature"}),c.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-blue-600",children:"ET Weather Pro"}),c.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-500",children:"Generic Weather"}),c.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-500",children:"Basic ET Tools"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:[{feature:"Precise ET Calculations",us:!0,generic:!1,basic:!0},{feature:"Real-time Weather Data",us:!0,generic:!0,basic:!1},{feature:"14-day Forecasts",us:!0,generic:!0,basic:!1},{feature:"Multiple Location Support",us:!0,generic:!1,basic:!1},{feature:"Team Collaboration",us:!0,generic:!1,basic:!1},{feature:"API Access",us:!0,generic:!1,basic:!1},{feature:"Automated Reports",us:!0,generic:!1,basic:!1},{feature:"24/7 Support",us:!0,generic:!1,basic:!1}].map((h,f)=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:h.feature}),c.jsx("td",{className:"px-6 py-4 text-center",children:h.us?c.jsx(rr,{className:"h-6 w-6 text-green-500 mx-auto"}):c.jsx("span",{className:"text-gray-400",children:""})}),c.jsx("td",{className:"px-6 py-4 text-center",children:h.generic?c.jsx(rr,{className:"h-6 w-6 text-green-500 mx-auto"}):c.jsx("span",{className:"text-gray-400",children:""})}),c.jsx("td",{className:"px-6 py-4 text-center",children:h.basic?c.jsx(rr,{className:"h-6 w-6 text-green-500 mx-auto"}):c.jsx("span",{className:"text-gray-400",children:""})})]},f))})]})})]})}),c.jsx("section",{className:"bg-blue-600 py-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4",children:"Ready to Experience Professional Weather Intelligence?"}),c.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Start your free demo today and see the difference accurate data makes."}),c.jsx("button",{onClick:()=>e(!0),className:"bg-white text-blue-600 text-lg font-semibold px-8 py-4 rounded-lg hover:bg-blue-50 transition-colors",children:"Start Free Demo"}),c.jsx("p",{className:"text-blue-200 text-sm mt-4",children:"No credit card required  Full access for 14 days"})]})}),c.jsx(Bu,{isOpen:r,onClose:()=>e(!1),initialMode:"signup"})]})},AH=()=>{const[r,e]=I.useState(!1),[t,n]=I.useState("monthly"),{enableTrialMode:a}=Au(),i=()=>{a()},l=[{name:"Starter",description:"Perfect for small farms and individual users",price:{monthly:29,annually:290},features:["Up to 3 locations","Real-time weather data","Basic ET calculations","7-day forecasts","Email notifications","Mobile app access","Basic support"],limitations:["No historical data export","No API access","No team collaboration"],popular:!1,color:"gray"},{name:"Professional",description:"Ideal for commercial operations and consultants",price:{monthly:79,annually:790},features:["Up to 25 locations","Advanced ET models","14-day forecasts","Historical data (5 years)","Data export (CSV, JSON)","Custom alerts","Team collaboration (5 users)","API access (1000 calls/day)","Priority support","Automated reports"],limitations:["Limited API calls","No white-label options"],popular:!0,color:"blue"},{name:"Enterprise",description:"For large organizations and research institutions",price:{monthly:199,annually:1990},features:["Unlimited locations","All ET calculation methods","Extended forecasts (21 days)","Full historical archive","Unlimited data export","Advanced analytics","Unlimited team members","Unlimited API access","24/7 dedicated support","Custom integrations","White-label options","SLA guarantee (99.9%)","On-premise deployment"],limitations:[],popular:!1,color:"purple"}],u=[{name:"Additional Locations",description:"Add more monitoring locations to your plan",price:"$2/location/month",icon:c.jsx(xn,{className:"h-6 w-6"})},{name:"Advanced Analytics",description:"Machine learning insights and predictive models",price:"$49/month",icon:c.jsx(Wx,{className:"h-6 w-6"})},{name:"API Rate Increase",description:"Increase API calls for heavy integration users",price:"$0.001/call",icon:c.jsx(qR,{className:"h-6 w-6"})},{name:"Premium Support",description:"Dedicated account manager and priority support",price:"$99/month",icon:c.jsx($O,{className:"h-6 w-6"})}],h=[{question:"What's included in the free trial?",answer:"The 14-day free trial includes full access to the Professional plan features, including up to 25 locations, API access, and team collaboration. No credit card required."},{question:"Can I change plans anytime?",answer:"Yes, you can upgrade or downgrade your plan at any time. Changes take effect immediately, and we'll prorate the billing accordingly."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards (Visa, MasterCard, American Express) and PayPal. Enterprise customers can also pay by invoice."},{question:"Is there a setup fee?",answer:"No, there are no setup fees or hidden charges. You only pay the monthly or annual subscription fee for your chosen plan."},{question:"What happens to my data if I cancel?",answer:"Your data remains accessible for 30 days after cancellation. You can export all your data during this period. After 30 days, data is permanently deleted."},{question:"Do you offer custom enterprise solutions?",answer:"Yes, we offer custom solutions for large enterprises, including on-premise deployments, custom integrations, and specialized SLAs. Contact our sales team for details."}],f=y=>y.color==="blue"?"bg-blue-600 hover:bg-blue-700 text-white":y.color==="purple"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white",g=y=>{const v=y.price[t];return t==="annually"?Math.round(v/12):v},x=y=>{const v=y.price.monthly*12,w=v-y.price.annually;return Math.round(w/v*100)};return c.jsxs(Up,{currentPage:"pricing",children:[c.jsx("section",{className:"bg-gradient-to-br from-blue-600 to-blue-800 text-white py-20",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Simple, Transparent Pricing"}),c.jsx("p",{className:"text-xl lg:text-2xl text-blue-100 mb-6",children:"Choose the plan that fits your needs. All plans include core weather monitoring and ET calculations."}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:i,className:"bg-green-500 text-white text-lg font-semibold px-6 py-3 rounded-lg hover:bg-green-600 transition-colors inline-flex items-center",children:[c.jsx(Vi,{className:"mr-2 h-5 w-5"}),"Try Free Demo (CA Locations)"]}),c.jsx("p",{className:"text-blue-200 text-sm mt-2",children:"No signup required  Instant access"})]}),c.jsxs("div",{className:"flex items-center justify-center mb-8",children:[c.jsx("span",{className:`mr-3 ${t==="monthly"?"text-white":"text-blue-200"}`,children:"Monthly"}),c.jsx("button",{onClick:()=>n(t==="monthly"?"annually":"monthly"),className:"relative inline-flex h-6 w-11 items-center rounded-full bg-blue-400 transition-colors focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2",children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t==="annually"?"translate-x-6":"translate-x-1"}`})}),c.jsx("span",{className:`ml-3 ${t==="annually"?"text-white":"text-blue-200"}`,children:"Annually"}),t==="annually"&&c.jsx("span",{className:"ml-3 bg-green-500 text-white px-2 py-1 rounded-full text-sm font-medium",children:"Save up to 17%"})]})]})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:l.map((y,v)=>c.jsxs("div",{className:`bg-white rounded-2xl shadow-lg overflow-hidden ${y.popular?"ring-2 ring-blue-500 transform scale-105":""}`,children:[y.popular&&c.jsx("div",{className:"bg-blue-500 text-white text-center py-2 px-4",children:c.jsxs("span",{className:"font-medium flex items-center justify-center",children:[c.jsx(gl,{className:"h-4 w-4 mr-1"}),"Most Popular"]})}),c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:y.name}),c.jsx("p",{className:"text-gray-600 mb-4",children:y.description}),c.jsxs("div",{className:"flex items-baseline justify-center",children:[c.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",g(y)]}),c.jsx("span",{className:"text-gray-600 ml-1",children:"/month"})]}),t==="annually"&&c.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["Save ",x(y),"% annually"]})]}),c.jsx("button",{onClick:()=>e(!0),className:`w-full py-3 px-4 rounded-lg font-semibold transition-colors mb-6 ${f(y)}`,children:"Start Free Trial"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-gray-900",children:"Included features:"}),c.jsx("ul",{className:"space-y-3",children:y.features.map((w,_)=>c.jsxs("li",{className:"flex items-start",children:[c.jsx(rr,{className:"h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:w})]},_))}),y.limitations.length>0&&c.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Not included:"}),c.jsx("ul",{className:"space-y-2",children:y.limitations.map((w,_)=>c.jsxs("li",{className:"flex items-start",children:[c.jsx(Hr,{className:"h-5 w-5 text-gray-400 mr-3 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-500 text-sm",children:w})]},_))})]})]})]})]},v))})})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Optional Add-ons"}),c.jsx("p",{className:"text-xl text-gray-600",children:"Enhance your plan with additional features and services"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map((y,v)=>c.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[c.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-4",children:y.icon}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:y.name}),c.jsx("p",{className:"text-gray-600 text-sm mb-4",children:y.description}),c.jsx("div",{className:"text-lg font-bold text-blue-600",children:y.price})]},v))})]})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Compare Plans"}),c.jsx("p",{className:"text-xl text-gray-600",children:"Detailed feature comparison across all plans"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full bg-white border border-gray-200 rounded-lg overflow-hidden",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"Feature"}),c.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"Starter"}),c.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-blue-600",children:"Professional"}),c.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-purple-600",children:"Enterprise"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:[{feature:"Locations",starter:"3",professional:"25",enterprise:"Unlimited"},{feature:"Weather Data",starter:"",professional:"",enterprise:""},{feature:"ET Calculations",starter:"Basic",professional:"Advanced",enterprise:"All Methods"},{feature:"Forecast Range",starter:"7 days",professional:"14 days",enterprise:"21 days"},{feature:"Historical Data",starter:"1 year",professional:"5 years",enterprise:"Full Archive"},{feature:"Team Members",starter:"1",professional:"5",enterprise:"Unlimited"},{feature:"API Access",starter:"",professional:"1K calls/day",enterprise:"Unlimited"},{feature:"Data Export",starter:"",professional:"",enterprise:""},{feature:"Custom Alerts",starter:"Basic",professional:"",enterprise:""},{feature:"Support",starter:"Email",professional:"Priority",enterprise:"24/7 Dedicated"},{feature:"SLA",starter:"",professional:"",enterprise:"99.9%"}].map((y,v)=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:y.feature}),c.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:y.starter}),c.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:y.professional}),c.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:y.enterprise})]},v))})]})})]})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"text-center mb-12",children:c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"})}),c.jsx("div",{className:"space-y-8",children:h.map((y,v)=>c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:y.question}),c.jsx("p",{className:"text-gray-700",children:y.answer})]},v))})]})}),c.jsx("section",{className:"py-20 bg-gradient-to-br from-purple-600 to-purple-800 text-white",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx(AO,{className:"h-16 w-16 text-yellow-400"})}),c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Need a Custom Solution?"}),c.jsx("p",{className:"text-xl text-purple-100 mb-8",children:"We offer custom enterprise solutions including on-premise deployments, specialized integrations, and dedicated support teams."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx("button",{className:"bg-white text-purple-600 text-lg font-semibold px-8 py-4 rounded-lg hover:bg-purple-50 transition-colors",children:"Contact Sales"}),c.jsx("button",{className:"border-2 border-white text-white text-lg font-semibold px-8 py-4 rounded-lg hover:bg-white hover:text-purple-600 transition-colors",children:"Schedule Demo"})]})]})}),c.jsx("section",{className:"bg-blue-600 py-16",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4",children:"Start Your Free Trial Today"}),c.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"No credit card required. Full access to Professional features for 14 days."}),c.jsx("button",{onClick:()=>e(!0),className:"bg-white text-blue-600 text-lg font-semibold px-8 py-4 rounded-lg hover:bg-blue-50 transition-colors",children:"Get Started Free"})]})}),c.jsx(Bu,{isOpen:r,onClose:()=>e(!1),initialMode:"signup"})]})},CH=()=>{const{user:r,loading:e}=ju(),{isTrialMode:t}=Au();return e?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):c.jsx(J6,{children:c.jsxs(j6,{children:[t&&c.jsx(hn,{path:"/trial",element:c.jsx(TH,{})}),r?c.jsxs(c.Fragment,{children:[c.jsx(hn,{path:"/dashboard",element:c.jsx(pH,{})}),c.jsx(hn,{path:"/",element:c.jsx(Ja,{to:"/dashboard",replace:!0})}),c.jsx(hn,{path:"/home",element:c.jsx(Ja,{to:"/dashboard",replace:!0})}),c.jsx(hn,{path:"/product",element:c.jsx(Ja,{to:"/dashboard",replace:!0})}),c.jsx(hn,{path:"/pricing",element:c.jsx(Ja,{to:"/dashboard",replace:!0})}),c.jsx(hn,{path:"/trial",element:c.jsx(Ja,{to:"/dashboard",replace:!0})})]}):c.jsxs(c.Fragment,{children:[c.jsx(hn,{path:"/",element:t?c.jsx(Ja,{to:"/trial",replace:!0}):c.jsx(z2,{})}),c.jsx(hn,{path:"/home",element:t?c.jsx(Ja,{to:"/trial",replace:!0}):c.jsx(z2,{})}),c.jsx(hn,{path:"/product",element:c.jsx(jH,{})}),c.jsx(hn,{path:"/pricing",element:c.jsx(AH,{})}),c.jsx(hn,{path:"/dashboard",element:c.jsx(Ja,{to:t?"/trial":"/",replace:!0})})]}),c.jsx(hn,{path:"*",element:c.jsx(Ja,{to:r?"/dashboard":t?"/trial":"/",replace:!0})})]})})};function OH(){return c.jsx(Tj,{children:c.jsx(I5,{children:c.jsx(L5,{children:c.jsx(sA,{children:c.jsx(oA,{children:c.jsx(CH,{})})})})})})}console.log(" Production mode detected"),console.log(" Environment check:",{hasSupabaseUrl:!0,hasSupabaseKey:!0});Ej.createRoot(document.getElementById("root")).render(c.jsx(I.StrictMode,{children:c.jsx(OH,{})}));
//# sourceMappingURL=index-Rg_Yo5_Q.js.map
